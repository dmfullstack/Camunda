# Assignee Checker Plugin
A Plugin for [Camunda BPM](http://docs.camunda.org) that checks if assigned users exist and are members of the candidate group. This is prevents privilege escalation as well as invisible tasks that are not shown in any personal or group task list.

This project has been generated by the Maven archetype
[camunda-archetype-engine-plugin-7.6.2-SNAPSHOT](http://docs.camunda.org/latest/guides/user-guide/#process-applications-maven-project-templates-archetypes).

## Show me the important parts!
![BPMN Process](src/main/resources/process.png)

## How does it work?
A `TaskListener` that listens to assignment events is added to all BPMN User Tasks. When a user is assigned by the process or tries to claim a task, the listener first checks if the user is known to the identity service. If the user task has candidates configured, the listener checks if the user is either in the list of candidate users or a member of any candidate group. If any of these checks fail, an exception is throw that prohibits the operation to continue.  

## How to use it?
To get started refer to `InMemoryH2Test` and `camunda.cfg.xml`.
For using it in production you have to [integrate the plugin into your Camunda BPM configuration](https://docs.camunda.org/manual/latest/user-guide/process-engine/process-engine-plugins/).

## Environment Restrictions
Built and tested against Camunda BPM version 7.6.0.

## Known Limitations
- This plugin was not tested for multi-tenancy support.

## Improvements Backlog

## License
[Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0).

<!-- HTML snippet for index page
  <tr>
    <td><img src="snippets/engine-plugin-assignee-checker/src/main/resources/process.png" width="100"></td>
    <td><a href="snippets/engine-plugin-assignee-checker">Assignment Checker Plugin</a></td>
    <td>A Plugin for [Camunda BPM](http://docs.camunda.org) that checks if assigned users exist and are members of the candidate group.</td>
  </tr>
-->
<!-- Tweet
New @CamundaBPM example: Assignment Checker Plugin - A Plugin for [Camunda BPM](http://docs.camunda.org) that checks if assigned users exist and are members of the candidate group. https://github.com/camunda/camunda-consulting/tree/master/snippets/engine-plugin-assignee-checker
-->