!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).CockpitPluginsEE=e()}}(function(){return function s(o,r,c){function l(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var a=r[n]={exports:{}};o[n][0].call(a.exports,function(e){return l(o[n][1][e]||e)},a,a.exports,s,o,r,c)}return r[n].exports}for(var d="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,n,t){"use strict";var _=e("angular");n.exports=function(I){return["$scope","$timeout","$location","$translate","search","control","processData","processDiagram","PluginProcessInstanceResource",function(d,u,p,t,i,e,n,a,s){function f(e){var n=_.copy(i());"history"===I?n.detailsTab=v:n.tab=v,i.updateSilently(n),d.processData.set("filter",{activityIds:[e[0].activityId],activityInstanceIds:e.map(function(e){return e.id})})}function o(e,n){g[e]||(g[e]=_.element('<button type="button" role="button" class="btn btn-sm btn-default call-btn activity-top-right-position">\n  <span class="glyphicon glyphicon glyphicon-link"></span>\n</button>\n').hide(),g[e].tooltip({container:"body",title:t.instant("PLUGIN_ACTIVITY_INSTANCE_SHOW_CALLED_PROCESS_INSTANCES"),placement:"top",animation:!1}),h.add(e,{position:{top:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:g[e]}),function(n,e,t){function i(){arguments[0].apply(this,Array.prototype.slice.call(arguments,1));var e=d.$root.$$phase;"$apply"!==e&&"$digest"!==e&&d.$apply()}function a(e){l=u(function(){n.hide()},e)}function s(){return l&&u.cancel(l)}function o(){n.show(),i(s)}function r(e){var n="/process-instance/"+e.calledProcessInstanceId+"/"+I;p.url(n)}var c=_.element('[data-element-id="'+e+'"]'),l=null;c.on("mouseover",o),c.on("mouseout",function(){a(50)}),n.on("mouseover",o),n.on("mouseout",function(){a(100)}),n.on("click",function(){return n.tooltip("hide"),1<t.length?i(f,t):i(r,t[0])}),d.$on("$destroy",function(){n.off("mouseover mouseout click"),c.off("mouseover mouseout")})}(g[e],e,n))}function r(n){Object.keys(n).map(function(e){return n[e][0].calledProcessInstanceId&&o(e,n[e])})}function c(e,t){return e.reduce(function(e,n){return t[n]&&0<t[n].length&&(e[n]=t[n]),e},{})}var l,g={},h=e.getViewer().get("overlays"),m=e.getViewer().get("elementRegistry"),v="called-process-instances-tab",y=(l=[],m.forEach(function(e){var n=e.businessObject;n.$instanceOf("bpmn:CallActivity")&&l.push(n.id)}),l),b={};"history"===I?y.length&&n.observe("activityIdToInstancesMap",function(e){b=c(y,e),r(b)}):y.length&&n.observe(["activityIdToInstancesMap","processInstance"],function(e,n){b=c(y,e),s.processInstances({id:n.id},function(e){return e.forEach(function(e){var n=b[e.callActivityId];n&&n.length&&(n[0].calledProcessInstanceId=e.id)}),r(b)})})}]}},{angular:"angular"}],2:[function(e,n,t){"use strict";var f=e("angular"),i=["$uibModalInstance","$scope","Notifications","Uri","instance","isProcessInstance","fixDate","$translate","camAPI",function(e,n,t,i,a,s,o,r,c){n.isProcessInstance=s,n.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date","Null","Object","Json","Xml"];var l=n.newVariable={name:null,type:"String",value:null},d=c.resource("process-instance"),u=c.resource("case-instance");n.$on("$routeChangeStart",function(){e.close(n.status)}),n.close=function(){e.close(n.status)};var p=n.isValid=function(){var e=f.element('[name="addVariableForm"]').scope();return!(!e||!e.addVariableForm)&&e.addVariableForm.$valid};n.save=function(){if(p()){n.status="PERFORM_SAVE";var e=f.extend({},l);"Date"===e.type&&(e.value=o(e.value)),(s?d:u).setVariable(a.id,e).then(function(){n.status="SUCCESS",t.addMessage({status:r.instant("VARIABLE_ADD_MESSAGE_STATUS_FINISHED"),message:r.instant("VARIABLE_ADD_MESSAGE_MESSAGE_ADD",{name:e.name}),exclusive:!0})}).catch(function(e){n.status="FAIL",t.addError({status:r.instant("VARIABLE_ADD_MESSAGE_STATUS_FINISHED"),message:r.instant("VARIABLE_ADD_MESSAGE_MESSAGE_ERROR",{message:e.message}),exclusive:!0})})}}}];n.exports={template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ isProcessInstance ? \'VARIABLE_ADD_MODAL_TITLE_PROCESS\' : \'VARIABLE_ADD_MODAL_TITLE_CASE\' | translate }}</h3>\n</div>\n\n<div class="modal-body add-variable-dialog">\n  <div notifications-panel></div>\n\n  <form class="form-horizontal"\n        name="addVariableForm"\n        novalidate\n        ng-submit="save()"\n        ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n        request-aware>\n    <fieldset>\n\n      <div class="form-group variable-name">\n        <label class="control-label col-xs-4"\n               for="variableName">{{ \'VARIABLE_ADD_VARIABLE_NAME\' | translate }}</label>\n        <div class="col-xs-8">\n          <input id="variableNameId"\n                 name="variableName"\n                 class="form-control"\n                 type="text"\n                 ng-model="newVariable.name"\n                 autofocus\n                 required />\n        </div>\n      </div>\n\n      <div class="form-group variable-type">\n        <label class="control-label col-xs-4"\n               for="variableType">{{ \'VARIABLE_ADD_VARIABLE_TYPE\' | translate }}</label>\n        <div class="col-xs-8">\n          <select id="variableTypeId"\n                  name="variableType"\n                  class="form-control"\n                  ng-options="variableType for variableType in variableTypes"\n                  ng-model="newVariable.type">\n          </select>\n        </div>\n      </div>\n\n      <div class="form-group variable-value">\n        <label class="control-label col-xs-4"\n               for="variableValue">{{ \'VARIABLE_ADD_VARIABLE_VALUE\' | translate }}</label>\n        <div class="col-xs-8">\n          <div variable="newVariable" form="addVariableForm"></div>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editDateValue.$error.datePattern">\n            {{ \'VARIABLE_ADD_VARIABLE_SUPPORTED\' | translate }}\n          </p>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editDateValue.$error.dateValue">\n            Invalid Date Value.\n          </p>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editIntegerValue.$error.numeric || this.addVariableForm.editFloatValue.$error.numeric"\n             translate="VARIABLE_ADD_VARIABLE_ONLY"\n             translate-values="{ type : newVariable.type }">\n          </p>\n        </div>\n      </div>\n\n    </fieldset>\n  </form>\n\n  <div ng-if="status === \'SUCCESS\' && isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_SUCCESS_PROCESS"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-if="status === \'SUCCESS\' && !isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_SUCCESS_CASE"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-show="status === \'FAIL\' && isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_FAIL_PROCESS"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-show="status === \'FAIL\' && !isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_FAIL_CASE"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close()"\n          ng-disabled="status === \'PERFORM_SAVE\'"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">{{ \'VARIABLE_ADD_CLOSE\' | translate }}</button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="save()"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid()">{{ \'VARIABLE_ADD_ADD\' | translate }}</button>\n\n  <button class="btn btn-primary"\n          ng-click="close()"\n          ng-show="status === \'SUCCESS\' || status === \'FAIL\'">{{ \'VARIABLE_ADD_OK\' | translate }}</button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html --\x3e\n',controller:i}},{angular:"angular"}],3:[function(e,n,t){"use strict";var v=e("angular"),i=["$http","$uibModalInstance","$scope","Notifications","Uri","basePath","history","readonly","variable","$translate",function(i,e,a,s,o,r,n,t,c,l){var d,u="beforeChange",p="changeSuccess";a.selectedTab="serialized",a.status=u,a.variable=v.copy(c),a.isJsonOrXml=c.type&&("json"===c.type.toLowerCase()||"xml"===c.type.toLowerCase()),a.readonly=t,a.currentValue=v.copy(c.value),a.isChangeDisabled=function(){return(a.isJsonOrXml?!v.element('[name="jsonXmlForm"]').scope().jsonXmlForm.$valid:"beforeChange"!==a.status)||!f()},a.$on("$routeChangeStart",function(){e.dismiss()}),a.selectTab=function(e){a.selectedTab=e,a.currentValue=v.copy(a.variable.value),a.currentDeserializedValue=v.copy(d),a.status=u},a.typeIn=function(e,n){g(n)?a.currentValue=e.currentValue:a.currentDeserializedValue=e.currentDeserializedValue,a.status=f(n)?"confirmChange":u};var f=a.hasChanged=function(e){return a.isJsonOrXml||g(e)?a.variable.value!==a.currentValue:d!=a.currentDeserializedValue};function g(e){return"serialized"===e}function h(){i({method:"GET",url:o.appUri(r+"?deserializeValue=false")}).then(function(e){c.value=e.data.value}).catch(v.noop)}function m(e){s.addMessage({status:l.instant("VARIABLE_INSPECT_VARIABLE"),message:l.instant("VARIABLE_INSPECT_MESSAGE_ADD",{name:e.name})})}a.change=function(){var e=!g(a.selectedTab),n=e?a.currentDeserializedValue:a.currentValue;if(a.isJsonOrXml&&(n=a.variable.value),"application/json"===c.valueInfo.serializationDataFormat||e)try{JSON.parse(n)}catch(e){return a.status=u,void s.addError({status:l.instant("VARIABLE_INSPECT_VARIABLE"),message:l.instant("VARIABLE_INSPECT_MESSAGE_ERR_1",{exception:e.message}),exclusive:!0})}e?function(e,n){var t=new FormData;t.append("data",new Blob([n],{type:"application/json"})),t.append("type",e.valueInfo.objectTypeName),i.post(o.appUri(r+"/data"),t,{transformRequest:v.identity,headers:{"Content-Type":void 0}}).then(function(){a.status=p,h(),m(e)})}(a.variable,n):function(e,n){var t={type:e.type,value:n,valueInfo:e.valueInfo};a.isJsonOrXml||(t.valueInfo=e.valueInfo);i({method:"PUT",url:o.appUri(r),data:t}).then(function(){a.status=p,h(),m(e)}).catch(function(){a.status=u,function(e){s.addError({status:l.instant("VARIABLE_INSPECT_VARIABLE"),message:l.instant("VARIABLE_INSPECT_MESSAGE_ERR_2",{name:e.name}),exclusive:!0})}(e)})}(a.variable,n)},a.isJsonOrXml||i({method:"GET",url:o.appUri("engine://engine/:engine/"+(n?"history/":"")+"variable-instance/"+c.id)}).then(function(e){(e=e.data).errorMessage?a.deserializationError=e.errorMessage:(d=JSON.stringify(e.value),a.currentDeserializedValue=v.copy(d))}).catch(function(e){a.deserializationError=e.message})}];n.exports={template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html --\x3e\n<div class="modal-header">\n  <h3 translate="VARIABLE_INSPECT_MODAL_TITLE"\n      translate-values="{ name: variable.name }"></h3>\n</div>\n\n\n<div class="modal-body variable-inspect">\n\n  <div notifications-panel></div>\n\n  <div ng-show="status === \'beforeChange\' || status === \'confirmChange\'">\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n      <label>{{ \'VARIABLE_INSPECT_OBJECT_TYPE_NAME\' | translate }}</label>\n      <code class="form-control-static"\n            cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n    </div>\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n      <label>{{ \'VARIABLE_INSPECT_SERIALIZATION_DATA\' | translate }}</label>\n      <code class="form-control-static"\n            cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n    </div>\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n\n      <ul class="nav nav-tabs">\n        <li ng-class="{ active: selectedTab === \'serialized\' }">\n          <a href ng-click="selectTab(\'serialized\')">{{ \'VARIABLE_INSPECT_SERIALIZED\' | translate }}</a>\n        </li>\n        <li ng-class="{ active: selectedTab === \'deserialized\' }">\n          <a href ng-click="selectTab(\'deserialized\')">{{ \'VARIABLE_INSPECT_DESERIALIZED\' | translate }}</a>\n        </li>\n      </ul>\n\n      <textarea ng-if="selectedTab === \'serialized\'"\n                name="currentValue"\n                ng-readonly="readonly"\n                ng-model="currentValue"\n                ng-keyup="typeIn(this, \'serialized\')"\n                rows="10"\n                class="form-control">\n      </textarea>\n\n      <div ng-if="selectedTab === \'deserialized\'">\n        <div uib-alert class="alert alert-danger"\n             ng-show="deserializationError">\n          <strong>{{ \'VARIABLE_INSPECT_DESERIALIZED_ERROR\' | translate }}</strong>\n          {{deserializationError}}\n        </div>\n\n        <div ng-show="!deserializationError">\n          <textarea name="currentDeserializedValue"\n                    ng-readonly="readonly"\n                    ng-model="currentDeserializedValue"\n                    ng-keyup="typeIn(this, \'deserialized\')"\n                    rows="10"\n                    class="form-control">\n          </textarea>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="isJsonOrXml"\n         class="form-group">\n        <form name="jsonXmlForm">\n          <label for="value"\n                 cam-widget-clipboard="variable.value"\n                 no-tooltip\n                 ng-class="{hovered: hovered === \'var-value\'}">\n            {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n          </label>\n          <div variable="variable"\n               readonly="readonly"\n               form="jsonXmlForm">\n          </div>\n        </form>\n\n    </div>\n\n  </div>\n\n  <div uib-alert class="alert alert-warning"\n       ng-show="status === \'confirmChange\'">\n    <span class="glyphicon glyphicon-alert"></span>\n    <strong>{{ \'VARIABLE_INSPECT_WARNING\' | translate }}</strong>\n    {{ \'VARIABLE_INSPECT_WARNING_MESSAGE\' | translate }}\n  </div>\n\n</div>\n\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss()"\n          ng-hide="status === \'changeSuccess\'">\n    {{ \'VARIABLE_INSPECT_CLOSE\' | translate }}\n  </button>\n\n  <![if gt IE 9]>\n    <button class="btn btn-primary"\n            ng-click="$close()"\n            ng-show="!readlonly && status === \'changeSuccess\'">\n      {{ \'VARIABLE_INSPECT_OK\' | translate }}\n    </button>\n\n    <button class="btn btn-primary"\n            ng-click="change()"\n            ng-disabled="isChangeDisabled()"\n            ng-hide="readonly || status !== \'beforeChange\'">\n      {{ \'VARIABLE_INSPECT_CHANGE\' | translate }}\n    </button>\n\n    <button class="btn btn-warning"\n            ng-click="change()"\n            ng-hide="readonly || status !== \'confirmChange\'">\n      {{ \'VARIABLE_INSPECT_CONFIRM_CHANGE\' | translate }}\n    </button>\n  <![endif]>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html --\x3e\n',controller:i}},{angular:"angular"}],4:[function(e,n,t){"use strict";var i=["$uibModalInstance","$scope","Notifications","Uri","basePath","variable","$translate","$cookies",function(e,a,s,o,r,c,l,d){var u,p="uploadFailed";a.status="beforeUpload",a.variable=c,a.$on("$routeChangeStart",function(){e.dismiss()}),a.upload=function(){function e(){a.$apply(function(){a.status=p,s.addError({status:l.instant("VARIABLE_UPLOAD_FILE"),message:l.instant("VARIABLE_UPLOAD_MESSAGE_ERR"),exclusive:!0})})}var n=new FormData;n.append("data",u),n.append("valueType",c.type);var t=new XMLHttpRequest;t.upload.addEventListener("progress",function(e){a.$apply(function(){a.status="performUpload",e.lengthComputable&&(a.progress=Math.round(100*e.loaded/e.total))})},!1),t.addEventListener("load",function(){!function(e){a.$apply(function(){204===e.status?(a.status="uploadSuccess",s.addMessage({status:l.instant("VARIABLE_UPLOAD_FILE"),message:l.instant("VARIABLE_UPLOAD_MESSAGE_ADD")})):(a.status=p,s.addError({status:l.instant("VARIABLE_UPLOAD_FILE"),message:l.instant("VARIABLE_UPLOAD_MESSAGE_ERR"),exclusive:!0}))})}(t)},!1),t.addEventListener("error",e,!1),t.addEventListener("abort",e,!1),t.open("POST",o.appUri(r+"/data"));var i=d.get("XSRF-TOKEN");i&&t.setRequestHeader("X-XSRF-TOKEN",i),t.send(n)},a.setFile=function(e){u=e.files[0]}}];n.exports={template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'VARIABLE_UPLOAD_MODAL_TITLE\' | translate }}</h3>\n</div>\n\n\x3c!--[if lt IE 10]>\n\nThis feature is unsupported in your Browser.\n\n<![endif]--\x3e\n\n<![if gt IE 9]>\n\n<div class="modal-body variable-upload">\n\n  <div notifications-panel></div>\n\n  <div ng-show="status === \'beforeUpload\'">\n\n    <p>{{ \'VARIABLE_UPLOAD_SELECT_FILE\' | translate }}:</p>\n\n    <p>\n      <input name="data"\n             type="file"\n             size="50"\n             maxlength="100000"\n             accept="*/*"\n             onchange="angular.element(this).scope().setFile(this)" />\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'performUpload\'"\n       translate="VARIABLE_UPLOAD_PROGRESS"\n       translate-values="{progress: progress}">\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss()"\n          ng-hide="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="$close()"\n          ng-show="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_OK\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="upload()"\n          ng-disabled="status !== \'beforeUpload\'"\n          ng-hide="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_UPLOAD\' | translate }}\n  </button>\n</div>\n\n<![endif]>\n\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html --\x3e\n',controller:i}},{}],5:[function(e,n,t){"use strict";n.exports=function(e,n){return-1!==e.indexOf(n)}},{}],6:[function(e,n,t){"use strict";var s={redirectToRuntime:function(e,n,t){var i=n+"/runtime";return s.redirectTo(i,t,!0)},replaceLastPathFragment:function(e,n,t,i){var a=n.replace(/[^/]*$/,e);return s.redirectTo(a,t,i)},redirectTo:function(e,n,t){var i,a=[];if(n&&t){var s="[object Array]"===Object.prototype.toString.call(t);for(i in n)s&&-1===t.indexOf(i)||a.push(i+"="+encodeURIComponent(n[i]))}return e+(a.length?"?"+a.join("&"):"")}};n.exports=s},{}],7:[function(e,n,t){"use strict";var o=e("camunda-commons-ui/vendor/angular"),r=e("camunda-commons-ui/vendor/moment"),c=e("./includes");function i(e){return encodeURI(e).replace(/#/g,"%23")}function a(e,n){return o.isObject(e)?function(i){return Object.keys(i).reduce(function(e,n){var t=i[n];return null!=t&&(e[n]=t),e},{})}(function(i,a){return Object.keys(i).reduce(function(e,n){var t=i[n];return c(a,n)&&(e[n]=t),e},{})}(e,n)):e}function s(e,n){return n.map(function(e,n){return{type:e,operator:"eq",value:n}}.bind(null,e))}n.exports={getSearchQueryForSearchType:function(e,n){return n=[].concat(n),i("searchQuery="+JSON.stringify(s(e,n)))},getActivityIdsFromUrlParams:function(e,n){var t=JSON.parse(n.searchQuery||"[]");return function(n,e){return e.filter(function(e){return e.type===n}).map(function(e){return e.value})}(e,t)},replaceActivitiesInSearchQuery:function(e,n,t){return function(n,e){return e.filter(function(e){return e.type!==n})}(n,e).concat(s(n,t))},createSearchQueryForSearchWidget:function(e,n,t){return e=o.isArray(e)?e:[],n=o.isArray(n)?n:[],t=o.isArray(t)?t:["variables"],n=n.concat(t),e.reduce(function(e,n,t,i){var a=function(e,n){var t=e.type.value.key,i=e.operator.value.key;return function(e){return-1!==e.indexOf("Date")}(t)&&(t=t.slice(0,-4)),!function(e){return c(["After","Before","Like"],e)}(i)||c(n,t)||(t+=i),t}(i,n),s=function(e){return!!e.basic||function(e,n,t){return"like"!==n.toLowerCase()||/(%)|(_)/.test(e.replace(/(\\%)|(\\_)/g,""))?t.allowDates&&l.test(e)?r(e,r.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):e:"%"+e+"%"}(e.value.value,e.operator.value.key,e)}(i);return c(n,a)&&(s=function(e,n){return{name:e.name.value,operator:e.operator.value.key,value:function(e){return isNaN(e)||""===e.trim()?"true"===e||"false"!==e&&("NULL"!==e?0!==e.indexOf("'")||e.lastIndexOf("'")!==e.length-1?e:e.substr(1,e.length-2):null):+e}(n)}}(i,s)),c(e,a)?t[a]=function(e,n,t){return o.isArray(e[n])?e[n].concat([t]):[t]}(t,a,s):t[a]=s,t}.bind(null,n,t),{})},shouldUpdateFilter:function(e,n,t){return t=o.isArray(t)?t:[],!o.equals(a(e,t),a(n,t))},createSearchesForActivityIds:s,encodeQuery:i,updateSearchValuesForTypeInCtrlMode:function(e,n,t){var i=function(e,n,t){return e.filter(function(e){return e.type!==t||!c(n,e.value)})}(e,t,n),a=function(e,n,t){var i=n.filter(function(e){return e.type===t}).map(function(e){return e.value});return e.filter(function(e){return!c(i,e)})}(t,e,n);return i.concat(s(n,a))}};var l=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/},{"./includes":5,"camunda-commons-ui/vendor/angular":10,"camunda-commons-ui/vendor/moment":11}],8:[function(e,n,t){"use strict";n.exports=e("angular")},{angular:"angular"}],9:[function(e,n,t){"use strict";n.exports=e("moment")},{moment:"moment"}],10:[function(e,n,t){"use strict";n.exports=e("camunda-bpm-sdk-js/vendor/angular")},{"camunda-bpm-sdk-js/vendor/angular":8}],11:[function(e,n,t){"use strict";n.exports=e("camunda-bpm-sdk-js/vendor/moment")},{"camunda-bpm-sdk-js/vendor/moment":9}],12:[function(e,n,t){var i,a;i=this,a=function(i){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var a={rgb2hsl:s,rgb2hsv:n,rgb2hwb:t,rgb2cmyk:o,rgb2keyword:c,rgb2xyz:l,rgb2lab:d,rgb2lch:function(e){return I(d(e))},hsl2rgb:u,hsl2hsv:function(e){var n=e[0],t=e[1]/100,i=e[2]/100;return 0!==i?[n,100*(2*(t*=(i*=2)<=1?i:2-i)/(i+t)),100*((i+t)/2)]:[0,0,0]},hsl2hwb:function(e){return t(u(e))},hsl2cmyk:function(e){return o(u(e))},hsl2keyword:function(e){return c(u(e))},hsv2rgb:p,hsv2hsl:function(e){var n,t,i=e[0],a=e[1]/100,s=e[2]/100;return n=a*s,[i,100*(n=(n/=(t=(2-a)*s)<=1?t:2-t)||0),100*(t/=2)]},hsv2hwb:function(e){return t(p(e))},hsv2cmyk:function(e){return o(p(e))},hsv2keyword:function(e){return c(p(e))},hwb2rgb:f,hwb2hsl:function(e){return s(f(e))},hwb2hsv:function(e){return n(f(e))},hwb2cmyk:function(e){return o(f(e))},hwb2keyword:function(e){return c(f(e))},cmyk2rgb:h,cmyk2hsl:function(e){return s(h(e))},cmyk2hsv:function(e){return n(h(e))},cmyk2hwb:function(e){return t(h(e))},cmyk2keyword:function(e){return c(h(e))},keyword2rgb:S,keyword2hsl:function(e){return s(S(e))},keyword2hsv:function(e){return n(S(e))},keyword2hwb:function(e){return t(S(e))},keyword2cmyk:function(e){return o(S(e))},keyword2lab:function(e){return d(S(e))},keyword2xyz:function(e){return l(S(e))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(e){return I(v(e))},lab2xyz:y,lab2rgb:_,lab2lch:I,lch2lab:E,lch2xyz:function(e){return y(E(e))},lch2rgb:function(e){return _(E(e))}};function s(e){var n,t,i=e[0]/255,a=e[1]/255,s=e[2]/255,o=Math.min(i,a,s),r=Math.max(i,a,s),c=r-o;return r==o?n=0:i==r?n=(a-s)/c:a==r?n=2+(s-i)/c:s==r&&(n=4+(i-a)/c),(n=Math.min(60*n,360))<0&&(n+=360),t=(o+r)/2,[n,100*(r==o?0:t<=.5?c/(r+o):c/(2-r-o)),100*t]}function n(e){var n,t,i=e[0],a=e[1],s=e[2],o=Math.min(i,a,s),r=Math.max(i,a,s),c=r-o;return t=0==r?0:c/r*1e3/10,r==o?n=0:i==r?n=(a-s)/c:a==r?n=2+(s-i)/c:s==r&&(n=4+(i-a)/c),(n=Math.min(60*n,360))<0&&(n+=360),[n,t,r/255*1e3/10]}function t(e){var n=e[0],t=e[1],i=e[2];return[s(e)[0],100*(1/255*Math.min(n,Math.min(t,i))),100*(i=1-1/255*Math.max(n,Math.max(t,i)))]}function o(e){var n,t=e[0]/255,i=e[1]/255,a=e[2]/255;return[100*((1-t-(n=Math.min(1-t,1-i,1-a)))/(1-n)||0),100*((1-i-n)/(1-n)||0),100*((1-a-n)/(1-n)||0),100*n]}function c(e){return D[JSON.stringify(e)]}function l(e){var n=e[0]/255,t=e[1]/255,i=e[2]/255;return[100*(.4124*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*n+.7152*t+.0722*i),100*(.0193*n+.1192*t+.9505*i)]}function d(e){var n=l(e),t=n[0],i=n[1],a=n[2];return i/=100,a/=108.883,t=.008856<(t/=95.047)?Math.pow(t,1/3):7.787*t+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(t-i),200*(i-(a=.008856<a?Math.pow(a,1/3):7.787*a+16/116))]}function u(e){var n,t,i,a,s,o=e[0]/360,r=e[1]/100,c=e[2]/100;if(0==r)return[s=255*c,s,s];n=2*c-(t=c<.5?c*(1+r):c+r-c*r),a=[0,0,0];for(var l=0;l<3;l++)(i=o+1/3*-(l-1))<0&&i++,1<i&&i--,s=6*i<1?n+6*(t-n)*i:2*i<1?t:3*i<2?n+(t-n)*(2/3-i)*6:n,a[l]=255*s;return a}function p(e){var n=e[0]/60,t=e[1]/100,i=e[2]/100,a=Math.floor(n)%6,s=n-Math.floor(n),o=255*i*(1-t),r=255*i*(1-t*s),c=255*i*(1-t*(1-s));i*=255;switch(a){case 0:return[i,c,o];case 1:return[r,i,o];case 2:return[o,i,c];case 3:return[o,r,i];case 4:return[c,o,i];case 5:return[i,o,r]}}function f(e){var n,t,i,a,s=e[0]/360,o=e[1]/100,c=e[2]/100,l=o+c;switch(1<l&&(o/=l,c/=l),i=6*s-(n=Math.floor(6*s)),0!=(1&n)&&(i=1-i),a=o+i*((t=1-c)-o),n){default:case 6:case 0:r=t,g=a,b=o;break;case 1:r=a,g=t,b=o;break;case 2:r=o,g=t,b=a;break;case 3:r=o,g=a,b=t;break;case 4:r=a,g=o,b=t;break;case 5:r=t,g=o,b=a}return[255*r,255*g,255*b]}function h(e){var n=e[0]/100,t=e[1]/100,i=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,i*(1-a)+a))]}function m(e){var n,t,i,a=e[0]/100,s=e[1]/100,o=e[2]/100;return t=-.9689*a+1.8758*s+.0415*o,i=.0557*a+-.204*s+1.057*o,n=.0031308<(n=3.2406*a+-1.5372*s+-.4986*o)?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(t=Math.min(Math.max(0,t),1)),255*(i=Math.min(Math.max(0,i),1))]}function v(e){var n=e[0],t=e[1],i=e[2];return t/=100,i/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116)-16,500*(n-t),200*(t-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function y(e){var n,t,i,a,s=e[0],o=e[1],r=e[2];return a=s<=8?(t=100*s/903.3)/100*7.787+16/116:(t=100*Math.pow((s+16)/116,3),Math.pow(t/100,1/3)),[n=n/95.047<=.008856?n=95.047*(o/500+a-16/116)/7.787:95.047*Math.pow(o/500+a,3),t,i=i/108.883<=.008859?i=108.883*(a-r/200-16/116)/7.787:108.883*Math.pow(a-r/200,3)]}function I(e){var n,t=e[0],i=e[1],a=e[2];return(n=360*Math.atan2(a,i)/2/Math.PI)<0&&(n+=360),[t,Math.sqrt(i*i+a*a),n]}function _(e){return m(y(e))}function E(e){var n,t=e[0],i=e[1];return n=e[2]/360*2*Math.PI,[t,i*Math.cos(n),i*Math.sin(n)]}function S(e){return w[e]}var w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},D={};for(var e in w)D[JSON.stringify(w[e])]=e;function N(){return new L}for(var T in a){N[T+"Raw"]=function(n){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),a[n](e)}}(T);var C=/(\w+)2(\w+)/.exec(T),P=C[1],A=C[2];(N[P]=N[P]||{})[A]=N[T]=function(i){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=a[i](e);if("string"==typeof n||void 0===n)return n;for(var t=0;t<n.length;t++)n[t]=Math.round(n[t]);return n}}(T)}var L=function(){this.convs={}};L.prototype.routeSpace=function(e,n){var t=n[0];return void 0===t?this.getValues(e):("number"==typeof t&&(t=Array.prototype.slice.call(n)),this.setValues(e,t))},L.prototype.setValues=function(e,n){return this.space=e,this.convs={},this.convs[e]=n,this},L.prototype.getValues=function(e){var n=this.convs[e];if(!n){var t=this.space,i=this.convs[t];n=N[t][e](i),this.convs[e]=n}return n},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(n){L.prototype[n]=function(e){return this.routeSpace(n,arguments)}});var k=N,O={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x={getRgba:R,getHsla:G,getRgb:function(e){var n=R(e);return n&&n.slice(0,3)},getHsl:function(e){var n=G(e);return n&&n.slice(0,3)},getHwb:M,getAlpha:function(e){var n=R(e);{if(n)return n[3];if(n=G(e))return n[3];if(n=M(e))return n[3]}},hexString:function(e,n){var n=void 0!==n&&3===e.length?n:e[3];return"#"+q(e[0])+q(e[1])+q(e[2])+(0<=n&&n<1?q(Math.round(255*n)):"")},rgbString:function(e,n){if(n<1||e[3]&&e[3]<1)return H(e,n);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:H,percentString:function(e,n){if(n<1||e[3]&&e[3]<1)return B(e,n);var t=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),a=Math.round(e[2]/255*100);return"rgb("+t+"%, "+i+"%, "+a+"%)"},percentaString:B,hslString:function(e,n){if(n<1||e[3]&&e[3]<1)return F(e,n);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:F,hwbString:function(e,n){void 0===n&&(n=void 0!==e[3]?e[3]:1);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==n&&1!==n?", "+n:"")+")"},keyword:function(e){return U[e.slice(0,3)]}};function R(e){if(e){var n=[0,0,0],t=1,i=e.match(/^#([a-fA-F0-9]{3,4})$/i),a="";if(i){a=(i=i[1])[3];for(var s=0;s<n.length;s++)n[s]=parseInt(i[s]+i[s],16);a&&(t=Math.round(parseInt(a+a,16)/255*100)/100)}else if(i=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){a=i[2],i=i[1];for(s=0;s<n.length;s++)n[s]=parseInt(i.slice(2*s,2*s+2),16);a&&(t=Math.round(parseInt(a,16)/255*100)/100)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(s=0;s<n.length;s++)n[s]=parseInt(i[s+1]);t=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(s=0;s<n.length;s++)n[s]=Math.round(2.55*parseFloat(i[s+1]));t=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(n=O[i[1]]))return}for(s=0;s<n.length;s++)n[s]=V(n[s],0,255);return t=t||0==t?V(t,0,1):1,n[3]=t,n}}function G(e){if(e){var n=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(n){var t=parseFloat(n[4]);return[V(parseInt(n[1]),0,360),V(parseFloat(n[2]),0,100),V(parseFloat(n[3]),0,100),V(isNaN(t)?1:t,0,1)]}}}function M(e){if(e){var n=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(n){var t=parseFloat(n[4]);return[V(parseInt(n[1]),0,360),V(parseFloat(n[2]),0,100),V(parseFloat(n[3]),0,100),V(isNaN(t)?1:t,0,1)]}}}function H(e,n){return void 0===n&&(n=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+n+")"}function B(e,n){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(n||e[3]||1)+")"}function F(e,n){return void 0===n&&(n=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+n+")"}function V(e,n,t){return Math.min(Math.max(n,e),t)}function q(e){var n=e.toString(16).toUpperCase();return n.length<2?"0"+n:n}var U={};for(var $ in O)U[O[$]]=$;var j=function(e){return e instanceof j?e:this instanceof j?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(n=x.getRgba(e))?this.setValues("rgb",n):(n=x.getHsla(e))?this.setValues("hsl",n):(n=x.getHwb(e))&&this.setValues("hwb",n):"object"==typeof e&&(void 0!==(n=e).r||void 0!==n.red?this.setValues("rgb",n):void 0!==n.l||void 0!==n.lightness?this.setValues("hsl",n):void 0!==n.v||void 0!==n.value?this.setValues("hsv",n):void 0!==n.w||void 0!==n.whiteness?this.setValues("hwb",n):void 0===n.c&&void 0===n.cyan||this.setValues("cmyk",n)))):new j(e);var n};j.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return x.hexString(this.values.rgb)},rgbString:function(){return x.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return x.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return x.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return x.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return x.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return x.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return x.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,n=[],t=0;t<e.length;t++){var i=e[t]/255;n[t]=i<=.03928?i/12.92:Math.pow((.055+i)/1.055,2.4)}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(e){var n=this.luminosity(),t=e.luminosity();return t<n?(n+.05)/(t+.05):(t+.05)/(n+.05)},level:function(e){var n=this.contrast(e);return 7.1<=n?"AAA":4.5<=n?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],n=0;n<3;n++)e[n]=255-this.values.rgb[n];return this.setValues("rgb",e),this},lighten:function(e){var n=this.values.hsl;return n[2]+=n[2]*e,this.setValues("hsl",n),this},darken:function(e){var n=this.values.hsl;return n[2]-=n[2]*e,this.setValues("hsl",n),this},saturate:function(e){var n=this.values.hsl;return n[1]+=n[1]*e,this.setValues("hsl",n),this},desaturate:function(e){var n=this.values.hsl;return n[1]-=n[1]*e,this.setValues("hsl",n),this},whiten:function(e){var n=this.values.hwb;return n[1]+=n[1]*e,this.setValues("hwb",n),this},blacken:function(e){var n=this.values.hwb;return n[2]+=n[2]*e,this.setValues("hwb",n),this},greyscale:function(){var e=this.values.rgb,n=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[n,n,n]),this},clearer:function(e){var n=this.values.alpha;return this.setValues("alpha",n-n*e),this},opaquer:function(e){var n=this.values.alpha;return this.setValues("alpha",n+n*e),this},rotate:function(e){var n=this.values.hsl,t=(n[0]+e)%360;return n[0]=t<0?360+t:t,this.setValues("hsl",n),this},mix:function(e,n){var t=this,i=e,a=void 0===n?.5:n,s=2*a-1,o=t.alpha()-i.alpha(),r=(1+(s*o==-1?s:(s+o)/(1+s*o)))/2,c=1-r;return this.rgb(r*t.red()+c*i.red(),r*t.green()+c*i.green(),r*t.blue()+c*i.blue()).alpha(t.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,n,t=new j,i=this.values,a=t.values;for(var s in i)i.hasOwnProperty(s)&&(e=i[s],"[object Array]"===(n={}.toString.call(e))?a[s]=e.slice(0):"[object Number]"===n?a[s]=e:console.error("unexpected color value:",e));return t}},j.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},j.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},j.prototype.getValues=function(e){for(var n=this.values,t={},i=0;i<e.length;i++)t[e.charAt(i)]=n[e][i];return 1!==n.alpha&&(t.a=n.alpha),t},j.prototype.setValues=function(e,n){var t,i,a=this.values,s=this.spaces,o=this.maxes,r=1;if(this.valid=!0,"alpha"===e)r=n;else if(n.length)a[e]=n.slice(0,e.length),r=n[e.length];else if(void 0!==n[e.charAt(0)]){for(t=0;t<e.length;t++)a[e][t]=n[e.charAt(t)];r=n.a}else if(void 0!==n[s[e][0]]){var c=s[e];for(t=0;t<e.length;t++)a[e][t]=n[c[t]];r=n.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===r?a.alpha:r)),"alpha"===e)return!1;for(t=0;t<e.length;t++)i=Math.max(0,Math.min(o[e][t],a[e][t])),a[e][t]=Math.round(i);for(var l in s)l!==e&&(a[l]=k[e][l](a[e]));return!0},j.prototype.setSpace=function(e,n){var t=n[0];return void 0===t?this.getValues(e):("number"==typeof t&&(t=Array.prototype.slice.call(n)),this.setValues(e,t),this)},j.prototype.setChannel=function(e,n,t){var i=this.values[e];return void 0===t?i[n]:(t===i[n]||(i[n]=t,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=j);var Y,z=j,K={noop:function(){},uid:(Y=0,function(){return Y++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var n=Object.prototype.toString.call(e);return"[object"===n.substr(0,7)&&"Array]"===n.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,n){return void 0===e?n:e},valueAtIndexOrDefault:function(e,n,t){return K.valueOrDefault(K.isArray(e)?e[n]:e,t)},callback:function(e,n,t){if(e&&"function"==typeof e.call)return e.apply(t,n)},each:function(e,n,t,i){var a,s,o;if(K.isArray(e))if(s=e.length,i)for(a=s-1;0<=a;a--)n.call(t,e[a],a);else for(a=0;a<s;a++)n.call(t,e[a],a);else if(K.isObject(e))for(s=(o=Object.keys(e)).length,a=0;a<s;a++)n.call(t,e[o[a]],o[a])},arrayEquals:function(e,n){var t,i,a,s;if(!e||!n||e.length!==n.length)return!1;for(t=0,i=e.length;t<i;++t)if(a=e[t],s=n[t],a instanceof Array&&s instanceof Array){if(!K.arrayEquals(a,s))return!1}else if(a!==s)return!1;return!0},clone:function(e){if(K.isArray(e))return e.map(K.clone);if(K.isObject(e)){for(var n={},t=Object.keys(e),i=t.length,a=0;a<i;++a)n[t[a]]=K.clone(e[t[a]]);return n}return e},_merger:function(e,n,t,i){var a=n[e],s=t[e];K.isObject(a)&&K.isObject(s)?K.merge(a,s,i):n[e]=K.clone(s)},_mergerIf:function(e,n,t){var i=n[e],a=t[e];K.isObject(i)&&K.isObject(a)?K.mergeIf(i,a):n.hasOwnProperty(e)||(n[e]=K.clone(a))},merge:function(e,n,t){var i,a,s,o,r,c=K.isArray(n)?n:[n],l=c.length;if(!K.isObject(e))return e;for(i=(t=t||{}).merger||K._merger,a=0;a<l;++a)if(n=c[a],K.isObject(n))for(r=0,o=(s=Object.keys(n)).length;r<o;++r)i(s[r],e,n,t);return e},mergeIf:function(e,n){return K.merge(e,n,{merger:K._mergerIf})},extend:function(t){for(var e=function(e,n){t[n]=e},n=1,i=arguments.length;n<i;++n)K.each(arguments[n],e);return t},inherits:function(e){function n(){this.constructor=i}var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)};return n.prototype=t.prototype,i.prototype=new n,i.extend=K.inherits,e&&K.extend(i.prototype,e),i.__super__=t.prototype,i}},W=K;K.callCallback=K.callback,K.indexOf=function(e,n,t){return Array.prototype.indexOf.call(e,n,t)},K.getValueOrDefault=K.valueOrDefault,K.getValueAtIndexOrDefault=K.valueAtIndexOrDefault;var J={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var n=1.70158,t=0,i=1;return 0===e?0:1===e?1:(t||(t=.3),n=i<1?(i=1,t/4):t/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/t))},easeOutElastic:function(e){var n=1.70158,t=0,i=1;return 0===e?0:1===e?1:(t||(t=.3),n=i<1?(i=1,t/4):t/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-n)*(2*Math.PI)/t)+1)},easeInOutElastic:function(e){var n=1.70158,t=0,i=1;return 0===e?0:2==(e/=.5)?1:(t||(t=.45),n=i<1?(i=1,t/4):t/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/t)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/t)*.5+1)},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},easeInBounce:function(e){return 1-J.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*J.easeInBounce(2*e):.5*J.easeOutBounce(2*e-1)+.5}},Q={effects:J};W.easingEffects=J;var X=Math.PI,Z=X/180,ee=2*X,ne=X/2,te=X/4,ie=2*X/3,ae={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,n,t,i,a,s){if(s){var o=Math.min(s,a/2,i/2),r=n+o,c=t+o,l=n+i-o,d=t+a-o;e.moveTo(n,c),r<l&&c<d?(e.arc(r,c,o,-X,-ne),e.arc(l,c,o,-ne,0),e.arc(l,d,o,0,ne),e.arc(r,d,o,ne,X)):r<l?(e.moveTo(r,t),e.arc(l,c,o,-ne,ne),e.arc(r,c,o,ne,X+ne)):c<d?(e.arc(r,c,o,-X,0),e.arc(r,d,o,0,X)):e.arc(r,c,o,-X,X),e.closePath(),e.moveTo(n,t)}else e.rect(n,t,i,a)},drawPoint:function(e,n,t,i,a,s){var o,r,c,l,d,u=(s||0)*Z;if(!n||"object"!=typeof n||"[object HTMLImageElement]"!==(o=n.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(t)||t<=0)){switch(e.beginPath(),n){default:e.arc(i,a,t,0,ee),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(u)*t,a-Math.cos(u)*t),u+=ie,e.lineTo(i+Math.sin(u)*t,a-Math.cos(u)*t),u+=ie,e.lineTo(i+Math.sin(u)*t,a-Math.cos(u)*t),e.closePath();break;case"rectRounded":l=t-(d=.516*t),r=Math.cos(u+te)*l,c=Math.sin(u+te)*l,e.arc(i-r,a-c,d,u-X,u-ne),e.arc(i+c,a-r,d,u-ne,u),e.arc(i+r,a+c,d,u,u+ne),e.arc(i-c,a+r,d,u+ne,u+X),e.closePath();break;case"rect":if(!s){l=Math.SQRT1_2*t,e.rect(i-l,a-l,2*l,2*l);break}u+=te;case"rectRot":r=Math.cos(u)*t,c=Math.sin(u)*t,e.moveTo(i-r,a-c),e.lineTo(i+c,a-r),e.lineTo(i+r,a+c),e.lineTo(i-c,a+r),e.closePath();break;case"crossRot":u+=te;case"cross":r=Math.cos(u)*t,c=Math.sin(u)*t,e.moveTo(i-r,a-c),e.lineTo(i+r,a+c),e.moveTo(i+c,a-r),e.lineTo(i-c,a+r);break;case"star":r=Math.cos(u)*t,c=Math.sin(u)*t,e.moveTo(i-r,a-c),e.lineTo(i+r,a+c),e.moveTo(i+c,a-r),e.lineTo(i-c,a+r),u+=te,r=Math.cos(u)*t,c=Math.sin(u)*t,e.moveTo(i-r,a-c),e.lineTo(i+r,a+c),e.moveTo(i+c,a-r),e.lineTo(i-c,a+r);break;case"line":r=Math.cos(u)*t,c=Math.sin(u)*t,e.moveTo(i-r,a-c),e.lineTo(i+r,a+c);break;case"dash":e.moveTo(i,a),e.lineTo(i+Math.cos(u)*t,a+Math.sin(u)*t)}e.fill(),e.stroke()}}else e.drawImage(n,i-n.width/2,a-n.height/2,n.width,n.height)},_isPointInArea:function(e,n){return e.x>n.left-1e-6&&e.x<n.right+1e-6&&e.y>n.top-1e-6&&e.y<n.bottom+1e-6},clipArea:function(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,n,t,i){var a=t.steppedLine;if(a){if("middle"===a){var s=(n.x+t.x)/2;e.lineTo(s,i?t.y:n.y),e.lineTo(s,i?n.y:t.y)}else"after"===a&&!i||"after"!==a&&i?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}else t.tension?e.bezierCurveTo(i?n.controlPointPreviousX:n.controlPointNextX,i?n.controlPointPreviousY:n.controlPointNextY,i?t.controlPointNextX:t.controlPointPreviousX,i?t.controlPointNextY:t.controlPointPreviousY,t.x,t.y):e.lineTo(t.x,t.y)}},se=ae;W.clear=ae.clear,W.drawRoundedRectangle=function(e){e.beginPath(),ae.roundedRect.apply(ae,arguments)};var oe={_set:function(e,n){return W.merge(this[e]||(this[e]={}),n)}};oe._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var re=oe,ce=W.valueOrDefault;var le={toLineHeight:function(e,n){var t=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!t||"normal"===t[1])return 1.2*n;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return n*e},toPadding:function(e){var n,t,i,a;return W.isObject(e)?(n=+e.top||0,t=+e.right||0,i=+e.bottom||0,a=+e.left||0):n=t=i=a=+e||0,{top:n,right:t,bottom:i,left:a,height:n+i,width:a+t}},_parseFont:function(e){var n=re.global,t=ce(e.fontSize,n.defaultFontSize),i={family:ce(e.fontFamily,n.defaultFontFamily),lineHeight:W.options.toLineHeight(ce(e.lineHeight,n.defaultLineHeight),t),size:t,style:ce(e.fontStyle,n.defaultFontStyle),weight:null,string:""};return i.string=function(e){return!e||W.isNullOrUndef(e.size)||W.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i},resolve:function(e,n,t){var i,a,s;for(i=0,a=e.length;i<a;++i)if(void 0!==(s=e[i])&&(void 0!==n&&"function"==typeof s&&(s=s(n)),void 0!==t&&W.isArray(s)&&(s=s[t]),void 0!==s))return s}},de=W,ue=Q,pe=se,fe=le;de.easing=ue,de.canvas=pe,de.options=fe;function ge(e){de.extend(this,e),this.initialize.apply(this,arguments)}de.extend(ge.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=de.clone(e._model)),e._start={},e},transition:function(e){var n=this,t=n._model,i=n._start,a=n._view;return t&&1!==e?(a||(a=n._view={}),i||(i=n._start={}),function(e,n,t,i){var a,s,o,r,c,l,d,u,p,f=Object.keys(t);for(a=0,s=f.length;a<s;++a)if(l=t[o=f[a]],n.hasOwnProperty(o)||(n[o]=l),(r=n[o])!==l&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=r),(d=typeof l)==typeof(c=e[o]))if("string"==d){if((u=z(c)).valid&&(p=z(l)).valid){n[o]=p.mix(u,i).rgbString();continue}}else if(de.isFinite(c)&&de.isFinite(l)){n[o]=c+(l-c)*i;continue}n[o]=l}}(i,a,t,e)):(n._view=t,n._start=null),n},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return de.isNumber(this._model.x)&&de.isNumber(this._model.y)}}),ge.extend=de.inherits;var he=ge,me=he.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ve=me;Object.defineProperty(me.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(me.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),re._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:de.noop,onComplete:de.noop}});var ye={animations:[],request:null,addAnimation:function(e,n,t,i){var a,s,o=this.animations;for(n.chart=e,n.startTime=Date.now(),n.duration=t,i||(e.animating=!0),a=0,s=o.length;a<s;++a)if(o[a].chart===e)return void(o[a]=n);o.push(n),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(n){var e=de.findIndex(this.animations,function(e){return e.chart===n});-1!==e&&(this.animations.splice(e,1),n.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=de.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){this.advance(),0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var e,n,t,i,a=this.animations,s=0;s<a.length;)n=(e=a[s]).chart,t=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*t)+1,e.currentStep=Math.min(i,t),de.callback(e.render,[n,e],n),de.callback(e.onAnimationProgress,[e],n),e.currentStep>=t?(de.callback(e.onAnimationComplete,[e],n),n.animating=!1,a.splice(s,1)):++s}},be=de.options.resolve,Ie=["push","pop","shift","splice","unshift"];function _e(n,e){var t=n._chartjs;if(t){var i=t.listeners,a=i.indexOf(e);-1!==a&&i.splice(a,1),0<i.length||(Ie.forEach(function(e){delete n[e]}),delete n._chartjs)}}function Ee(e,n){this.initialize(e,n)}de.extend(Ee.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,n){this.chart=e,this.index=n,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,n=e.getMeta(),t=e.getDataset();null!==n.xAxisID&&n.xAxisID in e.chart.scales||(n.xAxisID=t.xAxisID||e.chart.options.scales.xAxes[0].id),null!==n.yAxisID&&n.yAxisID in e.chart.scales||(n.yAxisID=t.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&_e(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var n=this.dataElementType;return n&&new n({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,n,t=this.getMeta(),i=this.getDataset().data||[],a=t.data;for(e=0,n=i.length;e<n;++e)a[e]=a[e]||this.createMetaData(e);t.dataset=t.dataset||this.createMetaDataset()},addElementAndReset:function(e){var n=this.createMetaData(e);this.getMeta().data.splice(e,0,n),this.updateElement(n,e,!0)},buildOrUpdateElements:function(){var e=this,n=e.getDataset(),t=n.data||(n.data=[]);e._data!==t&&(e._data&&_e(e._data,e),t&&Object.isExtensible(t)&&function(a,e){a._chartjs?a._chartjs.listeners.push(e):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ie.forEach(function(e){var t="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=a[e];Object.defineProperty(a,e,{configurable:!0,enumerable:!1,value:function(){var n=Array.prototype.slice.call(arguments),e=i.apply(this,n);return de.each(a._chartjs.listeners,function(e){"function"==typeof e[t]&&e[t].apply(e,n)}),e}})}))}(t,e),e._data=t),e.resyncElements()},update:de.noop,transition:function(e){for(var n=this.getMeta(),t=n.data||[],i=t.length,a=0;a<i;++a)t[a].transition(e);n.dataset&&n.dataset.transition(e)},draw:function(){var e=this.getMeta(),n=e.data||[],t=n.length,i=0;for(e.dataset&&e.dataset.draw();i<t;++i)n[i].draw()},removeHoverStyle:function(e){de.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],t=e._index,i=e.custom||{},a=e._model,s=de.getHoverColor;e.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=be([i.hoverBackgroundColor,n.hoverBackgroundColor,s(a.backgroundColor)],void 0,t),a.borderColor=be([i.hoverBorderColor,n.hoverBorderColor,s(a.borderColor)],void 0,t),a.borderWidth=be([i.hoverBorderWidth,n.hoverBorderWidth,a.borderWidth],void 0,t)},resyncElements:function(){var e=this.getMeta(),n=this.getDataset().data,t=e.data.length,i=n.length;i<t?e.data.splice(i,t-i):t<i&&this.insertElements(t,i-t)},insertElements:function(e,n){for(var t=0;t<n;++t)this.addElementAndReset(e+t)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,n){this.getMeta().data.splice(e,n),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Ee.extend=de.inherits;var Se=Ee;re._set("global",{elements:{arc:{backgroundColor:re.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var we=he.extend({inLabelRange:function(e){var n=this._view;return!!n&&Math.pow(e-n.x,2)<Math.pow(n.radius+n.hoverRadius,2)},inRange:function(e,n){var t=this._view;if(t){for(var i=de.getAngleFromPoint(t,{x:e,y:n}),a=i.angle,s=i.distance,o=t.startAngle,r=t.endAngle;r<o;)r+=2*Math.PI;for(;r<a;)a-=2*Math.PI;for(;a<o;)a+=2*Math.PI;var c=o<=a&&a<=r,l=s>=t.innerRadius&&s<=t.outerRadius;return c&&l}return!1},getCenterPoint:function(){var e=this._view,n=(e.startAngle+e.endAngle)/2,t=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(n)*t,y:e.y+Math.sin(n)*t}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,n=e.startAngle+(e.endAngle-e.startAngle)/2,t=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(n)*t,y:e.y+Math.sin(n)*t}},draw:function(){var e,n=this._chart.ctx,t=this._view,i=t.startAngle,a=t.endAngle,s="inner"===t.borderAlign?.33:0;n.save(),n.beginPath(),n.arc(t.x,t.y,Math.max(t.outerRadius-s,0),i,a),n.arc(t.x,t.y,t.innerRadius,a,i,!0),n.closePath(),n.fillStyle=t.backgroundColor,n.fill(),t.borderWidth&&("inner"===t.borderAlign?(n.beginPath(),e=s/t.outerRadius,n.arc(t.x,t.y,t.outerRadius,i-e,a+e),t.innerRadius>s?(e=s/t.innerRadius,n.arc(t.x,t.y,t.innerRadius-s,a+e,i-e,!0)):n.arc(t.x,t.y,s,a+Math.PI/2,i-Math.PI/2),n.closePath(),n.clip(),n.beginPath(),n.arc(t.x,t.y,t.outerRadius,i,a),n.arc(t.x,t.y,t.innerRadius,a,i,!0),n.closePath(),n.lineWidth=2*t.borderWidth,n.lineJoin="round"):(n.lineWidth=t.borderWidth,n.lineJoin="bevel"),n.strokeStyle=t.borderColor,n.stroke()),n.restore()}}),De=de.valueOrDefault,Ne=re.global.defaultColor;re._set("global",{elements:{line:{tension:.4,backgroundColor:Ne,borderWidth:3,borderColor:Ne,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Te=he.extend({draw:function(){var e,n,t,i,a=this._view,s=this._chart.ctx,o=a.spanGaps,r=this._children.slice(),c=re.global,l=c.elements.line,d=-1;for(this._loop&&r.length&&r.push(r[0]),s.save(),s.lineCap=a.borderCapStyle||l.borderCapStyle,s.setLineDash&&s.setLineDash(a.borderDash||l.borderDash),s.lineDashOffset=De(a.borderDashOffset,l.borderDashOffset),s.lineJoin=a.borderJoinStyle||l.borderJoinStyle,s.lineWidth=De(a.borderWidth,l.borderWidth),s.strokeStyle=a.borderColor||c.defaultColor,s.beginPath(),d=-1,e=0;e<r.length;++e)n=r[e],t=de.previousItem(r,e),i=n._view,0===e?i.skip||(s.moveTo(i.x,i.y),d=e):(t=-1===d?t:r[d],i.skip||(d!==e-1&&!o||-1===d?s.moveTo(i.x,i.y):de.canvas.lineTo(s,t._view,n._view),d=e));s.stroke(),s.restore()}}),Ce=de.valueOrDefault,Pe=re.global.defaultColor;function Ae(e){var n=this._view;return!!n&&Math.abs(e-n.x)<n.radius+n.hitRadius}re._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Pe,borderColor:Pe,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Le=he.extend({inRange:function(e,n){var t=this._view;return!!t&&Math.pow(e-t.x,2)+Math.pow(n-t.y,2)<Math.pow(t.hitRadius+t.radius,2)},inLabelRange:Ae,inXRange:Ae,inYRange:function(e){var n=this._view;return!!n&&Math.abs(e-n.y)<n.radius+n.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var n=this._view,t=this._chart.ctx,i=n.pointStyle,a=n.rotation,s=n.radius,o=n.x,r=n.y,c=re.global,l=c.defaultColor;n.skip||void 0!==e&&!de.canvas._isPointInArea(n,e)||(t.strokeStyle=n.borderColor||l,t.lineWidth=Ce(n.borderWidth,c.elements.point.borderWidth),t.fillStyle=n.backgroundColor||l,de.canvas.drawPoint(t,i,s,o,r,a))}}),ke=re.global.defaultColor;function Oe(e){return e&&void 0!==e.width}function xe(e){var n,t,i,a,s;return a=Oe(e)?(s=e.width/2,n=e.x-s,t=e.x+s,i=Math.min(e.y,e.base),Math.max(e.y,e.base)):(s=e.height/2,n=Math.min(e.x,e.base),t=Math.max(e.x,e.base),i=e.y-s,e.y+s),{left:n,top:i,right:t,bottom:a}}function Re(e,n,t){return e===n?t:e===t?n:e}function Ge(e,n,t){var i,a,s,o,r=e.borderWidth,c=function(e){var n=e.borderSkipped,t={};return n&&(e.horizontal?e.base>e.x&&(n=Re(n,"left","right")):e.base<e.y&&(n=Re(n,"bottom","top")),t[n]=!0),t}(e);return de.isObject(r)?(i=+r.top||0,a=+r.right||0,s=+r.bottom||0,o=+r.left||0):i=a=s=o=+r||0,{t:c.top||i<0?0:t<i?t:i,r:c.right||a<0?0:n<a?n:a,b:c.bottom||s<0?0:t<s?t:s,l:c.left||o<0?0:n<o?n:o}}function Me(e,n,t){var i=null===n,a=null===t,s=!(!e||i&&a)&&xe(e);return s&&(i||n>=s.left&&n<=s.right)&&(a||t>=s.top&&t<=s.bottom)}re._set("global",{elements:{rectangle:{backgroundColor:ke,borderColor:ke,borderSkipped:"bottom",borderWidth:0}}});var He=he.extend({draw:function(){var e=this._chart.ctx,n=this._view,t=function(e){var n=xe(e),t=n.right-n.left,i=n.bottom-n.top,a=Ge(e,t/2,i/2);return{outer:{x:n.left,y:n.top,w:t,h:i},inner:{x:n.left+a.l,y:n.top+a.t,w:t-a.l-a.r,h:i-a.t-a.b}}}(n),i=t.outer,a=t.inner;e.fillStyle=n.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),i.w===a.w&&i.h===a.h||(e.save(),e.beginPath(),e.rect(i.x,i.y,i.w,i.h),e.clip(),e.fillStyle=n.borderColor,e.rect(a.x,a.y,a.w,a.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,n){return Me(this._view,e,n)},inLabelRange:function(e,n){var t=this._view;return Oe(t)?Me(t,e,null):Me(t,null,n)},inXRange:function(e){return Me(this._view,e,null)},inYRange:function(e){return Me(this._view,null,e)},getCenterPoint:function(){var e,n,t=this._view;return n=Oe(t)?(e=t.x,(t.y+t.base)/2):(e=(t.x+t.base)/2,t.y),{x:e,y:n}},getArea:function(){var e=this._view;return Oe(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Be={},Fe=we,Ve=Te,qe=Le,Ue=He;Be.Arc=Fe,Be.Line=Ve,Be.Point=qe,Be.Rectangle=Ue;var $e=de.options.resolve;re._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var je=Se.extend({dataElementType:Be.Rectangle,initialize:function(){var e;Se.prototype.initialize.apply(this,arguments),(e=this.getMeta()).stack=this.getDataset().stack,e.bar=!0},update:function(e){var n,t,i=this.getMeta().data;for(this._ruler=this.getRuler(),n=0,t=i.length;n<t;++n)this.updateElement(i[n],n,e)},updateElement:function(e,n,t){var i=this,a=i.getMeta(),s=i.getDataset(),o=i._resolveElementOptions(e,n);e._xScale=i.getScaleForId(a.xAxisID),e._yScale=i.getScaleForId(a.yAxisID),e._datasetIndex=i.index,e._index=n,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:s.label,label:i.chart.data.labels[n]},i._updateElementGeometry(e,n,t),e.pivot()},_updateElementGeometry:function(e,n,t){var i=this,a=e._model,s=i._getValueScale(),o=s.getBasePixel(),r=s.isHorizontal(),c=i._ruler||i.getRuler(),l=i.calculateBarValuePixels(i.index,n),d=i.calculateBarIndexPixels(i.index,n,c);a.horizontal=r,a.base=t?o:l.base,a.x=r?t?o:l.head:d.center,a.y=r?d.center:t?o:l.head,a.height=r?d.size:void 0,a.width=r?void 0:d.size},_getStacks:function(e){var n,t,i=this.chart,a=this._getIndexScale().options.stacked,s=void 0===e?i.data.datasets.length:e+1,o=[];for(n=0;n<s;++n)(t=i.getDatasetMeta(n)).bar&&i.isDatasetVisible(n)&&(!1===a||!0===a&&-1===o.indexOf(t.stack)||void 0===a&&(void 0===t.stack||-1===o.indexOf(t.stack)))&&o.push(t.stack);return o},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,n){var t=this._getStacks(e),i=void 0!==n?t.indexOf(n):-1;return-1===i?t.length-1:i},getRuler:function(){var e,n,t=this._getIndexScale(),i=this.getStackCount(),a=this.index,s=t.isHorizontal(),o=s?t.left:t.top,r=o+(s?t.width:t.height),c=[];for(e=0,n=this.getMeta().data.length;e<n;++e)c.push(t.getPixelForValue(null,e,a));return{min:de.isNullOrUndef(t.options.barThickness)?function(e,n){var t,i,a,s,o=e.isHorizontal()?e.width:e.height,r=e.getTicks();for(a=1,s=n.length;a<s;++a)o=Math.min(o,Math.abs(n[a]-n[a-1]));for(a=0,s=r.length;a<s;++a)i=e.getPixelForTick(a),o=0<a?Math.min(o,i-t):o,t=i;return o}(t,c):-1,pixels:c,start:o,end:r,stackCount:i,scale:t}},calculateBarValuePixels:function(e,n){var t,i,a,s,o,r,c=this.chart,l=this.getMeta(),d=this._getValueScale(),u=d.isHorizontal(),p=c.data.datasets,f=+d.getRightValue(p[e].data[n]),g=d.options.minBarLength,h=d.options.stacked,m=l.stack,v=0;if(h||void 0===h&&void 0!==m)for(t=0;t<e;++t)(i=c.getDatasetMeta(t)).bar&&i.stack===m&&i.controller._getValueScaleId()===d.id&&c.isDatasetVisible(t)&&(a=+d.getRightValue(p[t].data[n]),(f<0&&a<0||0<=f&&0<a)&&(v+=a));return s=d.getPixelForValue(v),r=(o=d.getPixelForValue(v+f))-s,void 0!==g&&Math.abs(r)<g&&(r=g,o=0<=f&&!u||f<0&&u?s-g:s+g),{size:r,base:s,head:o,center:o+r/2}},calculateBarIndexPixels:function(e,n,t){var i=t.scale.options,a="flex"===i.barThickness?function(e,n,t){var i,a=n.pixels,s=a[e],o=0<e?a[e-1]:null,r=e<a.length-1?a[e+1]:null,c=t.categoryPercentage;return null===o&&(o=s-(null===r?n.end-n.start:r-s)),null===r&&(r=s+s-o),i=s-(s-Math.min(o,r))/2*c,{chunk:Math.abs(r-o)/2*c/n.stackCount,ratio:t.barPercentage,start:i}}(n,t,i):function(e,n,t){var i,a,s=t.barThickness,o=n.stackCount,r=n.pixels[e];return a=de.isNullOrUndef(s)?(i=n.min*t.categoryPercentage,t.barPercentage):(i=s*o,1),{chunk:i/o,ratio:a,start:r-i/2}}(n,t,i),s=this.getStackIndex(e,this.getMeta().stack),o=a.start+a.chunk*s+a.chunk/2,r=Math.min(de.valueOrDefault(i.maxBarThickness,1/0),a.chunk*a.ratio);return{base:o-r/2,head:o+r/2,center:o,size:r}},draw:function(){var e=this.chart,n=this._getValueScale(),t=this.getMeta().data,i=this.getDataset(),a=t.length,s=0;for(de.canvas.clipArea(e.ctx,e.chartArea);s<a;++s)isNaN(n.getRightValue(i.data[s]))||t[s].draw();de.canvas.unclipArea(e.ctx)},_resolveElementOptions:function(e,n){var t,i,a,s=this.chart,o=s.data.datasets[this.index],r=e.custom||{},c=s.options.elements.rectangle,l={},d={chart:s,dataIndex:n,dataset:o,datasetIndex:this.index},u=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(t=0,i=u.length;t<i;++t)l[a=u[t]]=$e([r[a],o[a],c[a]],d,n);return l}}),Ye=de.valueOrDefault,ze=de.options.resolve;re._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,n){var t=n.datasets[e.datasetIndex].label||"",i=n.datasets[e.datasetIndex].data[e.index];return t+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}});var Ke=Se.extend({dataElementType:Be.Point,update:function(t){var i=this,e=i.getMeta().data;de.each(e,function(e,n){i.updateElement(e,n,t)})},updateElement:function(e,n,t){var i=this,a=i.getMeta(),s=e.custom||{},o=i.getScaleForId(a.xAxisID),r=i.getScaleForId(a.yAxisID),c=i._resolveElementOptions(e,n),l=i.getDataset().data[n],d=i.index,u=t?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof l?l:NaN,n,d),p=t?r.getBasePixel():r.getPixelForValue(l,n,d);e._xScale=o,e._yScale=r,e._options=c,e._datasetIndex=d,e._index=n,e._model={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,hitRadius:c.hitRadius,pointStyle:c.pointStyle,rotation:c.rotation,radius:t?0:c.radius,skip:s.skip||isNaN(u)||isNaN(p),x:u,y:p},e.pivot()},setHoverStyle:function(e){var n=e._model,t=e._options,i=de.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=Ye(t.hoverBackgroundColor,i(t.backgroundColor)),n.borderColor=Ye(t.hoverBorderColor,i(t.borderColor)),n.borderWidth=Ye(t.hoverBorderWidth,t.borderWidth),n.radius=t.radius+t.hoverRadius},_resolveElementOptions:function(e,n){var t,i,a,s=this.chart,o=s.data.datasets[this.index],r=e.custom||{},c=s.options.elements.point,l=o.data[n],d={},u={chart:s,dataIndex:n,dataset:o,datasetIndex:this.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(t=0,i=p.length;t<i;++t)d[a=p[t]]=ze([r[a],o[a],c[a]],u,n);return d.radius=ze([r.radius,l?l.r:void 0,o.radius,c.radius],u,n),d}}),We=de.options.resolve,Je=de.valueOrDefault;re._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var n=[];n.push('<ul class="'+e.id+'-legend">');var t=e.data,i=t.datasets,a=t.labels;if(i.length)for(var s=0;s<i[0].data.length;++s)n.push('<li><span style="background-color:'+i[0].backgroundColor[s]+'"></span>'),a[s]&&n.push(a[s]),n.push("</li>");return n.push("</ul>"),n.join("")},legend:{labels:{generateLabels:function(r){var c=r.data;return c.labels.length&&c.datasets.length?c.labels.map(function(e,n){var t=r.getDatasetMeta(0),i=c.datasets[0],a=t.data[n],s=a&&a.custom||{},o=r.options.elements.arc;return{text:e,fillStyle:We([s.backgroundColor,i.backgroundColor,o.backgroundColor],void 0,n),strokeStyle:We([s.borderColor,i.borderColor,o.borderColor],void 0,n),lineWidth:We([s.borderWidth,i.borderWidth,o.borderWidth],void 0,n),hidden:isNaN(i.data[n])||t.data[n].hidden,index:n}}):[]}},onClick:function(e,n){var t,i,a,s=n.index,o=this.chart;for(t=0,i=(o.data.datasets||[]).length;t<i;++t)(a=o.getDatasetMeta(t)).data[s]&&(a.data[s].hidden=!a.data[s].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,n){var t=n.labels[e.index],i=": "+n.datasets[e.datasetIndex].data[e.index];return de.isArray(t)?(t=t.slice())[0]+=i:t+=i,t}}}});var Qe=Se.extend({dataElementType:Be.Arc,linkScales:de.noop,getRingIndex:function(e){for(var n=0,t=0;t<e;++t)this.chart.isDatasetVisible(t)&&++n;return n},update:function(e){var n,t,i=this,a=i.chart,s=a.chartArea,o=a.options,r=s.right-s.left,c=s.bottom-s.top,l=Math.min(r,c),d={x:0,y:0},u=i.getMeta(),p=u.data,f=o.cutoutPercentage,g=o.circumference,h=i._getRingWeight(i.index);if(g<2*Math.PI){var m=o.rotation%(2*Math.PI),v=(m+=2*Math.PI*(m>=Math.PI?-1:m<-Math.PI?1:0))+g,y=Math.cos(m),b=Math.sin(m),I=Math.cos(v),_=Math.sin(v),E=m<=0&&0<=v||m<=2*Math.PI&&2*Math.PI<=v,S=m<=.5*Math.PI&&.5*Math.PI<=v||m<=2.5*Math.PI&&2.5*Math.PI<=v,w=m<=-Math.PI&&-Math.PI<=v||m<=Math.PI&&Math.PI<=v,D=m<=.5*-Math.PI&&.5*-Math.PI<=v||m<=1.5*Math.PI&&1.5*Math.PI<=v,N=f/100,T=w?-1:Math.min(y*(y<0?1:N),I*(I<0?1:N)),C=D?-1:Math.min(b*(b<0?1:N),_*(_<0?1:N)),P=E?1:Math.max(y*(0<y?1:N),I*(0<I?1:N)),A=S?1:Math.max(b*(0<b?1:N),_*(0<_?1:N)),L=.5*(P-T),k=.5*(A-C);l=Math.min(r/L,c/k),d={x:-.5*(P+T),y:-.5*(A+C)}}for(n=0,t=p.length;n<t;++n)p[n]._options=i._resolveElementOptions(p[n],n);for(a.borderWidth=i.getMaxBorderWidth(),a.outerRadius=Math.max((l-a.borderWidth)/2,0),a.innerRadius=Math.max(f?a.outerRadius/100*f:0,0),a.radiusLength=(a.outerRadius-a.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),a.offsetX=d.x*a.outerRadius,a.offsetY=d.y*a.outerRadius,u.total=i.calculateTotal(),i.outerRadius=a.outerRadius-a.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-a.radiusLength*h,0),n=0,t=p.length;n<t;++n)i.updateElement(p[n],n,e)},updateElement:function(e,n,t){var i=this,a=i.chart,s=a.chartArea,o=a.options,r=o.animation,c=(s.left+s.right)/2,l=(s.top+s.bottom)/2,d=o.rotation,u=o.rotation,p=i.getDataset(),f=t&&r.animateRotate?0:e.hidden?0:i.calculateCircumference(p.data[n])*(o.circumference/(2*Math.PI)),g=t&&r.animateScale?0:i.innerRadius,h=t&&r.animateScale?0:i.outerRadius,m=e._options||{};de.extend(e,{_datasetIndex:i.index,_index:n,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:c+a.offsetX,y:l+a.offsetY,startAngle:d,endAngle:u,circumference:f,outerRadius:h,innerRadius:g,label:de.valueAtIndexOrDefault(p.label,n,a.data.labels[n])}});var v=e._model;t&&r.animateRotate||(v.startAngle=0===n?o.rotation:i.getMeta().data[n-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},calculateTotal:function(){var t,i=this.getDataset(),e=this.getMeta(),a=0;return de.each(e.data,function(e,n){t=i.data[n],isNaN(t)||e.hidden||(a+=Math.abs(t))}),a},calculateCircumference:function(e){var n=this.getMeta().total;return 0<n&&!isNaN(e)?2*Math.PI*(Math.abs(e)/n):0},getMaxBorderWidth:function(e){var n,t,i,a,s,o,r,c,l=0,d=this.chart;if(!e)for(n=0,t=d.data.datasets.length;n<t;++n)if(d.isDatasetVisible(n)){e=(i=d.getDatasetMeta(n)).data,n!==this.index&&(s=i.controller);break}if(!e)return 0;for(n=0,t=e.length;n<t;++n)a=e[n],"inner"!==(o=s?s._resolveElementOptions(a,n):a._options).borderAlign&&(l=(l=l<(r=o.borderWidth)?r:l)<(c=o.hoverBorderWidth)?c:l);return l},setHoverStyle:function(e){var n=e._model,t=e._options,i=de.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth},n.backgroundColor=Je(t.hoverBackgroundColor,i(t.backgroundColor)),n.borderColor=Je(t.hoverBorderColor,i(t.borderColor)),n.borderWidth=Je(t.hoverBorderWidth,t.borderWidth)},_resolveElementOptions:function(e,n){var t,i,a,s=this.chart,o=this.getDataset(),r=e.custom||{},c=s.options.elements.arc,l={},d={chart:s,dataIndex:n,dataset:o,datasetIndex:this.index},u=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(t=0,i=u.length;t<i;++t)l[a=u[t]]=We([r[a],o[a],c[a]],d,n);return l},_getRingWeightOffset:function(e){for(var n=0,t=0;t<e;++t)this.chart.isDatasetVisible(t)&&(n+=this._getRingWeight(t));return n},_getRingWeight:function(e){return Math.max(Je(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});re._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Xe=je.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Ze=de.valueOrDefault,en=de.options.resolve,nn=de.canvas._isPointInArea;function tn(e,n){return Ze(e.showLine,n.showLines)}re._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var an=Se.extend({datasetElementType:Be.Line,dataElementType:Be.Point,update:function(e){var n,t,i=this,a=i.getMeta(),s=a.dataset,o=a.data||[],r=i.getScaleForId(a.yAxisID),c=i.getDataset(),l=tn(c,i.chart.options);for(l&&(void 0!==c.tension&&void 0===c.lineTension&&(c.lineTension=c.tension),s._scale=r,s._datasetIndex=i.index,s._children=o,s._model=i._resolveLineOptions(s),s.pivot()),n=0,t=o.length;n<t;++n)i.updateElement(o[n],n,e);for(l&&0!==s._model.tension&&i.updateBezierControlPoints(),n=0,t=o.length;n<t;++n)o[n].pivot()},updateElement:function(e,n,t){var i,a,s=this,o=s.getMeta(),r=e.custom||{},c=s.getDataset(),l=s.index,d=c.data[n],u=s.getScaleForId(o.yAxisID),p=s.getScaleForId(o.xAxisID),f=o.dataset._model,g=s._resolvePointOptions(e,n);i=p.getPixelForValue("object"==typeof d?d:NaN,n,l),a=t?u.getBasePixel():s.calculatePointY(d,n,l),e._xScale=p,e._yScale=u,e._options=g,e._datasetIndex=l,e._index=n,e._model={x:i,y:a,skip:r.skip||isNaN(i)||isNaN(a),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:Ze(r.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:g.hitRadius}},_resolvePointOptions:function(e,n){var t,i,a,s=this.chart,o=s.data.datasets[this.index],r=e.custom||{},c=s.options.elements.point,l={},d={chart:s,dataIndex:n,dataset:o,datasetIndex:this.index},u={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},p=Object.keys(u);for(t=0,i=p.length;t<i;++t)l[a=p[t]]=en([r[a],o[u[a]],o[a],c[a]],d,n);return l},_resolveLineOptions:function(e){var n,t,i,a=this.chart,s=a.data.datasets[this.index],o=e.custom||{},r=a.options,c=r.elements.line,l={},d=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(n=0,t=d.length;n<t;++n)l[i=d[n]]=en([o[i],s[i],c[i]]);return l.spanGaps=Ze(s.spanGaps,r.spanGaps),l.tension=Ze(s.lineTension,c.tension),l.steppedLine=en([o.steppedLine,s.steppedLine,c.stepped]),l},calculatePointY:function(e,n,t){var i,a,s,o=this.chart,r=this.getMeta(),c=this.getScaleForId(r.yAxisID),l=0,d=0;if(c.options.stacked){for(i=0;i<t;i++)if(a=o.data.datasets[i],"line"===(s=o.getDatasetMeta(i)).type&&s.yAxisID===c.id&&o.isDatasetVisible(i)){var u=Number(c.getRightValue(a.data[n]));u<0?d+=u||0:l+=u||0}var p=Number(c.getRightValue(e));return p<0?c.getPixelForValue(d+p):c.getPixelForValue(l+p)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){var e,n,t,i,a=this.chart,s=this.getMeta(),o=s.dataset._model,r=a.chartArea,c=s.data||[];function l(e,n,t){return Math.max(Math.min(e,t),n)}if(o.spanGaps&&(c=c.filter(function(e){return!e._model.skip})),"monotone"===o.cubicInterpolationMode)de.splineCurveMonotone(c);else for(e=0,n=c.length;e<n;++e)t=c[e]._model,i=de.splineCurve(de.previousItem(c,e)._model,t,de.nextItem(c,e)._model,o.tension),t.controlPointPreviousX=i.previous.x,t.controlPointPreviousY=i.previous.y,t.controlPointNextX=i.next.x,t.controlPointNextY=i.next.y;if(a.options.elements.line.capBezierPoints)for(e=0,n=c.length;e<n;++e)t=c[e]._model,nn(t,r)&&(0<e&&nn(c[e-1]._model,r)&&(t.controlPointPreviousX=l(t.controlPointPreviousX,r.left,r.right),t.controlPointPreviousY=l(t.controlPointPreviousY,r.top,r.bottom)),e<c.length-1&&nn(c[e+1]._model,r)&&(t.controlPointNextX=l(t.controlPointNextX,r.left,r.right),t.controlPointNextY=l(t.controlPointNextY,r.top,r.bottom)))},draw:function(){var e,n=this.chart,t=this.getMeta(),i=t.data||[],a=n.chartArea,s=i.length,o=0;for(tn(this.getDataset(),n.options)&&(e=(t.dataset._model.borderWidth||0)/2,de.canvas.clipArea(n.ctx,{left:a.left,right:a.right,top:a.top-e,bottom:a.bottom+e}),t.dataset.draw(),de.canvas.unclipArea(n.ctx));o<s;++o)i[o].draw(a)},setHoverStyle:function(e){var n=e._model,t=e._options,i=de.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=Ze(t.hoverBackgroundColor,i(t.backgroundColor)),n.borderColor=Ze(t.hoverBorderColor,i(t.borderColor)),n.borderWidth=Ze(t.hoverBorderWidth,t.borderWidth),n.radius=Ze(t.hoverRadius,t.radius)}}),sn=de.options.resolve;re._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var n=[];n.push('<ul class="'+e.id+'-legend">');var t=e.data,i=t.datasets,a=t.labels;if(i.length)for(var s=0;s<i[0].data.length;++s)n.push('<li><span style="background-color:'+i[0].backgroundColor[s]+'"></span>'),a[s]&&n.push(a[s]),n.push("</li>");return n.push("</ul>"),n.join("")},legend:{labels:{generateLabels:function(o){var r=o.data;return r.labels.length&&r.datasets.length?r.labels.map(function(e,n){var t=o.getDatasetMeta(0),i=r.datasets[0],a=t.data[n].custom||{},s=o.options.elements.arc;return{text:e,fillStyle:sn([a.backgroundColor,i.backgroundColor,s.backgroundColor],void 0,n),strokeStyle:sn([a.borderColor,i.borderColor,s.borderColor],void 0,n),lineWidth:sn([a.borderWidth,i.borderWidth,s.borderWidth],void 0,n),hidden:isNaN(i.data[n])||t.data[n].hidden,index:n}}):[]}},onClick:function(e,n){var t,i,a,s=n.index,o=this.chart;for(t=0,i=(o.data.datasets||[]).length;t<i;++t)(a=o.getDatasetMeta(t)).data[s].hidden=!a.data[s].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,n){return n.labels[e.index]+": "+e.yLabel}}}});var on=Se.extend({dataElementType:Be.Arc,linkScales:de.noop,update:function(e){var n,t,i,a=this,s=a.getDataset(),o=a.getMeta(),r=a.chart.options.startAngle||0,c=a._starts=[],l=a._angles=[],d=o.data;for(a._updateRadius(),o.count=a.countVisibleElements(),n=0,t=s.data.length;n<t;n++)c[n]=r,i=a._computeAngle(n),r+=l[n]=i;for(n=0,t=d.length;n<t;++n)d[n]._options=a._resolveElementOptions(d[n],n),a.updateElement(d[n],n,e)},_updateRadius:function(){var e=this,n=e.chart,t=n.chartArea,i=n.options,a=Math.min(t.right-t.left,t.bottom-t.top);n.outerRadius=Math.max(a/2,0),n.innerRadius=Math.max(i.cutoutPercentage?n.outerRadius/100*i.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),e.outerRadius=n.outerRadius-n.radiusLength*e.index,e.innerRadius=e.outerRadius-n.radiusLength},updateElement:function(e,n,t){var i=this,a=i.chart,s=i.getDataset(),o=a.options,r=o.animation,c=a.scale,l=a.data.labels,d=c.xCenter,u=c.yCenter,p=o.startAngle,f=e.hidden?0:c.getDistanceFromCenterForValue(s.data[n]),g=i._starts[n],h=g+(e.hidden?0:i._angles[n]),m=r.animateScale?0:c.getDistanceFromCenterForValue(s.data[n]),v=e._options||{};de.extend(e,{_datasetIndex:i.index,_index:n,_scale:c,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:d,y:u,innerRadius:0,outerRadius:t?m:f,startAngle:t&&r.animateRotate?p:g,endAngle:t&&r.animateRotate?p:h,label:de.valueAtIndexOrDefault(l,n,l[n])}}),e.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return de.each(e.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},setHoverStyle:function(e){var n=e._model,t=e._options,i=de.getHoverColor,a=de.valueOrDefault;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth},n.backgroundColor=a(t.hoverBackgroundColor,i(t.backgroundColor)),n.borderColor=a(t.hoverBorderColor,i(t.borderColor)),n.borderWidth=a(t.hoverBorderWidth,t.borderWidth)},_resolveElementOptions:function(e,n){var t,i,a,s=this.chart,o=this.getDataset(),r=e.custom||{},c=s.options.elements.arc,l={},d={chart:s,dataIndex:n,dataset:o,datasetIndex:this.index},u=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(t=0,i=u.length;t<i;++t)l[a=u[t]]=sn([r[a],o[a],c[a]],d,n);return l},_computeAngle:function(e){var n=this,t=this.getMeta().count,i=n.getDataset(),a=n.getMeta();if(isNaN(i.data[e])||a.data[e].hidden)return 0;var s={chart:n.chart,dataIndex:e,dataset:i,datasetIndex:n.index};return sn([n.chart.options.elements.arc.angle,2*Math.PI/t],s,e)}});re._set("pie",de.clone(re.doughnut)),re._set("pie",{cutoutPercentage:0});var rn=Qe,cn=de.valueOrDefault,ln=de.options.resolve;re._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var dn=Se.extend({datasetElementType:Be.Line,dataElementType:Be.Point,linkScales:de.noop,update:function(e){var n,t,i=this,a=i.getMeta(),s=a.dataset,o=a.data||[],r=i.chart.scale,c=i.getDataset();for(void 0!==c.tension&&void 0===c.lineTension&&(c.lineTension=c.tension),s._scale=r,s._datasetIndex=i.index,s._children=o,s._loop=!0,s._model=i._resolveLineOptions(s),s.pivot(),n=0,t=o.length;n<t;++n)i.updateElement(o[n],n,e);for(i.updateBezierControlPoints(),n=0,t=o.length;n<t;++n)o[n].pivot()},updateElement:function(e,n,t){var i=this,a=e.custom||{},s=i.getDataset(),o=i.chart.scale,r=o.getPointPositionForValue(n,s.data[n]),c=i._resolvePointOptions(e,n),l=i.getMeta().dataset._model,d=t?o.xCenter:r.x,u=t?o.yCenter:r.y;e._scale=o,e._options=c,e._datasetIndex=i.index,e._index=n,e._model={x:d,y:u,skip:a.skip||isNaN(d)||isNaN(u),radius:c.radius,pointStyle:c.pointStyle,rotation:c.rotation,backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,tension:cn(a.tension,l?l.tension:0),hitRadius:c.hitRadius}},_resolvePointOptions:function(e,n){var t,i,a,s=this.chart,o=s.data.datasets[this.index],r=e.custom||{},c=s.options.elements.point,l={},d={chart:s,dataIndex:n,dataset:o,datasetIndex:this.index},u={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},p=Object.keys(u);for(t=0,i=p.length;t<i;++t)l[a=p[t]]=ln([r[a],o[u[a]],o[a],c[a]],d,n);return l},_resolveLineOptions:function(e){var n,t,i,a=this.chart,s=a.data.datasets[this.index],o=e.custom||{},r=a.options.elements.line,c={},l=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(n=0,t=l.length;n<t;++n)c[i=l[n]]=ln([o[i],s[i],r[i]]);return c.tension=cn(s.lineTension,r.tension),c},updateBezierControlPoints:function(){var e,n,t,i,a=this.getMeta(),s=this.chart.chartArea,o=a.data||[];function r(e,n,t){return Math.max(Math.min(e,t),n)}for(e=0,n=o.length;e<n;++e)t=o[e]._model,i=de.splineCurve(de.previousItem(o,e,!0)._model,t,de.nextItem(o,e,!0)._model,t.tension),t.controlPointPreviousX=r(i.previous.x,s.left,s.right),t.controlPointPreviousY=r(i.previous.y,s.top,s.bottom),t.controlPointNextX=r(i.next.x,s.left,s.right),t.controlPointNextY=r(i.next.y,s.top,s.bottom)},setHoverStyle:function(e){var n=e._model,t=e._options,i=de.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=cn(t.hoverBackgroundColor,i(t.backgroundColor)),n.borderColor=cn(t.hoverBorderColor,i(t.borderColor)),n.borderWidth=cn(t.hoverBorderWidth,t.borderWidth),n.radius=cn(t.hoverRadius,t.radius)}});re._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}});var un={bar:je,bubble:Ke,doughnut:Qe,horizontalBar:Xe,line:an,polarArea:on,pie:rn,radar:dn,scatter:an};function pn(e,n){return e.native?{x:e.x,y:e.y}:de.getRelativePosition(e,n)}function fn(e,n){var t,i,a,s,o;for(i=0,s=e.data.datasets.length;i<s;++i)if(e.isDatasetVisible(i))for(a=0,o=(t=e.getDatasetMeta(i)).data.length;a<o;++a){var r=t.data[a];r._view.skip||n(r)}}function gn(e,n){var t=[];return fn(e,function(e){e.inRange(n.x,n.y)&&t.push(e)}),t}function hn(e,i,a,s){var o=Number.POSITIVE_INFINITY,r=[];return fn(e,function(e){if(!a||e.inRange(i.x,i.y)){var n=e.getCenterPoint(),t=s(i,n);t<o?(r=[e],o=t):t===o&&r.push(e)}}),r}function mn(e){var a=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){var t=a?Math.abs(e.x-n.x):0,i=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}}function vn(i,e,n){var t=pn(e,i);n.axis=n.axis||"x";var a=mn(n.axis),s=n.intersect?gn(i,t):hn(i,t,!1,a),o=[];return s.length?(i.data.datasets.forEach(function(e,n){if(i.isDatasetVisible(n)){var t=i.getDatasetMeta(n).data[s[0]._index];t&&!t._view.skip&&o.push(t)}}),o):[]}var yn={modes:{single:function(e,n){var t=pn(n,e),i=[];return fn(e,function(e){if(e.inRange(t.x,t.y))return i.push(e),i}),i.slice(0,1)},label:vn,index:vn,dataset:function(e,n,t){var i=pn(n,e);t.axis=t.axis||"xy";var a=mn(t.axis),s=t.intersect?gn(e,i):hn(e,i,!1,a);return 0<s.length&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,n){return vn(e,n,{intersect:!1})},point:function(e,n){return gn(e,pn(n,e))},nearest:function(e,n,t){var i=pn(n,e);t.axis=t.axis||"xy";var a=mn(t.axis);return hn(e,i,t.intersect,a)},x:function(e,n,t){var i=pn(n,e),a=[],s=!1;return fn(e,function(e){e.inXRange(i.x)&&a.push(e),e.inRange(i.x,i.y)&&(s=!0)}),t.intersect&&!s&&(a=[]),a},y:function(e,n,t){var i=pn(n,e),a=[],s=!1;return fn(e,function(e){e.inYRange(i.y)&&a.push(e),e.inRange(i.x,i.y)&&(s=!0)}),t.intersect&&!s&&(a=[]),a}}};function bn(e,n){return de.where(e,function(e){return e.position===n})}function In(e,a){e.forEach(function(e,n){return e._tmpIndex_=n,e}),e.sort(function(e,n){var t=a?n:e,i=a?e:n;return t.weight===i.weight?t._tmpIndex_-i._tmpIndex_:t.weight-i.weight}),e.forEach(function(e){delete e._tmpIndex_})}function _n(e,n){de.each(e,function(e){n[e.position]+=e.isHorizontal()?e.height:e.width})}re._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var En={defaults:{},addBox:function(e,n){e.boxes||(e.boxes=[]),n.fullWidth=n.fullWidth||!1,n.position=n.position||"top",n.weight=n.weight||0,e.boxes.push(n)},removeBox:function(e,n){var t=e.boxes?e.boxes.indexOf(n):-1;-1!==t&&e.boxes.splice(t,1)},configure:function(e,n,t){for(var i,a=["fullWidth","position","weight"],s=a.length,o=0;o<s;++o)i=a[o],t.hasOwnProperty(i)&&(n[i]=t[i])},update:function(n,t,e){if(n){var i=n.options.layout||{},a=de.options.toPadding(i.padding),s=a.left,o=a.right,r=a.top,c=a.bottom,l=bn(n.boxes,"left"),d=bn(n.boxes,"right"),u=bn(n.boxes,"top"),p=bn(n.boxes,"bottom"),f=bn(n.boxes,"chartArea");In(l,!0),In(d,!1),In(u,!0),In(p,!1);var g,h=l.concat(d),m=u.concat(p),v=h.concat(m),y=t-s-o,b=e-r-c,I=(t-y/2)/h.length,_=y,E=b,S={top:r,left:s,bottom:c,right:o},w=[];de.each(v,function(e){var n,t=e.isHorizontal();t?(n=e.update(e.fullWidth?y:_,b/2),E-=n.height):(n=e.update(I,E),_-=n.width),w.push({horizontal:t,width:n.width,box:e})}),g=function(e){var t=0,i=0,a=0,s=0;return de.each(e,function(e){if(e.getPadding){var n=e.getPadding();t=Math.max(t,n.top),i=Math.max(i,n.left),a=Math.max(a,n.bottom),s=Math.max(s,n.right)}}),{top:t,left:i,bottom:a,right:s}}(v),de.each(h,L),_n(h,S),de.each(m,L),_n(m,S),de.each(h,function(n){var e=de.findNextWhere(w,function(e){return e.box===n}),t={left:0,right:0,top:S.top,bottom:S.bottom};e&&n.update(e.width,E,t)}),_n(v,S={top:r,left:s,bottom:c,right:o});var D=Math.max(g.left-S.left,0);S.left+=D,S.right+=Math.max(g.right-S.right,0);var N=Math.max(g.top-S.top,0);S.top+=N,S.bottom+=Math.max(g.bottom-S.bottom,0);var T=e-S.top-S.bottom,C=t-S.left-S.right;C===_&&T===E||(de.each(h,function(e){e.height=T}),de.each(m,function(e){e.fullWidth||(e.width=C)}),E=T,_=C);var P=s+D,A=r+N;de.each(l.concat(u),k),P+=_,A+=E,de.each(d,k),de.each(p,k),n.chartArea={left:S.left,top:S.top,right:S.left+_,bottom:S.top+E},de.each(f,function(e){e.left=n.chartArea.left,e.top=n.chartArea.top,e.right=n.chartArea.right,e.bottom=n.chartArea.bottom,e.update(_,E)})}function L(n){var e=de.findNextWhere(w,function(e){return e.box===n});if(e)if(e.horizontal){var t={left:Math.max(S.left,g.left),right:Math.max(S.right,g.right),top:0,bottom:0};n.update(n.fullWidth?y:_,b/2,t)}else n.update(e.width,E)}function k(e){e.isHorizontal()?(e.left=e.fullWidth?s:S.left,e.right=e.fullWidth?t-o:S.left+_,e.top=A,e.bottom=A+e.height,A=e.bottom):(e.left=P,e.right=P+e.width,e.top=S.top,e.bottom=S.top+E,P=e.right)}}};var Sn,wn=(Sn=Object.freeze({default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&Sn.default||Sn,Dn="$chartjs",Nn="chartjs-",Tn=Nn+"size-monitor",Cn=Nn+"render-monitor",Pn=Nn+"render-animation",An=["animationstart","webkitAnimationStart"],Ln={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function kn(e,n){var t=de.getStyle(e,n),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var On=!!function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,n)}catch(e){}return e}()&&{passive:!0};function xn(e,n,t){e.addEventListener(n,t,On)}function Rn(e,n,t){e.removeEventListener(n,t,On)}function Gn(e,n,t,i,a){return{type:e,chart:n,native:a||null,x:void 0!==t?t:null,y:void 0!==i?i:null}}function Mn(e){var n=document.createElement("div");return n.className=e||"",n}function Hn(t,i,a){var s=t[Dn]||(t[Dn]={}),n=s.resizer=function(e){var n=Mn(Tn),t=Mn(Tn+"-expand"),i=Mn(Tn+"-shrink");function a(){n._reset(),e()}return t.appendChild(Mn()),i.appendChild(Mn()),n.appendChild(t),n.appendChild(i),n._reset=function(){t.scrollLeft=1e6,t.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6},xn(t,"scroll",a.bind(t,"expand")),xn(i,"scroll",a.bind(i,"shrink")),n}(function(e,n){var t=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),n=n||this,t||(t=!0,de.requestAnimFrame.call(window,function(){t=!1,e.apply(n,i)}))}}(function(){if(s.resizer){var e=a.options.maintainAspectRatio&&t.parentNode,n=e?e.clientWidth:0;i(Gn("resize",a)),e&&e.clientWidth<n&&a.canvas&&i(Gn("resize",a))}}));!function(n,t){var e=n[Dn]||(n[Dn]={}),i=e.renderProxy=function(e){e.animationName===Pn&&t()};de.each(An,function(e){xn(n,e,i)}),e.reflow=!!n.offsetParent,n.classList.add(Cn)}(t,function(){if(s.resizer){var e=t.parentNode;e&&e!==n.parentNode&&e.insertBefore(n,e.firstChild),n._reset()}})}function Bn(e){var n=e[Dn]||{},t=n.resizer;delete n.resizer,function(n){var e=n[Dn]||{},t=e.renderProxy;t&&(de.each(An,function(e){Rn(n,e,t)}),delete e.renderProxy),n.classList.remove(Cn)}(e),t&&t.parentNode&&t.parentNode.removeChild(t)}var Fn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){this._loaded||(this._loaded=!0,this.disableCSSInjection||function(e,n){var t=e._style||document.createElement("style");e._style||(n="/* Chart.js */\n"+n,(e._style=t).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(t)),t.appendChild(document.createTextNode(n))}(this,wn))},acquireContext:function(e,n){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var t=e&&e.getContext&&e.getContext("2d");return this._ensureLoaded(),t&&t.canvas===e?(function(e,n){var t=e.style,i=e.getAttribute("height"),a=e.getAttribute("width");if(e[Dn]={initial:{height:i,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",null===a||""===a){var s=kn(e,"width");void 0!==s&&(e.width=s)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(n.options.aspectRatio||2);else{var o=kn(e,"height");void 0!==s&&(e.height=o)}}(e,n),t):null},releaseContext:function(e){var t=e.canvas;if(t[Dn]){var i=t[Dn].initial;["height","width"].forEach(function(e){var n=i[e];de.isNullOrUndef(n)?t.removeAttribute(e):t.setAttribute(e,n)}),de.each(i.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[Dn]}},addEventListener:function(n,e,t){var i=n.canvas;if("resize"!==e){var a=t[Dn]||(t[Dn]={});xn(i,e,(a.proxies||(a.proxies={}))[n.id+"_"+e]=function(e){t(function(e,n){var t=Ln[e.type]||e.type,i=de.getRelativePosition(e,n);return Gn(t,n,i.x,i.y,e)}(e,n))})}else Hn(i,t,n)},removeEventListener:function(e,n,t){var i=e.canvas;if("resize"!==n){var a=((t[Dn]||{}).proxies||{})[e.id+"_"+n];a&&Rn(i,n,a)}else Bn(i)}};de.addEvent=xn,de.removeEvent=Rn;var Vn=Fn._enabled?Fn:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},qn=de.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Vn);re._set("global",{plugins:{}});var Un={_plugins:[],_cacheId:0,register:function(e){var n=this._plugins;[].concat(e).forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,n,t){var i,a,s,o,r,c=this.descriptors(e),l=c.length;for(i=0;i<l;++i)if("function"==typeof(r=(s=(a=c[i]).plugin)[n])&&((o=[e].concat(t||[])).push(a.options),!1===r.apply(s,o)))return!1;return!0},descriptors:function(e){var n=e.$plugins||(e.$plugins={});if(n.id===this._cacheId)return n.descriptors;var i=[],a=[],t=e&&e.config||{},s=t.options&&t.options.plugins||{};return this._plugins.concat(t.plugins||[]).forEach(function(e){if(-1===i.indexOf(e)){var n=e.id,t=s[n];!1!==t&&(!0===t&&(t=de.clone(re.global.plugins[n])),i.push(e),a.push({plugin:e,options:t||{}}))}}),n.descriptors=a,n.id=this._cacheId,a},_invalidate:function(e){delete e.$plugins}},$n={constructors:{},defaults:{},registerScaleType:function(e,n,t){this.constructors[e]=n,this.defaults[e]=de.clone(t)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?de.merge({},[re.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,n){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=de.extend(this.defaults[e],n))},addScalesToLayout:function(n){de.each(n.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,En.addBox(n,e)})}},jn=de.valueOrDefault;re._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:de.noop,title:function(e,n){var t="",i=n.labels,a=i?i.length:0;if(0<e.length){var s=e[0];s.label?t=s.label:s.xLabel?t=s.xLabel:0<a&&s.index<a&&(t=i[s.index])}return t},afterTitle:de.noop,beforeBody:de.noop,beforeLabel:de.noop,label:function(e,n){var t=n.datasets[e.datasetIndex].label||"";return t&&(t+=": "),de.isNullOrUndef(e.value)?t+=e.yLabel:t+=e.value,t},labelColor:function(e,n){var t=n.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:t.borderColor,backgroundColor:t.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:de.noop,afterBody:de.noop,beforeFooter:de.noop,footer:de.noop,afterFooter:de.noop}}});var Yn={average:function(e){if(!e.length)return!1;var n,t,i=0,a=0,s=0;for(n=0,t=e.length;n<t;++n){var o=e[n];if(o&&o.hasValue()){var r=o.tooltipPosition();i+=r.x,a+=r.y,++s}}return{x:i/s,y:a/s}},nearest:function(e,n){var t,i,a,s=n.x,o=n.y,r=Number.POSITIVE_INFINITY;for(t=0,i=e.length;t<i;++t){var c=e[t];if(c&&c.hasValue()){var l=c.getCenterPoint(),d=de.distanceBetweenPoints(n,l);d<r&&(r=d,a=c)}}if(a){var u=a.tooltipPosition();s=u.x,o=u.y}return{x:s,y:o}}};function zn(e,n){return n&&(de.isArray(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function Kn(e){return("string"==typeof e||e instanceof String)&&-1<e.indexOf("\n")?e.split("\n"):e}function Wn(e){var n=re.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:jn(e.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:jn(e.bodyFontStyle,n.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:jn(e.bodyFontSize,n.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:jn(e.titleFontFamily,n.defaultFontFamily),_titleFontStyle:jn(e.titleFontStyle,n.defaultFontStyle),titleFontSize:jn(e.titleFontSize,n.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:jn(e.footerFontFamily,n.defaultFontFamily),_footerFontStyle:jn(e.footerFontStyle,n.defaultFontStyle),footerFontSize:jn(e.footerFontSize,n.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Jn(e,n){return"center"===n?e.x+e.width/2:"right"===n?e.x+e.width-e.xPadding:e.x+e.xPadding}function Qn(e){return zn([],Kn(e))}var Xn=he.extend({initialize:function(){this._model=Wn(this._options),this._lastActive=[]},getTitle:function(){var e=this._options.callbacks,n=e.beforeTitle.apply(this,arguments),t=e.title.apply(this,arguments),i=e.afterTitle.apply(this,arguments),a=[];return a=zn(a=zn(a=zn(a,Kn(n)),Kn(t)),Kn(i))},getBeforeBody:function(){return Qn(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var i=this,a=i._options.callbacks,s=[];return de.each(e,function(e){var n={before:[],lines:[],after:[]};zn(n.before,Kn(a.beforeLabel.call(i,e,t))),zn(n.lines,a.label.call(i,e,t)),zn(n.after,Kn(a.afterLabel.call(i,e,t))),s.push(n)}),s},getAfterBody:function(){return Qn(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this._options.callbacks,n=e.beforeFooter.apply(this,arguments),t=e.footer.apply(this,arguments),i=e.afterFooter.apply(this,arguments),a=[];return a=zn(a=zn(a=zn(a,Kn(n)),Kn(t)),Kn(i))},update:function(e){var n,t,i,a,s,o,r,c,l,d,u=this,p=u._options,f=u._model,g=u._model=Wn(p),h=u._active,m=u._data,v={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},b={width:f.width,height:f.height},I={x:f.caretX,y:f.caretY};if(h.length){g.opacity=1;var _=[],E=[];I=Yn[p.position].call(u,h,u._eventPosition);var S=[];for(n=0,t=h.length;n<t;++n)S.push((i=h[n],d=l=c=s=a=void 0,a=i._xScale,s=i._yScale||i._scale,o=i._index,r=i._datasetIndex,c=i._chart.getDatasetMeta(r).controller,l=c._getIndexScale(),d=c._getValueScale(),{xLabel:a?a.getLabelForIndex(o,r):"",yLabel:s?s.getLabelForIndex(o,r):"",label:l?""+l.getLabelForIndex(o,r):"",value:d?""+d.getLabelForIndex(o,r):"",index:o,datasetIndex:r,x:i._model.x,y:i._model.y}));p.filter&&(S=S.filter(function(e){return p.filter(e,m)})),p.itemSort&&(S=S.sort(function(e,n){return p.itemSort(e,n,m)})),de.each(S,function(e){_.push(p.callbacks.labelColor.call(u,e,u._chart)),E.push(p.callbacks.labelTextColor.call(u,e,u._chart))}),g.title=u.getTitle(S,m),g.beforeBody=u.getBeforeBody(S,m),g.body=u.getBody(S,m),g.afterBody=u.getAfterBody(S,m),g.footer=u.getFooter(S,m),g.x=I.x,g.y=I.y,g.caretPadding=p.caretPadding,g.labelColors=_,g.labelTextColors=E,g.dataPoints=S,y=function(e,n,t,i){var a=e.x,s=e.y,o=e.caretSize,r=e.caretPadding,c=e.cornerRadius,l=t.xAlign,d=t.yAlign,u=o+r,p=c+r;return"right"===l?a-=n.width:"center"===l&&((a-=n.width/2)+n.width>i.width&&(a=i.width-n.width),a<0&&(a=0)),"top"===d?s+=u:s-="bottom"===d?n.height+u:n.height/2,"center"===d?"left"===l?a+=u:"right"===l&&(a-=u):"left"===l?a-=p:"right"===l&&(a+=p),{x:a,y:s}}(g,b=function(e,n){var t=e._chart.ctx,i=2*n.yPadding,a=0,s=n.body,o=s.reduce(function(e,n){return e+n.before.length+n.lines.length+n.after.length},0);o+=n.beforeBody.length+n.afterBody.length;var r=n.title.length,c=n.footer.length,l=n.titleFontSize,d=n.bodyFontSize,u=n.footerFontSize;function p(e){a=Math.max(a,t.measureText(e).width+f)}i+=r*l,i+=r?(r-1)*n.titleSpacing:0,i+=r?n.titleMarginBottom:0,i+=o*d,i+=o?(o-1)*n.bodySpacing:0,i+=c?n.footerMarginTop:0,i+=c*u,i+=c?(c-1)*n.footerSpacing:0;var f=0;return t.font=de.fontString(l,n._titleFontStyle,n._titleFontFamily),de.each(n.title,p),t.font=de.fontString(d,n._bodyFontStyle,n._bodyFontFamily),de.each(n.beforeBody.concat(n.afterBody),p),f=n.displayColors?d+2:0,de.each(s,function(e){de.each(e.before,p),de.each(e.lines,p),de.each(e.after,p)}),f=0,t.font=de.fontString(u,n._footerFontStyle,n._footerFontFamily),de.each(n.footer,p),{width:a+=2*n.xPadding,height:i}}(this,g),v=function(e,n){var t,i,a,s,o,r=e._model,c=e._chart,l=e._chart.chartArea,d="center",u="center";r.y<n.height?u="top":r.y>c.height-n.height&&(u="bottom");var p=(l.left+l.right)/2,f=(l.top+l.bottom)/2;i="center"===u?(t=function(e){return e<=p},function(e){return p<e}):(t=function(e){return e<=n.width/2},function(e){return e>=c.width-n.width/2}),a=function(e){return e+n.width+r.caretSize+r.caretPadding>c.width},s=function(e){return e-n.width-r.caretSize-r.caretPadding<0},o=function(e){return e<=f?"top":"bottom"},t(r.x)?(d="left",a(r.x)&&(d="center",u=o(r.y))):i(r.x)&&(d="right",s(r.x)&&(d="center",u=o(r.y)));var g=e._options;return{xAlign:g.xAlign?g.xAlign:d,yAlign:g.yAlign?g.yAlign:u}}(this,b),u._chart)}else g.opacity=0;return g.xAlign=v.xAlign,g.yAlign=v.yAlign,g.x=y.x,g.y=y.y,g.width=b.width,g.height=b.height,g.caretX=I.x,g.caretY=I.y,u._model=g,e&&p.custom&&p.custom.call(u,g),u},drawCaret:function(e,n){var t=this._chart.ctx,i=this._view,a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)},getCaretPosition:function(e,n,t){var i,a,s,o,r,c,l=t.caretSize,d=t.cornerRadius,u=t.xAlign,p=t.yAlign,f=e.x,g=e.y,h=n.width,m=n.height;if("center"===p)r=g+m/2,c="left"===u?(a=(i=f)-l,s=i,o=r+l,r-l):(a=(i=f+h)+l,s=i,o=r-l,r+l);else if(s=(i="left"===u?(a=f+d+l)-l:"right"===u?(a=f+h-d-l)-l:(a=t.caretX)-l,a+l),"top"===p)r=(o=g)-l,c=o;else{r=(o=g+m)+l,c=o;var v=s;s=i,i=v}return{x1:i,x2:a,x3:s,y1:o,y2:r,y3:c}},drawTitle:function(e,n,t){var i=n.title;if(i.length){e.x=Jn(n,n._titleAlign),t.textAlign=n._titleAlign,t.textBaseline="top";var a,s,o=n.titleFontSize,r=n.titleSpacing;for(t.fillStyle=n.titleFontColor,t.font=de.fontString(o,n._titleFontStyle,n._titleFontFamily),a=0,s=i.length;a<s;++a)t.fillText(i[a],e.x,e.y),e.y+=o+r,a+1===i.length&&(e.y+=n.titleMarginBottom-r)}},drawBody:function(t,i,a){var s,o=i.bodyFontSize,n=i.bodySpacing,e=i._bodyAlign,r=i.body,c=i.displayColors,l=i.labelColors,d=0,u=c?Jn(i,"left"):0;a.textAlign=e,a.textBaseline="top",a.font=de.fontString(o,i._bodyFontStyle,i._bodyFontFamily),t.x=Jn(i,e);function p(e){a.fillText(e,t.x+d,t.y),t.y+=o+n}a.fillStyle=i.bodyFontColor,de.each(i.beforeBody,p),d=c&&"right"!==e?"center"===e?o/2+1:o+2:0,de.each(r,function(e,n){s=i.labelTextColors[n],a.fillStyle=s,de.each(e.before,p),de.each(e.lines,function(e){c&&(a.fillStyle=i.legendColorBackground,a.fillRect(u,t.y,o,o),a.lineWidth=1,a.strokeStyle=l[n].borderColor,a.strokeRect(u,t.y,o,o),a.fillStyle=l[n].backgroundColor,a.fillRect(u+1,t.y+1,o-2,o-2),a.fillStyle=s),p(e)}),de.each(e.after,p)}),d=0,de.each(i.afterBody,p),t.y-=n},drawFooter:function(n,t,i){var e=t.footer;e.length&&(n.x=Jn(t,t._footerAlign),n.y+=t.footerMarginTop,i.textAlign=t._footerAlign,i.textBaseline="top",i.fillStyle=t.footerFontColor,i.font=de.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),de.each(e,function(e){i.fillText(e,n.x,n.y),n.y+=t.footerFontSize+t.footerSpacing}))},drawBackground:function(e,n,t,i){t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var a=n.xAlign,s=n.yAlign,o=e.x,r=e.y,c=i.width,l=i.height,d=n.cornerRadius;t.beginPath(),t.moveTo(o+d,r),"top"===s&&this.drawCaret(e,i),t.lineTo(o+c-d,r),t.quadraticCurveTo(o+c,r,o+c,r+d),"center"===s&&"right"===a&&this.drawCaret(e,i),t.lineTo(o+c,r+l-d),t.quadraticCurveTo(o+c,r+l,o+c-d,r+l),"bottom"===s&&this.drawCaret(e,i),t.lineTo(o+d,r+l),t.quadraticCurveTo(o,r+l,o,r+l-d),"center"===s&&"left"===a&&this.drawCaret(e,i),t.lineTo(o,r+d),t.quadraticCurveTo(o,r,o+d,r),t.closePath(),t.fill(),0<n.borderWidth&&t.stroke()},draw:function(){var e=this._chart.ctx,n=this._view;if(0!==n.opacity){var t={width:n.width,height:n.height},i={x:n.x,y:n.y},a=Math.abs(n.opacity<.001)?0:n.opacity,s=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;this._options.enabled&&s&&(e.save(),e.globalAlpha=a,this.drawBackground(i,n,e,t),i.y+=n.yPadding,this.drawTitle(i,n,e),this.drawBody(i,n,e),this.drawFooter(i,n,e),e.restore())}},handleEvent:function(e){var n,t=this,i=t._options;return t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chart.getElementsAtEventForMode(e,i.mode,i),(n=!de.arrayEquals(t._active,t._lastActive))&&(t._lastActive=t._active,(i.enabled||i.custom)&&(t._eventPosition={x:e.x,y:e.y},t.update(!0),t.pivot())),n}}),Zn=Yn,et=Xn;et.positioners=Zn;var nt=de.valueOrDefault;function tt(){return de.merge({},[].slice.call(arguments),{merger:function(e,n,t,i){if("xAxes"===e||"yAxes"===e){var a,s,o,r=t[e].length;for(n[e]||(n[e]=[]),a=0;a<r;++a)o=t[e][a],s=nt(o.type,"xAxes"===e?"category":"linear"),a>=n[e].length&&n[e].push({}),!n[e][a].type||o.type&&o.type!==n[e][a].type?de.merge(n[e][a],[$n.getScaleDefaults(s),o]):de.merge(n[e][a],o)}else de._merger(e,n,t,i)}})}function it(){return de.merge({},[].slice.call(arguments),{merger:function(e,n,t,i){var a=n[e]||{},s=t[e];"scales"===e?n[e]=tt(a,s):"scale"===e?n[e]=de.merge(a,[$n.getScaleDefaults(s.type),s]):de._merger(e,n,t,i)}})}function at(e){return"top"===e||"bottom"===e}re._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function st(e,n){return this.construct(e,n),this}de.extend(st.prototype,{construct:function(e,n){var t=this;n=function(e){var n=(e=e||{}).data=e.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],e.options=it(re.global,re[e.type],e.options||{}),e}(n);var i=qn.acquireContext(e,n),a=i&&i.canvas,s=a&&a.height,o=a&&a.width;t.id=de.uid(),t.ctx=i,t.canvas=a,t.config=n,t.width=o,t.height=s,t.aspectRatio=s?o/s:null,t.options=n.options,t._bufferedRender=!1,(t.chart=t).controller=t,st.instances[t.id]=t,Object.defineProperty(t,"data",{get:function(){return t.config.data},set:function(e){t.config.data=e}}),i&&a?(t.initialize(),t.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Un.notify(e,"beforeInit"),de.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.initToolTip(),Un.notify(e,"afterInit"),e},clear:function(){return de.canvas.clear(this),this},stop:function(){return ye.cancelAnimation(this),this},resize:function(e){var n=this,t=n.options,i=n.canvas,a=t.maintainAspectRatio&&n.aspectRatio||null,s=Math.max(0,Math.floor(de.getMaximumWidth(i))),o=Math.max(0,Math.floor(a?s/a:de.getMaximumHeight(i)));if((n.width!==s||n.height!==o)&&(i.width=n.width=s,i.height=n.height=o,i.style.width=s+"px",i.style.height=o+"px",de.retinaScale(n,t.devicePixelRatio),!e)){var r={width:s,height:o};Un.notify(n,"resize",[r]),t.onResize&&t.onResize(n,r),n.stop(),n.update({duration:t.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},t=e.scale;de.each(n.xAxes,function(e,n){e.id=e.id||"x-axis-"+n}),de.each(n.yAxes,function(e,n){e.id=e.id||"y-axis-"+n}),t&&(t.id=t.id||"scale")},buildOrUpdateScales:function(){var o=this,e=o.options,r=o.scales||{},n=[],c=Object.keys(r).reduce(function(e,n){return e[n]=!1,e},{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),de.each(n,function(e){var n=e.options,t=n.id,i=nt(n.type,e.dtype);at(n.position)!==at(e.dposition)&&(n.position=e.dposition),c[t]=!0;var a=null;if(t in r&&r[t].type===i)(a=r[t]).options=n,a.ctx=o.ctx,a.chart=o;else{var s=$n.getScaleConstructor(i);if(!s)return;a=new s({id:t,type:i,options:n,ctx:o.ctx,chart:o}),r[a.id]=a}a.mergeTicksOptions(),e.isDefault&&(o.scale=a)}),de.each(c,function(e,n){e||delete r[n]}),o.scales=r,$n.addScalesToLayout(this)},buildOrUpdateControllers:function(){var s=this,o=[];return de.each(s.data.datasets,function(e,n){var t=s.getDatasetMeta(n),i=e.type||s.config.type;if(t.type&&t.type!==i&&(s.destroyDatasetMeta(n),t=s.getDatasetMeta(n)),t.type=i,t.controller)t.controller.updateIndex(n),t.controller.linkScales();else{var a=un[t.type];if(void 0===a)throw new Error('"'+t.type+'" is not a chart type.');t.controller=new a(s,n),o.push(t.controller)}},s),o},resetElements:function(){var t=this;de.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),function(n){var e=n.options;de.each(n.scales,function(e){En.removeBox(n,e)}),e=it(re.global,re[n.config.type],e),n.options=n.config.options=e,n.ensureScalesHaveIDs(),n.buildOrUpdateScales(),n.tooltip._options=e.tooltips,n.tooltip.initialize()}(t),Un._invalidate(t),!1!==Un.notify(t,"beforeUpdate")){t.tooltip._data=t.data;var n=t.buildOrUpdateControllers();de.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.buildOrUpdateElements()},t),t.updateLayout(),t.options.animation&&t.options.animation.duration&&de.each(n,function(e){e.reset()}),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],Un.notify(t,"afterUpdate"),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){!1!==Un.notify(this,"beforeLayout")&&(En.update(this,this.width,this.height),Un.notify(this,"afterScaleUpdate"),Un.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==Un.notify(this,"beforeDatasetsUpdate")){for(var e=0,n=this.data.datasets.length;e<n;++e)this.updateDataset(e);Un.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var n=this.getDatasetMeta(e),t={meta:n,index:e};!1!==Un.notify(this,"beforeDatasetUpdate",[t])&&(n.controller.update(),Un.notify(this,"afterDatasetUpdate",[t]))},render:function(e){var n=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var t=n.options.animation,i=nt(e.duration,t&&t.duration),a=e.lazy;if(!1!==Un.notify(n,"beforeRender")){var s=function(e){Un.notify(n,"afterRender"),de.callback(t&&t.onComplete,[e],n)};if(t&&i){var o=new ve({numSteps:i/16.66,easing:e.easing||t.easing,render:function(e,n){var t=de.easing.effects[n.easing],i=n.currentStep,a=i/n.numSteps;e.draw(t(a),a,i)},onAnimationProgress:t.onProgress,onAnimationComplete:s});ye.addAnimation(n,o,i,a)}else n.draw(),s(new ve({numSteps:0,chart:n}));return n}},draw:function(e){var n=this;n.clear(),de.isNullOrUndef(e)&&(e=1),n.transition(e),n.width<=0||n.height<=0||!1!==Un.notify(n,"beforeDraw",[e])&&(de.each(n.boxes,function(e){e.draw(n.chartArea)},n),n.drawDatasets(e),n._drawTooltip(e),Un.notify(n,"afterDraw",[e]))},transition:function(e){for(var n=0,t=(this.data.datasets||[]).length;n<t;++n)this.isDatasetVisible(n)&&this.getDatasetMeta(n).controller.transition(e);this.tooltip.transition(e)},drawDatasets:function(e){var n=this;if(!1!==Un.notify(n,"beforeDatasetsDraw",[e])){for(var t=(n.data.datasets||[]).length-1;0<=t;--t)n.isDatasetVisible(t)&&n.drawDataset(t,e);Un.notify(n,"afterDatasetsDraw",[e])}},drawDataset:function(e,n){var t=this.getDatasetMeta(e),i={meta:t,index:e,easingValue:n};!1!==Un.notify(this,"beforeDatasetDraw",[i])&&(t.controller.draw(n),Un.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(e){var n=this.tooltip,t={tooltip:n,easingValue:e};!1!==Un.notify(this,"beforeTooltipDraw",[t])&&(n.draw(),Un.notify(this,"afterTooltipDraw",[t]))},getElementAtEvent:function(e){return yn.modes.single(this,e)},getElementsAtEvent:function(e){return yn.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return yn.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,n,t){var i=yn.modes[n];return"function"==typeof i?i(this,e,t):[]},getDatasetAtEvent:function(e){return yn.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var n=this.data.datasets[e];n._meta||(n._meta={});var t=n._meta[this.id];return t||(t=n._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),t},getVisibleDatasetCount:function(){for(var e=0,n=0,t=this.data.datasets.length;n<t;++n)this.isDatasetVisible(n)&&e++;return e},isDatasetVisible:function(e){var n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var n=this.id,t=this.data.datasets[e],i=t._meta&&t._meta[n];i&&(i.controller.destroy(),delete t._meta[n])},destroy:function(){var e,n,t=this,i=t.canvas;for(t.stop(),e=0,n=t.data.datasets.length;e<n;++e)t.destroyDatasetMeta(e);i&&(t.unbindEvents(),de.canvas.clear(t),qn.releaseContext(t.ctx),t.canvas=null,t.ctx=null),Un.notify(t,"destroy"),delete st.instances[t.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new et({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var n=this,t=n._listeners={},i=function(){n.eventHandler.apply(n,arguments)};de.each(n.options.events,function(e){qn.addEventListener(n,e,i),t[e]=i}),n.options.responsive&&(i=function(){n.resize()},qn.addEventListener(n,"resize",i),t.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,de.each(e,function(e,n){qn.removeEventListener(t,n,e)}))},updateHoverStyle:function(e,n,t){var i,a,s,o=t?"setHoverStyle":"removeHoverStyle";for(a=0,s=e.length;a<s;++a)(i=e[a])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(e){var n=this,t=n.tooltip;if(!1!==Un.notify(n,"beforeEvent",[e])){n._bufferedRender=!0,n._bufferedRequest=null;var i=n.handleEvent(e);t&&(i=t._start?t.handleEvent(e):i|t.handleEvent(e)),Un.notify(n,"afterEvent",[e]);var a=n._bufferedRequest;return a?n.render(a):i&&!n.animating&&(n.stop(),n.render({duration:n.options.hover.animationDuration,lazy:!0})),n._bufferedRender=!1,n._bufferedRequest=null,n}},handleEvent:function(e){var n,t=this,i=t.options||{},a=i.hover;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,a.mode,a),de.callback(i.onHover||i.hover.onHover,[e.native,t.active],t),"mouseup"!==e.type&&"click"!==e.type||i.onClick&&i.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,a.mode,!1),t.active.length&&a.mode&&t.updateHoverStyle(t.active,a.mode,!0),n=!de.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,n}}),st.instances={};var ot=st;(st.Controller=st).types={},de.configMerge=it,de.scaleMerge=tt;function rt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ct(e){this.options=e||{}}de.extend(ct.prototype,{formats:rt,parse:rt,format:rt,add:rt,diff:rt,startOf:rt,endOf:rt,_create:function(e){return e}}),ct.override=function(e){de.extend(ct.prototype,e)};var lt={_date:ct},dt={formatters:{values:function(e){return de.isArray(e)?e:""+e},linear:function(e,n,t){var i=3<t.length?t[2]-t[1]:t[1]-t[0];1<Math.abs(i)&&e!==Math.floor(e)&&(i=e-Math.floor(e));var a=de.log10(Math.abs(i)),s="";if(0!==e)if(Math.max(Math.abs(t[0]),Math.abs(t[t.length-1]))<1e-4){var o=de.log10(Math.abs(e));s=e.toExponential(Math.floor(o)-Math.floor(a))}else{var r=-1*Math.floor(a);r=Math.max(Math.min(r,20),0),s=e.toFixed(r)}else s="0";return s},logarithmic:function(e,n,t){var i=e/Math.pow(10,Math.floor(de.log10(e)));return 0===e?"0":1==i||2==i||5==i||0===n||n===t.length-1?e.toExponential():""}}},ut=de.valueOrDefault,pt=de.valueAtIndexOrDefault;function ft(e){var n,t,i=[];for(n=0,t=e.length;n<t;++n)i.push(e[n].label);return i}function gt(e,n,t){return de.isArray(n)?de.longestText(e,t,n):e.measureText(n).width}re._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:dt.formatters.values,minor:{},major:{}}});var ht=he.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var n in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)"major"!==n&&"minor"!==n&&(void 0===e.minor[n]&&(e.minor[n]=e[n]),void 0===e.major[n]&&(e.major[n]=e[n]))},beforeUpdate:function(){de.callback(this.options.beforeUpdate,[this])},update:function(e,n,t){var i,a,s,o,r,c,l=this;for(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=n,l.margins=de.extend({left:0,right:0,top:0,bottom:0},t),l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),r=l.buildTicks()||[],r=l.afterBuildTicks(r)||r,l.beforeTickToLabelConversion(),s=l.convertTicksToLabels(r)||l.ticks,l.afterTickToLabelConversion(),i=0,a=(l.ticks=s).length;i<a;++i)o=s[i],(c=r[i])?c.label=o:r.push(c={label:o,major:!1});return l._ticks=r,l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l.afterUpdate(),l.minSize},afterUpdate:function(){de.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){de.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){de.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){de.callback(this.options.beforeDataLimits,[this])},determineDataLimits:de.noop,afterDataLimits:function(){de.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){de.callback(this.options.beforeBuildTicks,[this])},buildTicks:de.noop,afterBuildTicks:function(e){var n=this;return de.isArray(e)&&e.length?de.callback(n.options.afterBuildTicks,[n,e]):(n.ticks=de.callback(n.options.afterBuildTicks,[n,n.ticks])||n.ticks,e)},beforeTickToLabelConversion:function(){de.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){de.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){de.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,n=e.ctx,t=e.options.ticks,i=ft(e._ticks),a=de.options._parseFont(t);n.font=a.string;var s=t.minRotation||0;if(i.length&&e.options.display&&e.isHorizontal())for(var o,r=de.longestText(n,a.string,i,e.longestTextCache),c=r,l=e.getPixelForTick(1)-e.getPixelForTick(0)-6;l<c&&s<t.maxRotation;){var d=de.toRadians(s);if(o=Math.cos(d),Math.sin(d)*r>e.maxHeight){s--;break}s++,c=o*r}e.labelRotation=s},afterCalculateTickRotation:function(){de.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){de.callback(this.options.beforeFit,[this])},fit:function(){var e=this,n=e.minSize={width:0,height:0},t=ft(e._ticks),i=e.options,a=i.ticks,s=i.scaleLabel,o=i.gridLines,r=e._isVisible(),c=i.position,l=e.isHorizontal(),d=de.options._parseFont,u=d(a),p=i.gridLines.tickMarkLength;if(n.width=l?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:r&&o.drawTicks?p:0,n.height=l?r&&o.drawTicks?p:0:e.maxHeight,s.display&&r){var f=d(s),g=de.options.toPadding(s.padding),h=f.lineHeight+g.height;l?n.height+=h:n.width+=h}if(a.display&&r){var m=de.longestText(e.ctx,u.string,t,e.longestTextCache),v=de.numberOfLabelLines(t),y=.5*u.size,b=e.options.ticks.padding;if(e._maxLabelLines=v,e.longestLabelWidth=m,l){var I=de.toRadians(e.labelRotation),_=Math.cos(I),E=Math.sin(I)*m+u.lineHeight*v+y;n.height=Math.min(e.maxHeight,n.height+E+b),e.ctx.font=u.string;var S,w,D=gt(e.ctx,t[0],u.string),N=gt(e.ctx,t[t.length-1],u.string),T=e.getPixelForTick(0)-e.left,C=e.right-e.getPixelForTick(t.length-1);w=0!==e.labelRotation?(S="bottom"===c?_*D:_*y,"bottom"===c?_*y:_*N):(S=D/2,N/2),e.paddingLeft=Math.max(S-T,0)+3,e.paddingRight=Math.max(w-C,0)+3}else a.mirror?m=0:m+=b+y,n.width=Math.min(e.maxWidth,n.width+m),e.paddingTop=u.size/2,e.paddingBottom=u.size/2}e.handleMargins(),e.width=n.width,e.height=n.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){de.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(de.isNullOrUndef(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:de.noop,getPixelForValue:de.noop,getValueForPixel:de.noop,getPixelForTick:function(e){var n=this,t=n.options.offset;if(n.isHorizontal()){var i=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n._ticks.length-(t?0:1),1),a=i*e+n.paddingLeft;t&&(a+=i/2);var s=n.left+a;return s+=n.isFullWidth()?n.margins.left:0}var o=n.height-(n.paddingTop+n.paddingBottom);return n.top+e*(o/(n._ticks.length-1))},getPixelForDecimal:function(e){var n=this;if(n.isHorizontal()){var t=(n.width-(n.paddingLeft+n.paddingRight))*e+n.paddingLeft,i=n.left+t;return i+=n.isFullWidth()?n.margins.left:0}return n.top+e*n.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,n=this.max;return this.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0},_autoSkip:function(e){var n,t,i=this,a=i.isHorizontal(),s=i.options.ticks.minor,o=e.length,r=!1,c=s.maxTicksLimit,l=i._tickSize()*(o-1),d=a?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.PaddingBottom),u=[];for(d<l&&(r=1+Math.floor(l/d)),c<o&&(r=Math.max(r,1+Math.floor(o/c))),n=0;n<o;n++)t=e[n],1<r&&0<n%r&&delete t.label,u.push(t);return u},_tickSize:function(){var e=this,n=e.isHorizontal(),t=e.options.ticks.minor,i=de.toRadians(e.labelRotation),a=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),o=t.autoSkipPadding||0,r=e.longestLabelWidth+o||0,c=de.options._parseFont(t),l=e._maxLabelLines*c.lineHeight+o||0;return n?r*s<l*a?r/a:l/s:l*s<r*a?l/a:r/s},_isVisible:function(){var e,n,t,i=this.chart,a=this.options.display;if("auto"!==a)return!!a;for(e=0,n=i.data.datasets.length;e<n;++e)if(i.isDatasetVisible(e)&&((t=i.getDatasetMeta(e)).xAxisID===this.id||t.yAxisID===this.id))return!0;return!1},draw:function(S){var w=this,D=w.options;if(w._isVisible()){var e,N,T,C=w.chart,o=w.ctx,n=re.global.defaultFontColor,r=D.ticks.minor,t=D.ticks.major||r,P=D.gridLines,i=D.scaleLabel,A=D.position,L=0!==w.labelRotation,k=r.mirror,O=w.isHorizontal(),a=de.options._parseFont,s=r.display&&r.autoSkip?w._autoSkip(w.getTicks()):w.getTicks(),c=ut(r.fontColor,n),l=a(r),x=l.lineHeight,d=ut(t.fontColor,n),u=a(t),R=r.padding,G=r.labelOffset,M=P.drawTicks?P.tickMarkLength:0,p=ut(i.fontColor,n),f=a(i),g=de.options.toPadding(i.padding),H=de.toRadians(w.labelRotation),B=[],F=P.drawBorder?pt(P.lineWidth,0,0):0,V=de._alignPixel;T="top"===A?(e=V(C,w.bottom,F),N=w.bottom-M,e-F/2):"bottom"===A?(e=V(C,w.top,F),N=e+F/2,w.top+M):"left"===A?(e=V(C,w.right,F),N=w.right-M,e-F/2):(e=V(C,w.left,F),N=e+F/2,w.left+M);if(de.each(s,function(e,n){if(!de.isNullOrUndef(e.label)){var t,i,a,s,o,r,c,l,d,u,p,f,g,h,m,v,y=e.label;s=n===w.zeroLineIndex&&D.offset===P.offsetGridLines?(t=P.zeroLineWidth,i=P.zeroLineColor,a=P.zeroLineBorderDash||[],P.zeroLineBorderDashOffset||0):(t=pt(P.lineWidth,n),i=pt(P.color,n),a=P.borderDash||[],P.borderDashOffset||0);var b=de.isArray(y)?y.length:1,I=function(e,n,t){var i=e.getPixelForTick(n);return t&&(1===e.getTicks().length?i-=e.isHorizontal()?Math.max(i-e.left,e.right-i):Math.max(i-e.top,e.bottom-i):i-=0===n?(e.getPixelForTick(1)-i)/2:(i-e.getPixelForTick(n-1))/2),i}(w,n,P.offsetGridLines);if(O){var _=M+R;I<w.left-1e-7&&(i="rgba(0,0,0,0)"),o=c=d=p=V(C,I,t),r=N,l=T,g=w.getPixelForTick(n)+G,h="top"===A?(u=V(C,S.top,F)+F/2,f=S.bottom,m=((L?1:.5)-b)*x,v=L?"left":"center",w.bottom-_):(u=S.top,f=V(C,S.bottom,F)-F/2,m=(L?0:.5)*x,v=L?"right":"center",w.top+_)}else{var E=(k?0:M)+R;I<w.top-1e-7&&(i="rgba(0,0,0,0)"),o=N,c=T,r=l=u=f=V(C,I,t),h=w.getPixelForTick(n)+G,m=(1-b)*x/2,g="left"===A?(d=V(C,S.left,F)+F/2,p=S.right,v=k?"left":"right",w.right-E):(d=S.left,p=V(C,S.right,F)-F/2,v=k?"right":"left",w.left+E)}B.push({tx1:o,ty1:r,tx2:c,ty2:l,x1:d,y1:u,x2:p,y2:f,labelX:g,labelY:h,glWidth:t,glColor:i,glBorderDash:a,glBorderDashOffset:s,rotation:-1*H,label:y,major:e.major,textOffset:m,textAlign:v})}}),de.each(B,function(e){var n=e.glWidth,t=e.glColor;if(P.display&&n&&t&&(o.save(),o.lineWidth=n,o.strokeStyle=t,o.setLineDash&&(o.setLineDash(e.glBorderDash),o.lineDashOffset=e.glBorderDashOffset),o.beginPath(),P.drawTicks&&(o.moveTo(e.tx1,e.ty1),o.lineTo(e.tx2,e.ty2)),P.drawOnChartArea&&(o.moveTo(e.x1,e.y1),o.lineTo(e.x2,e.y2)),o.stroke(),o.restore()),r.display){o.save(),o.translate(e.labelX,e.labelY),o.rotate(e.rotation),o.font=e.major?u.string:l.string,o.fillStyle=e.major?d:c,o.textBaseline="middle",o.textAlign=e.textAlign;var i=e.label,a=e.textOffset;if(de.isArray(i))for(var s=0;s<i.length;++s)o.fillText(""+i[s],0,a),a+=x;else o.fillText(i,0,a);o.restore()}}),i.display){var h,m,v=0,y=f.lineHeight/2;if(O)h=w.left+(w.right-w.left)/2,m="bottom"===A?w.bottom-y-g.bottom:w.top+y+g.top;else{var b="left"===A;h=b?w.left+y+g.top:w.right-y-g.top,m=w.top+(w.bottom-w.top)/2,v=b?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(h,m),o.rotate(v),o.textAlign="center",o.textBaseline="middle",o.fillStyle=p,o.font=f.string,o.fillText(i.labelString,0,0),o.restore()}if(F){var I,_,E,q,U=F,$=pt(P.lineWidth,s.length-1,0);O?(I=V(C,w.left,U)-U/2,_=V(C,w.right,$)+$/2,E=q=e):(E=V(C,w.top,U)-U/2,q=V(C,w.bottom,$)+$/2,I=_=e),o.lineWidth=F,o.strokeStyle=pt(P.color,0),o.beginPath(),o.moveTo(I,E),o.lineTo(_,q),o.stroke()}}}}),mt=ht.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,n=this,t=n.getLabels();n.minIndex=0,n.maxIndex=t.length-1,void 0!==n.options.ticks.min&&(e=t.indexOf(n.options.ticks.min),n.minIndex=-1!==e?e:n.minIndex),void 0!==n.options.ticks.max&&(e=t.indexOf(n.options.ticks.max),n.maxIndex=-1!==e?e:n.maxIndex),n.min=t[n.minIndex],n.max=t[n.maxIndex]},buildTicks:function(){var e=this,n=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===n.length-1?n:n.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,n){var t=this,i=t.chart;return i.getDatasetMeta(n).controller._getValueScaleId()===t.id?t.getRightValue(i.data.datasets[n].data[e]):t.ticks[e-t.minIndex]},getPixelForValue:function(e,n){var t,i=this,a=i.options.offset,s=Math.max(i.maxIndex+1-i.minIndex-(a?0:1),1);if(null!=e&&(t=i.isHorizontal()?e.x:e.y),void 0!==t||void 0!==e&&isNaN(n)){e=t||e;var o=i.getLabels().indexOf(e);n=-1!==o?o:n}if(i.isHorizontal()){var r=i.width/s,c=r*(n-i.minIndex);return a&&(c+=r/2),i.left+c}var l=i.height/s,d=l*(n-i.minIndex);return a&&(d+=l/2),i.top+d},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var n=this,t=n.options.offset,i=Math.max(n._ticks.length-(t?0:1),1),a=n.isHorizontal(),s=(a?n.width:n.height)/i;return e-=a?n.left:n.top,t&&(e-=s/2),(e<=0?0:Math.round(e/s))+n.minIndex},getBasePixel:function(){return this.bottom}}),vt={position:"bottom"};mt._defaults=vt;var yt=de.noop,bt=de.isNullOrUndef;var It=ht.extend({getRightValue:function(e){return"string"==typeof e?+e:ht.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,n=e.options.ticks;if(n.beginAtZero){var t=de.sign(e.min),i=de.sign(e.max);t<0&&i<0?e.max=0:0<t&&0<i&&(e.min=0)}var a=void 0!==n.min||void 0!==n.suggestedMin,s=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(null===e.min?e.min=n.suggestedMin:e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(null===e.max?e.max=n.suggestedMax:e.max=Math.max(e.max,n.suggestedMax)),a==s||e.min>=e.max&&(a?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:function(){var e,n=this.options.ticks,t=n.stepSize,i=n.maxTicksLimit;return t?e=Math.ceil(this.max/t)-Math.floor(this.min/t)+1:(e=this._computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:yt,buildTicks:function(){var e=this,n=e.options.ticks,t=e.getTickLimit(),i={maxTicks:t=Math.max(2,t),min:n.min,max:n.max,precision:n.precision,stepSize:de.valueOrDefault(n.fixedStepSize,n.stepSize)},a=e.ticks=function(e,n){var t,i,a,s,o=[],r=e.stepSize,c=r||1,l=e.maxTicks-1,d=e.min,u=e.max,p=e.precision,f=n.min,g=n.max,h=de.niceNum((g-f)/l/c)*c;if(h<1e-14&&bt(d)&&bt(u))return[f,g];l<(s=Math.ceil(g/h)-Math.floor(f/h))&&(h=de.niceNum(s*h/l/c)*c),r||bt(p)?t=Math.pow(10,de._decimalPlaces(h)):(t=Math.pow(10,p),h=Math.ceil(h*t)/t),i=Math.floor(f/h)*h,a=Math.ceil(g/h)*h,r&&(!bt(d)&&de.almostWhole(d/h,h/1e3)&&(i=d),!bt(u)&&de.almostWhole(u/h,h/1e3)&&(a=u)),s=(a-i)/h,s=de.almostEquals(s,Math.round(s),h/1e3)?Math.round(s):Math.ceil(s),i=Math.round(i*t)/t,a=Math.round(a*t)/t,o.push(bt(d)?i:d);for(var m=1;m<s;++m)o.push(Math.round((i+m*h)*t)/t);return o.push(bt(u)?a:u),o}(i,e);e.handleDirectionalChanges(),e.max=de.max(a),e.min=de.min(a),n.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),ht.prototype.convertTicksToLabels.call(e)}}),_t={position:"left",ticks:{callback:dt.formatters.linear}},Et=It.extend({determineDataLimits:function(){var o=this,r=o.options,c=o.chart,e=c.data.datasets,n=o.isHorizontal();function l(e){return n?e.xAxisID===o.id:e.yAxisID===o.id}o.min=null,o.max=null;var i=r.stacked;if(void 0===i&&de.each(e,function(e,n){if(!i){var t=c.getDatasetMeta(n);c.isDatasetVisible(n)&&l(t)&&void 0!==t.stack&&(i=!0)}}),r.stacked||i){var d={};de.each(e,function(e,n){var i=c.getDatasetMeta(n),t=[i.type,void 0===r.stacked&&void 0===i.stack?n:"",i.stack].join(".");void 0===d[t]&&(d[t]={positiveValues:[],negativeValues:[]});var a=d[t].positiveValues,s=d[t].negativeValues;c.isDatasetVisible(n)&&l(i)&&de.each(e.data,function(e,n){var t=+o.getRightValue(e);isNaN(t)||i.data[n].hidden||(a[n]=a[n]||0,s[n]=s[n]||0,r.relativePoints?a[n]=100:t<0?s[n]+=t:a[n]+=t)})}),de.each(d,function(e){var n=e.positiveValues.concat(e.negativeValues),t=de.min(n),i=de.max(n);o.min=null===o.min?t:Math.min(o.min,t),o.max=null===o.max?i:Math.max(o.max,i)})}else de.each(e,function(e,n){var i=c.getDatasetMeta(n);c.isDatasetVisible(n)&&l(i)&&de.each(e.data,function(e,n){var t=+o.getRightValue(e);isNaN(t)||i.data[n].hidden||(null===o.min?o.min=t:t<o.min&&(o.min=t),null===o.max?o.max=t:t>o.max&&(o.max=t))})});o.min=isFinite(o.min)&&!isNaN(o.min)?o.min:0,o.max=isFinite(o.max)&&!isNaN(o.max)?o.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=de.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,n){return+this.getRightValue(this.chart.data.datasets[n].data[e])},getPixelForValue:function(e){var n=this,t=n.start,i=+n.getRightValue(e),a=n.end-t;return n.isHorizontal()?n.left+n.width/a*(i-t):n.bottom-n.height/a*(i-t)},getValueForPixel:function(e){var n=this,t=n.isHorizontal(),i=t?n.width:n.height,a=(t?e-n.left:n.bottom-e)/i;return n.start+(n.end-n.start)*a},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}}),St=_t;Et._defaults=St;var wt=de.valueOrDefault;var Dt={position:"left",ticks:{callback:dt.formatters.logarithmic}};function Nt(e,n){return de.isFinite(e)&&0<=e?e:n}var Tt=ht.extend({determineDataLimits:function(){var o=this,t=o.options,r=o.chart,e=r.data.datasets,n=o.isHorizontal();function c(e){return n?e.xAxisID===o.id:e.yAxisID===o.id}o.min=null,o.max=null,o.minNotZero=null;var i=t.stacked;if(void 0===i&&de.each(e,function(e,n){if(!i){var t=r.getDatasetMeta(n);r.isDatasetVisible(n)&&c(t)&&void 0!==t.stack&&(i=!0)}}),t.stacked||i){var l={};de.each(e,function(e,n){var a=r.getDatasetMeta(n),s=[a.type,void 0===t.stacked&&void 0===a.stack?n:"",a.stack].join(".");r.isDatasetVisible(n)&&c(a)&&(void 0===l[s]&&(l[s]=[]),de.each(e.data,function(e,n){var t=l[s],i=+o.getRightValue(e);isNaN(i)||a.data[n].hidden||i<0||(t[n]=t[n]||0,t[n]+=i)}))}),de.each(l,function(e){if(0<e.length){var n=de.min(e),t=de.max(e);o.min=null===o.min?n:Math.min(o.min,n),o.max=null===o.max?t:Math.max(o.max,t)}})}else de.each(e,function(e,n){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&c(i)&&de.each(e.data,function(e,n){var t=+o.getRightValue(e);isNaN(t)||i.data[n].hidden||t<0||(null===o.min?o.min=t:t<o.min&&(o.min=t),null===o.max?o.max=t:t>o.max&&(o.max=t),0!=t&&(null===o.minNotZero||t<o.minNotZero)&&(o.minNotZero=t))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,n=e.options.ticks;e.min=Nt(n.min,e.min),e.max=Nt(n.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(de.log10(e.min))-1),e.max=Math.pow(10,Math.floor(de.log10(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(de.log10(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(de.log10(e.min))+1):10),null===e.minNotZero&&(0<e.min?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(de.log10(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,n=e.options.ticks,t=!e.isHorizontal(),i={min:Nt(n.min),max:Nt(n.max)},a=e.ticks=function(e,n){var t,i,a=[],s=wt(e.min,Math.pow(10,Math.floor(de.log10(n.min)))),o=Math.floor(de.log10(n.max)),r=Math.ceil(n.max/Math.pow(10,o));0===s?(t=Math.floor(de.log10(n.minNotZero)),i=Math.floor(n.minNotZero/Math.pow(10,t)),a.push(s),s=i*Math.pow(10,t)):(t=Math.floor(de.log10(s)),i=Math.floor(s/Math.pow(10,t)));for(var c=t<0?Math.pow(10,Math.abs(t)):1;a.push(s),10==++i&&(i=1,c=0<=++t?1:c),s=Math.round(i*Math.pow(10,t)*c)/c,t<o||t===o&&i<r;);var l=wt(e.max,s);return a.push(l),a}(i,e);e.max=de.max(a),e.min=de.min(a),n.reverse?(t=!t,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),t&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),ht.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,n){return+this.getRightValue(this.chart.data.datasets[n].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},_getFirstTickValue:function(e){var n=Math.floor(de.log10(e));return Math.floor(e/Math.pow(10,n))*Math.pow(10,n)},getPixelForValue:function(e){var n,t,i,a,s,o=this,r=o.options.ticks,c=r.reverse,l=de.log10,d=o._getFirstTickValue(o.minNotZero),u=0;return e=+o.getRightValue(e),s=c?(i=o.end,a=o.start,-1):(i=o.start,a=o.end,1),t=o.isHorizontal()?(n=o.width,c?o.right:o.left):(n=o.height,s*=-1,c?o.top:o.bottom),e!==i&&(0===i&&(n-=u=wt(r.fontSize,re.global.defaultFontSize),i=d),0!==e&&(u+=n/(l(a)-l(i))*(l(e)-l(i))),t+=s*u),t},getValueForPixel:function(e){var n,t,i,a,s=this,o=s.options.ticks,r=o.reverse,c=de.log10,l=s._getFirstTickValue(s.minNotZero);if(i=r?(t=s.end,s.start):(t=s.start,s.end),(a=s.isHorizontal()?(n=s.width,r?s.right-e:e-s.left):(n=s.height,r?e-s.top:s.bottom-e))!==t){if(0===t){var d=wt(o.fontSize,re.global.defaultFontSize);a-=d,n-=d,t=l}a*=c(i)-c(t),a/=n,a=Math.pow(10,c(t)+a)}return a}}),Ct=Dt;Tt._defaults=Ct;var Pt=de.valueOrDefault,At=de.valueAtIndexOrDefault,Lt=de.options.resolve,kt={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:dt.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Ot(e){var n=e.options;return n.angleLines.display||n.pointLabels.display?e.chart.data.labels.length:0}function xt(e){var n=e.ticks;return n.display&&e.display?Pt(n.fontSize,re.global.defaultFontSize)+2*n.backdropPaddingY:0}function Rt(e,n,t,i,a){return e===i||e===a?{start:n-t/2,end:n+t/2}:e<i||a<e?{start:n-t,end:n}:{start:n,end:n+t}}function Gt(e,n,t,i){var a,s,o=t.y+i/2;if(de.isArray(n))for(a=0,s=n.length;a<s;++a)e.fillText(n[a],t.x,o),o+=i;else e.fillText(n,t.x,o)}function Mt(e){return de.isNumber(e)?e:0}var Ht=It.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=xt(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var a=this,t=a.chart,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;de.each(t.data.datasets,function(e,n){if(t.isDatasetVisible(n)){var i=t.getDatasetMeta(n);de.each(e.data,function(e,n){var t=+a.getRightValue(e);isNaN(t)||i.data[n].hidden||(s=Math.min(t,s),o=Math.max(t,o))})}}),a.min=s===Number.POSITIVE_INFINITY?0:s,a.max=o===Number.NEGATIVE_INFINITY?0:o,a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/xt(this.options))},convertTicksToLabels:function(){var e=this;It.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(e,n){return+this.getRightValue(this.chart.data.datasets[n].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var n,t,i,a=de.options._parseFont(e.options.pointLabels),s={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=a.string,e._pointLabelSizes=[];var r,c,l,d=Ot(e);for(n=0;n<d;n++){i=e.getPointPosition(n,e.drawingArea+5),r=e.ctx,c=a.lineHeight,l=e.pointLabels[n]||"",t=de.isArray(l)?{w:de.longestText(r,r.font,l),h:l.length*c}:{w:r.measureText(l).width,h:c},e._pointLabelSizes[n]=t;var u=e.getIndexAngle(n),p=de.toDegrees(u)%360,f=Rt(p,i.x,t.w,0,180),g=Rt(p,i.y,t.h,90,270);f.start<s.l&&(s.l=f.start,o.l=u),f.end>s.r&&(s.r=f.end,o.r=u),g.start<s.t&&(s.t=g.start,o.t=u),g.end>s.b&&(s.b=g.end,o.b=u)}e.setReductions(e.drawingArea,s,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,n,t){var i=this,a=n.l/Math.sin(t.l),s=Math.max(n.r-i.width,0)/Math.sin(t.r),o=-n.t/Math.cos(t.t),r=-Math.max(n.b-(i.height-i.paddingTop),0)/Math.cos(t.b);a=Mt(a),s=Mt(s),o=Mt(o),r=Mt(r),i.drawingArea=Math.min(Math.floor(e-(a+s)/2),Math.floor(e-(o+r)/2)),i.setCenterPoint(a,s,o,r)},setCenterPoint:function(e,n,t,i){var a=this,s=a.width-n-a.drawingArea,o=e+a.drawingArea,r=t+a.drawingArea,c=a.height-a.paddingTop-i-a.drawingArea;a.xCenter=Math.floor((o+s)/2+a.left),a.yCenter=Math.floor((r+c)/2+a.top+a.paddingTop)},getIndexAngle:function(e){return e*(2*Math.PI/Ot(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var n=this;if(null===e)return 0;var t=n.drawingArea/(n.max-n.min);return n.options.ticks.reverse?(n.max-e)*t:(e-n.min)*t},getPointPosition:function(e,n){var t=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(t)*n+this.xCenter,y:Math.sin(t)*n+this.yCenter}},getPointPositionForValue:function(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))},getBasePosition:function(){var e=this.min,n=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0)},draw:function(){var s=this,e=s.options,o=e.gridLines,r=e.ticks;if(e.display){var c=s.ctx,l=this.getIndexAngle(0),d=de.options._parseFont(r);(e.angleLines.display||e.pointLabels.display)&&function(e){var n=e.ctx,t=e.options,i=t.angleLines,a=t.gridLines,s=t.pointLabels,o=Pt(i.lineWidth,a.lineWidth),r=Pt(i.color,a.color),c=xt(t);n.save(),n.lineWidth=o,n.strokeStyle=r,n.setLineDash&&(n.setLineDash(Lt([i.borderDash,a.borderDash,[]])),n.lineDashOffset=Lt([i.borderDashOffset,a.borderDashOffset,0]));var l,d,u,p,f=e.getDistanceFromCenterForValue(t.ticks.reverse?e.min:e.max),g=de.options._parseFont(s);n.font=g.string,n.textBaseline="middle";for(var h=Ot(e)-1;0<=h;h--){if(i.display&&o&&r){var m=e.getPointPosition(h,f);n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(m.x,m.y),n.stroke()}if(s.display){var v=0===h?c/2:0,y=e.getPointPosition(h,f+v+5),b=At(s.fontColor,h,re.global.defaultFontColor);n.fillStyle=b;var I=e.getIndexAngle(h),_=de.toDegrees(I);n.textAlign=0===(p=_)||180===p?"center":p<180?"left":"right",l=_,d=e._pointLabelSizes[h],u=y,90===l||270===l?u.y-=d.h/2:(270<l||l<90)&&(u.y-=d.h),Gt(n,e.pointLabels[h]||"",y,g.lineHeight)}}n.restore()}(s),de.each(s.ticks,function(e,n){if(0<n||r.reverse){var t=s.getDistanceFromCenterForValue(s.ticksAsNumbers[n]);if(o.display&&0!==n&&function(e,n,t,i){var a,s=e.ctx,o=n.circular,r=Ot(e),c=At(n.color,i-1),l=At(n.lineWidth,i-1);if((o||r)&&c&&l){if(s.save(),s.strokeStyle=c,s.lineWidth=l,s.setLineDash&&(s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset||0),s.beginPath(),o)s.arc(e.xCenter,e.yCenter,t,0,2*Math.PI);else{a=e.getPointPosition(0,t),s.moveTo(a.x,a.y);for(var d=1;d<r;d++)a=e.getPointPosition(d,t),s.lineTo(a.x,a.y)}s.closePath(),s.stroke(),s.restore()}}(s,o,t,n),r.display){var i=Pt(r.fontColor,re.global.defaultFontColor);if(c.font=d.string,c.save(),c.translate(s.xCenter,s.yCenter),c.rotate(l),r.showLabelBackdrop){var a=c.measureText(e).width;c.fillStyle=r.backdropColor,c.fillRect(-a/2-r.backdropPaddingX,-t-d.size/2-r.backdropPaddingY,a+2*r.backdropPaddingX,d.size+2*r.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=i,c.fillText(e,0,-t),c.restore()}}})}}}),Bt=kt;Ht._defaults=Bt;var Ft=de.valueOrDefault,Vt=Number.MIN_SAFE_INTEGER||-9007199254740991,qt=Number.MAX_SAFE_INTEGER||9007199254740991,Ut={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},$t=Object.keys(Ut);function jt(e,n){return e-n}function Yt(e){var n,t,i,a={},s=[];for(n=0,t=e.length;n<t;++n)a[i=e[n]]||(a[i]=!0,s.push(i));return s}function zt(e,n,t,i){var a=function(e,n,t){for(var i,a,s,o=0,r=e.length-1;0<=o&&o<=r;){if(a=e[(i=o+r>>1)-1]||null,s=e[i],!a)return{lo:null,hi:s};if(s[n]<t)o=1+i;else{if(!(a[n]>t))return{lo:a,hi:s};r=i-1}}return{lo:s,hi:null}}(e,n,t),s=a.lo?a.hi?a.lo:e[e.length-2]:e[0],o=a.lo?a.hi?a.hi:e[e.length-1]:e[1],r=o[n]-s[n],c=r?(t-s[n])/r:0,l=(o[i]-s[i])*c;return s[i]+l}function Kt(e,n){var t=e._adapter,i=e.options.time,a=i.parser,s=a||i.format,o=n;return"function"==typeof a&&(o=a(o)),de.isFinite(o)||(o="string"==typeof s?t.parse(o,s):t.parse(o)),null!==o?+o:(a||"function"!=typeof s||(o=s(n),de.isFinite(o)||(o=t.parse(o))),o)}function Wt(e,n){if(de.isNullOrUndef(n))return null;var t=e.options.time,i=Kt(e,e.getRightValue(n));return null===i||t.round&&(i=+e._adapter.startOf(i,t.round)),i}function Jt(e){for(var n=$t.indexOf(e)+1,t=$t.length;n<t;++n)if(Ut[$t[n]].common)return $t[n]}function Qt(e,n,t,i){var a,s=e._adapter,o=e.options,r=o.time,c=r.unit||function(e,n,t,i){var a,s,o,r=$t.length;for(a=$t.indexOf(e);a<r-1;++a)if(o=(s=Ut[$t[a]]).steps?s.steps[s.steps.length-1]:qt,s.common&&Math.ceil((t-n)/(o*s.size))<=i)return $t[a];return $t[r-1]}(r.minUnit,n,t,i),l=Jt(c),d=Ft(r.stepSize,r.unitStepSize),u="week"===c&&r.isoWeekday,p=o.ticks.major.enabled,f=Ut[c],g=n,h=t,m=[];for(d||(d=function(e,n,t,i){var a,s,o,r=n-e,c=Ut[t],l=c.size,d=c.steps;if(!d)return Math.ceil(r/(i*l));for(a=0,s=d.length;a<s&&(o=d[a],!(Math.ceil(r/(l*o))<=i));++a);return o}(n,t,c,i)),u&&(g=+s.startOf(g,"isoWeek",u),h=+s.startOf(h,"isoWeek",u)),g=+s.startOf(g,u?"day":c),(h=+s.startOf(h,u?"day":c))<t&&(h=+s.add(h,1,c)),a=g,p&&l&&!u&&!r.round&&(a=+s.startOf(a,l),a=+s.add(a,~~((g-a)/(f.size*d))*d,c));a<h;a=+s.add(a,d,c))m.push(+a);return m.push(+a),m}var Xt=ht.extend({initialize:function(){this.mergeTicksOptions(),ht.prototype.initialize.call(this)},update:function(){var e=this.options,n=e.time||(e.time={}),t=this._adapter=new lt._date(e.adapters.date);return n.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),de.mergeIf(n.displayFormats,t.formats()),ht.prototype.update.apply(this,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),ht.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,n,t,i,a,s,o=this,r=o.chart,c=o._adapter,l=o.options.time,d=l.unit||"day",u=qt,p=Vt,f=[],g=[],h=[],m=r.data.labels||[];for(e=0,t=m.length;e<t;++e)h.push(Wt(o,m[e]));for(e=0,t=(r.data.datasets||[]).length;e<t;++e)if(r.isDatasetVisible(e))if(a=r.data.datasets[e].data,de.isObject(a[0]))for(g[e]=[],n=0,i=a.length;n<i;++n)s=Wt(o,a[n]),f.push(s),g[e][n]=s;else{for(n=0,i=h.length;n<i;++n)f.push(h[n]);g[e]=h.slice(0)}else g[e]=[];h.length&&(h=Yt(h).sort(jt),u=Math.min(u,h[0]),p=Math.max(p,h[h.length-1])),f.length&&(f=Yt(f).sort(jt),u=Math.min(u,f[0]),p=Math.max(p,f[f.length-1])),u=Wt(o,l.min)||u,p=Wt(o,l.max)||p,u=u===qt?+c.startOf(Date.now(),d):u,p=p===Vt?+c.endOf(Date.now(),d)+1:p,o.min=Math.min(u,p),o.max=Math.max(u+1,p),o._horizontal=o.isHorizontal(),o._table=[],o._timestamps={data:f,datasets:g,labels:h}},buildTicks:function(){var e,n,t,i=this,a=i.min,s=i.max,o=i.options,r=o.time,c=[],l=[];switch(o.ticks.source){case"data":c=i._timestamps.data;break;case"labels":c=i._timestamps.labels;break;case"auto":default:c=Qt(i,a,s,i.getLabelCapacity(a))}for("ticks"===o.bounds&&c.length&&(a=c[0],s=c[c.length-1]),a=Wt(i,r.min)||a,s=Wt(i,r.max)||s,e=0,n=c.length;e<n;++e)a<=(t=c[e])&&t<=s&&l.push(t);return i.min=a,i.max=s,i._unit=r.unit||function(e,n,t,i,a){var s,o;for(s=$t.length-1;s>=$t.indexOf(t);s--)if(o=$t[s],Ut[o].common&&e._adapter.diff(a,i,o)>=n.length)return o;return $t[t?$t.indexOf(t):0]}(i,l,r.minUnit,i.min,i.max),i._majorUnit=Jt(i._unit),i._table=function(e,n,t,i){if("linear"===i||!e.length)return[{time:n,pos:0},{time:t,pos:1}];var a,s,o,r,c,l=[],d=[n];for(a=0,s=e.length;a<s;++a)n<(r=e[a])&&r<t&&d.push(r);for(d.push(t),a=0,s=d.length;a<s;++a)c=d[a+1],o=d[a-1],r=d[a],void 0!==o&&void 0!==c&&Math.round((c+o)/2)===r||l.push({time:r,pos:a/(s-1)});return l}(i._timestamps.data,a,s,o.distribution),i._offsets=function(e,n,t,i,a){var s,o,r=0,c=0;return a.offset&&n.length&&(a.time.min||(s=zt(e,"time",n[0],"pos"),r=1===n.length?1-s:(zt(e,"time",n[1],"pos")-s)/2),a.time.max||(o=zt(e,"time",n[n.length-1],"pos"),c=1===n.length?o:(o-zt(e,"time",n[n.length-2],"pos"))/2)),{start:r,end:c}}(i._table,l,0,0,o),o.ticks.reverse&&l.reverse(),function(e,n,t){var i,a,s,o,r=[];for(i=0,a=n.length;i<a;++i)s=n[i],o=!!t&&s===+e._adapter.startOf(s,t),r.push({value:s,major:o});return r}(i,l,i._majorUnit)},getLabelForIndex:function(e,n){var t=this,i=t._adapter,a=t.chart.data,s=t.options.time,o=a.labels&&e<a.labels.length?a.labels[e]:"",r=a.datasets[n].data[e];return de.isObject(r)&&(o=t.getRightValue(r)),s.tooltipFormat?i.format(Kt(t,o),s.tooltipFormat):"string"==typeof o?o:i.format(Kt(t,o),s.displayFormats.datetime)},tickFormatFunction:function(e,n,t,i){var a=this._adapter,s=this.options,o=s.time.displayFormats,r=o[this._unit],c=this._majorUnit,l=o[c],d=+a.startOf(e,c),u=s.ticks.major,p=u.enabled&&c&&l&&e===d,f=a.format(e,i||(p?l:r)),g=p?u:s.ticks.minor,h=Ft(g.callback,g.userCallback);return h?h(f,n,t):f},convertTicksToLabels:function(e){var n,t,i=[];for(n=0,t=e.length;n<t;++n)i.push(this.tickFormatFunction(e[n].value,n,e));return i},getPixelForOffset:function(e){var n=this,t=n.options.ticks.reverse,i=n._horizontal?n.width:n.height,a=n._horizontal?t?n.right:n.left:t?n.bottom:n.top,s=zt(n._table,"time",e,"pos"),o=i*(n._offsets.start+s)/(n._offsets.start+1+n._offsets.end);return t?a-o:a+o},getPixelForValue:function(e,n,t){var i=null;if(void 0!==n&&void 0!==t&&(i=this._timestamps.datasets[t][n]),null===i&&(i=Wt(this,e)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(e){var n=this.getTicks();return 0<=e&&e<n.length?this.getPixelForOffset(n[e].value):null},getValueForPixel:function(e){var n=this,t=n._horizontal?n.width:n.height,i=n._horizontal?n.left:n.top,a=(t?(e-i)/t:0)*(n._offsets.start+1+n._offsets.start)-n._offsets.end,s=zt(n._table,"pos",a,"time");return n._adapter._create(s)},getLabelWidth:function(e){var n=this.options.ticks,t=this.ctx.measureText(e).width,i=de.toRadians(n.maxRotation),a=Math.cos(i),s=Math.sin(i);return t*a+Ft(n.fontSize,re.global.defaultFontSize)*s},getLabelCapacity:function(e){var n=this.options.time.displayFormats.millisecond,t=this.tickFormatFunction(e,0,[],n),i=this.getLabelWidth(t),a=this.isHorizontal()?this.width:this.height,s=Math.floor(a/i);return 0<s?s:1}}),Zt={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};Xt._defaults=Zt;var ei={category:mt,linear:Et,logarithmic:Tt,radialLinear:Ht,time:Xt},ni={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};lt._date.override("function"==typeof i?{_id:"moment",formats:function(){return ni},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=i(e,n):e instanceof i||(e=i(e)),e.isValid()?e.valueOf():null},format:function(e,n){return i(e).format(n)},add:function(e,n,t){return i(e).add(n,t).valueOf()},diff:function(e,n,t){return i.duration(i(e).diff(i(n))).as(t)},startOf:function(e,n,t){return e=i(e),"isoWeek"===n?e.isoWeekday(t).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return i(e).endOf(n).valueOf()},_create:function(e){return i(e)}}:{}),re._set("global",{plugins:{filler:{propagate:!0}}});var ti={dataset:function(e){var n=e.fill,t=e.chart,i=t.getDatasetMeta(n),a=i&&t.isDatasetVisible(n)&&i.dataset._children||[],s=a.length||0;return s?function(e,n){return n<s&&a[n]._view||null}:null},boundary:function(e){var n=e.boundary,t=n?n.x:null,i=n?n.y:null;return function(e){return{x:null===t?e.x:t,y:null===i?e.y:i}}}};function ii(e,n,t){var i,a=e._model||{},s=a.fill;if(void 0===s&&(s=!!a.backgroundColor),!1===s||null===s)return!1;if(!0===s)return"origin";if(i=parseFloat(s,10),isFinite(i)&&Math.floor(i)===i)return"-"!==s[0]&&"+"!==s[0]||(i=n+i),!(i===n||i<0||t<=i)&&i;switch(s){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return s;default:return!1}}function ai(e){var n,t=e.el._model||{},i=e.el._scale||{},a=e.fill,s=null;if(isFinite(a))return null;if("start"===a?s=void 0===t.scaleBottom?i.bottom:t.scaleBottom:"end"===a?s=void 0===t.scaleTop?i.top:t.scaleTop:void 0!==t.scaleZero?s=t.scaleZero:i.getBasePosition?s=i.getBasePosition():i.getBasePixel&&(s=i.getBasePixel()),null!=s){if(void 0!==s.x&&void 0!==s.y)return s;if(de.isFinite(s))return{x:(n=i.isHorizontal())?s:null,y:n?null:s}}return null}function si(e,n,t){var i,a=e[n].fill,s=[n];if(!t)return a;for(;!1!==a&&-1===s.indexOf(a);){if(!isFinite(a))return a;if(!(i=e[a]))return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function oi(e){return e&&!e.skip}function ri(e,n,t,i,a){var s;if(i&&a){for(e.moveTo(n[0].x,n[0].y),s=1;s<i;++s)de.canvas.lineTo(e,n[s-1],n[s]);for(e.lineTo(t[a-1].x,t[a-1].y),s=a-1;0<s;--s)de.canvas.lineTo(e,t[s],t[s-1],!0)}}var ci={id:"filler",afterDatasetsUpdate:function(e,n){var t,i,a,s,o,r,c,l=(e.data.datasets||[]).length,d=n.propagate,u=[];for(i=0;i<l;++i)s=null,(a=(t=e.getDatasetMeta(i)).dataset)&&a._model&&a instanceof Be.Line&&(s={visible:e.isDatasetVisible(i),fill:ii(a,i,l),chart:e,el:a}),t.$filler=s,u.push(s);for(i=0;i<l;++i)(s=u[i])&&(s.fill=si(u,i,d),s.boundary=ai(s),s.mapper=(c=void 0,r=(o=s).fill,!(c="dataset")===r?null:(isFinite(r)||(c="boundary"),ti[c](o))))},beforeDatasetDraw:function(e,n){var t=n.meta.$filler;if(t){var i=e.ctx,a=t.el,s=a._view,o=a._children||[],r=t.mapper,c=s.backgroundColor||re.global.defaultColor;r&&c&&o.length&&(de.canvas.clipArea(i,e.chartArea),function(e,n,t,i,a,s){var o,r,c,l,d,u,p,f=n.length,g=i.spanGaps,h=[],m=[],v=0,y=0;for(e.beginPath(),o=0,r=f+!!s;o<r;++o)d=t(l=n[c=o%f]._view,c,i),u=oi(l),p=oi(d),u&&p?(v=h.push(l),y=m.push(d)):v&&y&&(g?(u&&h.push(l),p&&m.push(d)):(ri(e,h,m,v,y),v=y=0,h=[],m=[]));ri(e,h,m,v,y),e.closePath(),e.fillStyle=a,e.fill()}(i,o,r,s,c,a._loop),de.canvas.unclipArea(i))}}},li=de.noop,di=de.valueOrDefault;function ui(e,n){return e.usePointStyle&&e.boxWidth>n?n:e.boxWidth}re._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,n){var t=n.datasetIndex,i=this.chart,a=i.getDatasetMeta(t);a.hidden=null===a.hidden?!i.data.datasets[t].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return de.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:de.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(e){var n=[];n.push('<ul class="'+e.id+'-legend">');for(var t=0;t<e.data.datasets.length;t++)n.push('<li><span style="background-color:'+e.data.datasets[t].backgroundColor+'"></span>'),e.data.datasets[t].label&&n.push(e.data.datasets[t].label),n.push("</li>");return n.push("</ul>"),n.join("")}});var pi=he.extend({initialize:function(e){de.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:li,update:function(e,n,t){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=n,i.margins=t,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:li,beforeSetDimensions:li,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:li,beforeBuildLabels:li,buildLabels:function(){var n=this,t=n.options.labels||{},e=de.callback(t.generateLabels,[n.chart],n)||[];t.filter&&(e=e.filter(function(e){return t.filter(e,n.chart.data)})),n.options.reverse&&e.reverse(),n.legendItems=e},afterBuildLabels:li,beforeFit:li,fit:function(){var e=this,n=e.options,i=n.labels,t=n.display,a=e.ctx,s=de.options._parseFont(i),o=s.size,r=e.legendHitBoxes=[],c=e.minSize,l=e.isHorizontal();if(l?(c.width=e.maxWidth,c.height=t?10:0):(c.width=t?10:0,c.height=e.maxHeight),t)if(a.font=s.string,l){var d=e.lineWidths=[0],u=0;a.textAlign="left",a.textBaseline="top",de.each(e.legendItems,function(e,n){var t=ui(i,o)+o/2+a.measureText(e.text).width;(0===n||d[d.length-1]+t+i.padding>c.width)&&(u+=o+i.padding,d[d.length-(0<n?0:1)]=i.padding),r[n]={left:0,top:0,width:t,height:o},d[d.length-1]+=t+i.padding}),c.height+=u}else{var p=i.padding,f=e.columnWidths=[],g=i.padding,h=0,m=0,v=o+p;de.each(e.legendItems,function(e,n){var t=ui(i,o)+o/2+a.measureText(e.text).width;0<n&&m+v>c.height-p&&(g+=h+i.padding,f.push(h),m=h=0),h=Math.max(h,t),m+=v,r[n]={left:0,top:0,width:t,height:o}}),g+=h,f.push(h),c.width+=g}e.width=c.width,e.height=c.height},afterFit:li,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var o=this,r=o.options,c=r.labels,e=re.global,l=e.defaultColor,d=e.elements.line,u=o.width,p=o.lineWidths;if(r.display){var f,g=o.ctx,n=di(c.fontColor,e.defaultFontColor),t=de.options._parseFont(c),h=t.size;g.textAlign="left",g.textBaseline="middle",g.lineWidth=.5,g.strokeStyle=n,g.fillStyle=n,g.font=t.string;var m=ui(c,h),v=o.legendHitBoxes,y=o.isHorizontal();f=y?{x:o.left+(u-p[0])/2+c.padding,y:o.top+c.padding,line:0}:{x:o.left+c.padding,y:o.top+c.padding,line:0};var b=h+c.padding;de.each(o.legendItems,function(e,n){var t=g.measureText(e.text).width,i=m+h/2+t,a=f.x,s=f.y;y?0<n&&a+i+c.padding>o.left+o.minSize.width&&(s=f.y+=b,f.line++,a=f.x=o.left+(u-p[f.line])/2+c.padding):0<n&&s+b>o.top+o.minSize.height&&(a=f.x=a+o.columnWidths[f.line]+c.padding,s=f.y=o.top+c.padding,f.line++),function(e,n,t){if(!(isNaN(m)||m<=0)){g.save();var i=di(t.lineWidth,d.borderWidth);if(g.fillStyle=di(t.fillStyle,l),g.lineCap=di(t.lineCap,d.borderCapStyle),g.lineDashOffset=di(t.lineDashOffset,d.borderDashOffset),g.lineJoin=di(t.lineJoin,d.borderJoinStyle),g.lineWidth=i,g.strokeStyle=di(t.strokeStyle,l),g.setLineDash&&g.setLineDash(di(t.lineDash,d.borderDash)),r.labels&&r.labels.usePointStyle){var a=m*Math.SQRT2/2,s=e+m/2,o=n+h/2;de.canvas.drawPoint(g,t.pointStyle,a,s,o)}else 0!==i&&g.strokeRect(e,n,m,h),g.fillRect(e,n,m,h);g.restore()}}(a,s,e),function(e,n,t,i){var a=h/2,s=m+a+e,o=n+a;g.fillText(t.text,s,o),t.hidden&&(g.beginPath(),g.lineWidth=2,g.moveTo(s,o),g.lineTo(s+i,o),g.stroke())}(v[n].left=a,v[n].top=s,e,t),y?f.x+=i+c.padding:f.y+=b})}},_getLegendItemAt:function(e,n){var t,i,a;if(e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom)for(a=this.legendHitBoxes,t=0;t<a.length;++t)if(e>=(i=a[t]).left&&e<=i.left+i.width&&n>=i.top&&n<=i.top+i.height)return this.legendItems[t];return null},handleEvent:function(e){var n,t=this.options,i="mouseup"===e.type?"click":e.type;if("mousemove"===i){if(!t.onHover&&!t.onLeave)return}else{if("click"!==i)return;if(!t.onClick)return}n=this._getLegendItemAt(e.x,e.y),"click"===i?n&&t.onClick&&t.onClick.call(this,e.native,n):(t.onLeave&&n!==this._hoveredItem&&(this._hoveredItem&&t.onLeave.call(this,e.native,this._hoveredItem),this._hoveredItem=n),t.onHover&&n&&t.onHover.call(this,e.native,n))}});function fi(e,n){var t=new pi({ctx:e.ctx,options:n,chart:e});En.configure(e,t,n),En.addBox(e,t),e.legend=t}var gi={id:"legend",_element:pi,beforeInit:function(e){var n=e.options.legend;n&&fi(e,n)},beforeUpdate:function(e){var n=e.options.legend,t=e.legend;n?(de.mergeIf(n,re.global.legend),t?(En.configure(e,t,n),t.options=n):fi(e,n)):t&&(En.removeBox(e,t),delete e.legend)},afterEvent:function(e,n){var t=e.legend;t&&t.handleEvent(n)}},hi=de.noop;re._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var mi=he.extend({initialize:function(e){de.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:hi,update:function(e,n,t){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=n,i.margins=t,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:hi,beforeSetDimensions:hi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:hi,beforeBuildLabels:hi,buildLabels:hi,afterBuildLabels:hi,beforeFit:hi,fit:function(){var e=this.options,n=e.display,t=this.minSize,i=de.isArray(e.text)?e.text.length:1,a=de.options._parseFont(e),s=n?i*a.lineHeight+2*e.padding:0;this.isHorizontal()?(t.width=this.maxWidth,t.height=s):(t.width=s,t.height=this.maxHeight),this.width=t.width,this.height=t.height},afterFit:hi,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this.ctx,n=this.options;if(n.display){var t,i,a,s=de.options._parseFont(n),o=s.lineHeight,r=o/2+n.padding,c=0,l=this.top,d=this.left,u=this.bottom,p=this.right;e.fillStyle=de.valueOrDefault(n.fontColor,re.global.defaultFontColor),e.font=s.string,this.isHorizontal()?(i=d+(p-d)/2,a=l+r,t=p-d):(i="left"===n.position?d+r:p-r,a=l+(u-l)/2,t=u-l,c=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(i,a),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var f=n.text;if(de.isArray(f))for(var g=0,h=0;h<f.length;++h)e.fillText(f[h],0,g,t),g+=o;else e.fillText(f,0,0,t);e.restore()}}});function vi(e,n){var t=new mi({ctx:e.ctx,options:n,chart:e});En.configure(e,t,n),En.addBox(e,t),e.titleBlock=t}var yi={},bi=ci,Ii=gi,_i={id:"title",_element:mi,beforeInit:function(e){var n=e.options.title;n&&vi(e,n)},beforeUpdate:function(e){var n=e.options.title,t=e.titleBlock;n?(de.mergeIf(n,re.global.title),t?(En.configure(e,t,n),t.options=n):vi(e,n)):t&&(En.removeBox(e,t),delete e.titleBlock)}};function Ei(e,n,t){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*n.parentNode[t])):i=e,i}function Si(e){return null!=e&&"none"!==e}function wi(e,n,t){var i=document.defaultView,a=de._getParentNode(e),s=i.getComputedStyle(e)[n],o=i.getComputedStyle(a)[n],r=Si(s),c=Si(o),l=Number.POSITIVE_INFINITY;return r||c?Math.min(r?Ei(s,e,t):l,c?Ei(o,a,t):l):"none"}for(var Di in yi.filler=bi,yi.legend=Ii,yi.title=_i,(ot.helpers=de).where=function(e,n){if(de.isArray(e)&&Array.prototype.filter)return e.filter(n);var t=[];return de.each(e,function(e){n(e)&&t.push(e)}),t},de.findIndex=Array.prototype.findIndex?function(e,n,t){return e.findIndex(n,t)}:function(e,n,t){t=void 0===t?e:t;for(var i=0,a=e.length;i<a;++i)if(n.call(t,e[i],i,e))return i;return-1},de.findNextWhere=function(e,n,t){de.isNullOrUndef(t)&&(t=-1);for(var i=t+1;i<e.length;i++){var a=e[i];if(n(a))return a}},de.findPreviousWhere=function(e,n,t){de.isNullOrUndef(t)&&(t=e.length);for(var i=t-1;0<=i;i--){var a=e[i];if(n(a))return a}},de.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},de.almostEquals=function(e,n,t){return Math.abs(e-n)<t},de.almostWhole=function(e,n){var t=Math.round(e);return t-n<e&&e<t+n},de.max=function(e){return e.reduce(function(e,n){return isNaN(n)?e:Math.max(e,n)},Number.NEGATIVE_INFINITY)},de.min=function(e){return e.reduce(function(e,n){return isNaN(n)?e:Math.min(e,n)},Number.POSITIVE_INFINITY)},de.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:0<e?1:-1},de.log10=Math.log10?function(e){return Math.log10(e)}:function(e){var n=Math.log(e)*Math.LOG10E,t=Math.round(n);return e===Math.pow(10,t)?t:n},de.toRadians=function(e){return e*(Math.PI/180)},de.toDegrees=function(e){return e*(180/Math.PI)},de._decimalPlaces=function(e){if(de.isFinite(e)){for(var n=1,t=0;Math.round(e*n)/n!==e;)n*=10,t++;return t}},de.getAngleFromPoint=function(e,n){var t=n.x-e.x,i=n.y-e.y,a=Math.sqrt(t*t+i*i),s=Math.atan2(i,t);return s<-.5*Math.PI&&(s+=2*Math.PI),{angle:s,distance:a}},de.distanceBetweenPoints=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},de.aliasPixel=function(e){return e%2==0?0:.5},de._alignPixel=function(e,n,t){var i=e.currentDevicePixelRatio,a=t/2;return Math.round((n-a)*i)/i+a},de.splineCurve=function(e,n,t,i){var a=e.skip?n:e,s=n,o=t.skip?n:t,r=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2)),c=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),l=r/(r+c),d=c/(r+c),u=i*(l=isNaN(l)?0:l),p=i*(d=isNaN(d)?0:d);return{previous:{x:s.x-u*(o.x-a.x),y:s.y-u*(o.y-a.y)},next:{x:s.x+p*(o.x-a.x),y:s.y+p*(o.y-a.y)}}},de.EPSILON=Number.EPSILON||1e-14,de.splineCurveMonotone=function(e){var n,t,i,a,s,o,r,c,l,d=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),u=d.length;for(n=0;n<u;++n)if(!(i=d[n]).model.skip){if(t=0<n?d[n-1]:null,(a=n<u-1?d[n+1]:null)&&!a.model.skip){var p=a.model.x-i.model.x;i.deltaK=0!=p?(a.model.y-i.model.y)/p:0}!t||t.model.skip?i.mK=i.deltaK:!a||a.model.skip?i.mK=t.deltaK:this.sign(t.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(t.deltaK+i.deltaK)/2}for(n=0;n<u-1;++n)i=d[n],a=d[n+1],i.model.skip||a.model.skip||(de.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=a.mK=0:(s=i.mK/i.deltaK,o=a.mK/i.deltaK,(c=Math.pow(s,2)+Math.pow(o,2))<=9||(r=3/Math.sqrt(c),i.mK=s*r*i.deltaK,a.mK=o*r*i.deltaK)));for(n=0;n<u;++n)(i=d[n]).model.skip||(t=0<n?d[n-1]:null,a=n<u-1?d[n+1]:null,t&&!t.model.skip&&(l=(i.model.x-t.model.x)/3,i.model.controlPointPreviousX=i.model.x-l,i.model.controlPointPreviousY=i.model.y-l*i.mK),a&&!a.model.skip&&(l=(a.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+l,i.model.controlPointNextY=i.model.y+l*i.mK))},de.nextItem=function(e,n,t){return t?n>=e.length-1?e[0]:e[n+1]:n>=e.length-1?e[e.length-1]:e[n+1]},de.previousItem=function(e,n,t){return t?n<=0?e[e.length-1]:e[n-1]:n<=0?e[0]:e[n-1]},de.niceNum=function(e,n){var t=Math.floor(de.log10(e)),i=e/Math.pow(10,t);return(n?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,t)},de.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},de.getRelativePosition=function(e,n){var t,i,a=e.originalEvent||e,s=e.target||e.srcElement,o=s.getBoundingClientRect(),r=a.touches;i=r&&0<r.length?(t=r[0].clientX,r[0].clientY):(t=a.clientX,a.clientY);var c=parseFloat(de.getStyle(s,"padding-left")),l=parseFloat(de.getStyle(s,"padding-top")),d=parseFloat(de.getStyle(s,"padding-right")),u=parseFloat(de.getStyle(s,"padding-bottom")),p=o.right-o.left-c-d,f=o.bottom-o.top-l-u;return{x:t=Math.round((t-o.left-c)/p*s.width/n.currentDevicePixelRatio),y:i=Math.round((i-o.top-l)/f*s.height/n.currentDevicePixelRatio)}},de.getConstraintWidth=function(e){return wi(e,"max-width","clientWidth")},de.getConstraintHeight=function(e){return wi(e,"max-height","clientHeight")},de._calculatePadding=function(e,n,t){return-1<(n=de.getStyle(e,n)).indexOf("%")?t*parseInt(n,10)/100:parseInt(n,10)},de._getParentNode=function(e){var n=e.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n},de.getMaximumWidth=function(e){var n=de._getParentNode(e);if(!n)return e.clientWidth;var t=n.clientWidth,i=t-de._calculatePadding(n,"padding-left",t)-de._calculatePadding(n,"padding-right",t),a=de.getConstraintWidth(e);return isNaN(a)?i:Math.min(i,a)},de.getMaximumHeight=function(e){var n=de._getParentNode(e);if(!n)return e.clientHeight;var t=n.clientHeight,i=t-de._calculatePadding(n,"padding-top",t)-de._calculatePadding(n,"padding-bottom",t),a=de.getConstraintHeight(e);return isNaN(a)?i:Math.min(i,a)},de.getStyle=function(e,n){return e.currentStyle?e.currentStyle[n]:document.defaultView.getComputedStyle(e,null).getPropertyValue(n)},de.retinaScale=function(e,n){var t=e.currentDevicePixelRatio=n||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==t){var i=e.canvas,a=e.height,s=e.width;i.height=a*t,i.width=s*t,e.ctx.scale(t,t),i.style.height||i.style.width||(i.style.height=a+"px",i.style.width=s+"px")}},de.fontString=function(e,n,t){return n+" "+e+"px "+t},de.longestText=function(n,e,t,i){var a=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},s=i.garbageCollect=[],i.font=e),n.font=e;var o=0;de.each(t,function(e){null!=e&&!0!==de.isArray(e)?o=de.measureText(n,a,s,o,e):de.isArray(e)&&de.each(e,function(e){null==e||de.isArray(e)||(o=de.measureText(n,a,s,o,e))})});var r=s.length/2;if(r>t.length){for(var c=0;c<r;c++)delete a[s[c]];s.splice(0,r)}return o},de.measureText=function(e,n,t,i,a){var s=n[a];return s||(s=n[a]=e.measureText(a).width,t.push(a)),i<s&&(i=s),i},de.numberOfLabelLines=function(e){var n=1;return de.each(e,function(e){!de.isArray(e)||e.length>n&&(n=e.length)}),n},de.color=z?function(e){return e instanceof CanvasGradient&&(e=re.global.defaultColor),z(e)}:function(e){return console.error("Color.js not found!"),e},de.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:de.color(e).saturate(.5).darken(.1).rgbString()},ot._adapters=lt,ot.Animation=ve,ot.animationService=ye,ot.controllers=un,ot.DatasetController=Se,ot.defaults=re,ot.Element=he,ot.elements=Be,ot.Interaction=yn,ot.layouts=En,ot.platform=qn,ot.plugins=Un,ot.Scale=ht,ot.scaleService=$n,ot.Ticks=dt,ot.Tooltip=et,ot.helpers.each(ei,function(e,n){ot.scaleService.registerScaleType(n,e,e._defaults)}),yi)yi.hasOwnProperty(Di)&&ot.plugins.register(yi[Di]);ot.platform.initialize();var Ni=ot;return"undefined"!=typeof window&&(window.Chart=ot),(ot.Chart=ot).Legend=yi.legend._element,ot.Title=yi.title._element,ot.pluginService=ot.plugins,ot.PluginBase=ot.Element.extend({}),ot.canvasHelpers=ot.helpers.canvas,ot.layoutService=ot.layouts,ot.LinearScaleBase=It,ot.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){ot[t]=function(e,n){return new ot(e,ot.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),Ni},"object"==typeof t&&void 0!==n?n.exports=a(function(){try{return e("moment")}catch(e){}}()):i.Chart=a(i.moment)},{moment:"moment"}],13:[function(e,i,n){(function(e){function n(e){e.registerDefaultView("cockpit.processDefinition.history.diagram.action",{id:"activityInstance-action",url:t.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/activityInstance-period/activityInstance-action.html",controller:["$scope","configuration","$translate",function(t,e,n){var i=t.processData;t.adjustablePeriod=e.getActivityInstanceAdjustable(),t.metricsPeriods=[{value:"1",unit:"day",label:n.instant("PLGN_ACTIVITY_INSTANCE_PERIOD_TODAY")},{value:"1",unit:"week",label:n.instant("PLGN_ACTIVITY_INSTANCE_PERIOD_WEEK")},{value:"1",unit:"month",label:n.instant("PLGN_ACTIVITY_INSTANCE_PERIOD_MONTH")},{value:"1",unit:"complete",label:n.instant("PLGN_ACTIVITY_INSTANCE_PERIOD_ALL")}];var a;t.selectedMetricPeriod=(a=-1<["day","week","month","complete"].indexOf(e.getActivityInstancePeriod().unit)?e.getActivityInstancePeriod().unit:"day",t.metricsPeriods.filter(function(e){return a===e.unit}).map(function(e){return e.label})[0]),t.setHistoricActivityQuery=function(e){var n={completeScope:!0,canceled:!0,finished:!0};t.selectedMetricPeriod=e.label,"complete"!==e.unit&&(n.startedAfter=function(e){return s().clone().subtract(e.value,e.unit).format("YYYY-MM-DDTHH:mm:ss.SSSZZ")}(e)),i.set("historicActivityQuery",n)}}],priority:20})}var t="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,s="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;n.$inject=["ViewsProvider"],i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./activityInstance-action"),i=n.module("cockpit.plugin.activityInstance-period.actions",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./activityInstance-action":13}],15:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./actions/main");a.exports=n.module("cockpit.plugin.activityInstance-period",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":14}],16:[function(e,i,n){(function(e){"use strict";function n(e){e.registerDefaultView("cockpit.repository.resource.action",{id:"edit-resource",controller:t,template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/editAction.html --\x3e\n<a class="edit-resource"\n   ng-click=" enterEditMode() "\n   ng-if="control.isDmnResource(resource)"\n>\n  <span class="glyphicon glyphicon-pencil"></span> {{ \'PLGN_ADJ_EDIT\' | translate }}\n</a>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/editAction.html --\x3e\n',priority:300})}var y="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=["$scope","$rootScope","$uibModal","$location","$timeout","Uri","search","Notifications","$translate",function(d,e,t,n,i,u,a,p,f){function s(){!r&&d.resource&&d.control.isDmnResource(d.resource)?"true"===(n.search()||{}).editMode&&d.openEditDialog(d.binary):l()}var o=d.resourceDetailsData.newChild(d),r=!1,g=null,h=null,c=d.control.isDmnResource,l=function(){g&&g.dismiss("cancel")};d.$on("$routeUpdate",s),d.$on("$destroy",l),o.observe("resource",function(e){d.resource=e}),o.observe("currentDeployment",function(e){d.currentDeployment=e}),o.observe("binary",function(e){d.binary=(e||{}).data,s()});var m=["$scope","$uibModalInstance","dmnXml","isFileUploadSupported",function(a,t,e,n){g=t,i(function(){a.dmnXml=e,a.$apply()},500),a.control={},h=a.control,a.uploadSupport=n(),a.downloadSupport="function"==typeof MouseEvent,a.hideTable=!1,a.$on("$routeChangeStart",function(){a.$dismiss()}),a.ok=function(){g=null,a.control.getViewer().saveXML({format:!0},function(e,n){t.close(n)})},a.fileInputChange=function(e){var n=e[0].file,i=e[0].content;c(n.name)?e.length?(a.hideTable=!0,a.control.getViewer().saveXML({format:!0},function(e,t){a.control.getViewer().importXML(i,function(e,n){d.$apply(function(){e||n.length?(p.addError({status:f.instant("PLGN_ADJ_FILE_LOADING_FAILED"),message:f.instant("PLGN_ADJ_FILE_NOT_LOADED")+(e||n[0].message),scope:a}),a.control.getViewer().importXML(t,function(e,n){a.hideTable=!1,(e||n.length)&&a.cancel()})):a.hideTable=!1})})})):p.addError({status:f.instant("PLGN_ADJ_FILE_NOT_SELECTED"),message:f.instant("PLGN_ADJ_FILE_PLEASE_SELECT"),scope:a}):p.addError({status:f.instant("PLGN_ADJ_FILE_FORMAT_NOT_SUPPORTED"),unsafe:!0,message:f.instant("PLGN_ADJ_FILE_SELECT")+"<code>.dmn</code> "+f.instant("PLGN_ADJ_FILE_SELECT_OR")+" <code>.dmn11.xml</code>",scope:a})},a.cancel=function(){g=null,t.dismiss("cancel")},a.downloadXML=function(){a.control.getViewer().saveXML({format:!0},function(e,n){var t=document.createElement("a");t.setAttribute("href","data:application/xml;charset=UTF-8,"+window.encodeURIComponent(n)),t.setAttribute("download",d.resource.name);var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(i)})}}],v=["$scope","$uibModalInstance","$timeout","$location","dmnXml","routeUtil","upload","getDeploymentUrl",function(t,i,n,e,a,s,o,r){g=i,n(function(){t.dmnXml=a,t.$apply()},500);var c=d.currentDeployment;t.deploymentName=c.name,t.control={},h=t.control,t.$on("$routeChangeStart",function(){t.$dismiss()});var l=[];t.$on("$destroy",function(){for(var e;e=l.pop();)"function"==typeof e&&n(e)});t.ok=function(){t.status="LOADING";var n=d.resource,e={"deployment-name":t.deploymentName,"deployment-source":"cockpit"};c.tenantId&&(e["tenant-id"]=c.tenantId),o(u.appUri("engine://engine/:engine/deployment/create"),{file:n,content:a},e).then(function(e){l.push(function(){!function(e,n){p.addMessage({status:f.instant("PLGN_ADJ_DEPLOYMENT_SUCCESS"),unsafe:!0,message:f.instant("PLGN_ADJ_RESOURCE_UPDATED")+'<br/><a href="'+r(e,n)+'">'+f.instant("PLGN_ADJ_SEE_NEW_DEPLOYMENT")+"</a>",scope:d})}(e,n)}),i.close(e)}).catch(function(e){t.status="ERROR",function(e){p.addError({status:f.instant("PLGN_ADJ_DEPLOYMENT_FAILED"),message:f.instant("PLGN_ADJ_RESOURCE_NOT_UPDATED")+JSON.parse(e.currentTarget.response).message,exclusive:!0})}(e)})},t.cancel=function(){g=null,i.dismiss("cancel")},t.back=function(){i.dismiss("back")}}];d.leaveEditMode=function(){var e=n.search()||{};delete e.editMode,a.updateSilently(e)},d.enterEditMode=function(){var e=n.search()||{};e.editMode="true",a.updateSilently(e)},d.openEditDialog=function(e){r=!0,t.open({templateUrl:y.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/adjustment/modalTemplate.html",controller:m,windowClass:"edit-dmn-modal",size:"lg",resolve:{dmnXml:function(){return e}}}).result.then(function(e){h&&h.getViewer().destroy(),d.openConfirmDialog(e)},function(){r=!1,d.leaveEditMode()})},d.openConfirmDialog=function(n){t.open({template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/confirmTemplate.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLGN_ADJ_EDIT_DMN\' | translate }}</h3>\n</div>\n\n<div class="modal-body form-horizontal">\n  <div notifications-panel></div>\n  <div class="help-block">\n    {{ \'PLGN_ADJ_HELP_BLOCK_FIRE\' | translate }} <span title="fire" class="glyphicon glyphicon-fire"></span>.<br/>\n    {{ \'PLGN_ADJ_HELP_BLOCK_DEPLOY\' | translate }}\n  </div>\n\n  <div class="deployment-name">\n    <label for="new-deployment-name">{{ \'PLGN_ADJ_HELP_BLOCK_DEPLOYMENT_NAME\' | translate }}</label>\n    <div>\n      <input type="text"\n             id="new-deployment-name"\n             ng-model="deploymentName"\n             class="form-control" />\n    </div>\n  </div>\n \n  <div cam-widget-dmn-viewer\n       show-details="true"\n       enable-drd-navigation="true"\n       height="400"\n       control="control"\n       xml="dmnXml">\n  </div>\n</div>\x3c!-- .modal-body --\x3e\n\n\n<div class="modal-footer">\n\n  <div class="row">\n\n    <div class="col-xs-4 text-left">\n      <button class="btn btn-link"\n              ng-click="back()"\n              ng-disabled="status === \'LOADING\'">{{ \'PLGN_ADJ_BACK\' | translate }}</button>\n    </div>\n\n    <div class="col-xs-8">\n      <button class="btn btn-link"\n              ng-click="cancel()"\n              ng-disabled="status === \'LOADING\'">{{ \'PLGN_ADJ_CANCEL\' | translate }}</button>\n\n      <button class="btn btn-primary"\n              ng-click="ok()"\n              ng-disabled="status === \'LOADING\'">{{ \'PLGN_ADJ_DEPLOY\' | translate }} <span ng-if="status === \'LOADING\'" class="glyphicon glyphicon-refresh animate-spin"></span></button>\n    </div>\n\n  </div>\n\n</div>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/actions/confirmTemplate.html --\x3e\n',controller:v,windowClass:"confirm-dmn-modal",size:"lg",resolve:{dmnXml:function(){return n}}}).result.then(function(){r=!1,d.leaveEditMode(),e.$broadcast("cam-common:cam-searchable:query-force-change")},function(e){h.getViewer().destroy(),"back"===e?d.openEditDialog(n):(r=!1,d.leaveEditMode())})}}];n.$inject=["ViewsProvider"],i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.decisionDefinition.action",{id:"delete-resource",controller:a,template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/adjustment/app/decision/deleteActionTemplate.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   ng-click="openBatch()"\n   href=""\n   uib-tooltip="{{ \'PLGN_ADJ_DELETE_DECISION_INSTANCES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/adjustment/app/decision/deleteActionTemplate.html --\x3e\n',priority:190})}var a=["$scope","$location",function(e,i){e.openBatch=function(){i.path("/batch/operation").search({batchSearchQuery:function(e){var n=i.search().searchQuery,t=JSON.parse(n).map(function(e){return"decisionInstanceId"===e.type&&(e.type="decisionInstanceIdIn",e.operator="In"),"activityIdIn"!==e.type&&"activityInstanceIdIn"!==e.type||(e.operator="In"),e}).concat({type:"decisionDefinitionIdIn",operator:"In",value:e.id,name:""});return JSON.stringify(t)}(e.decisionDefinition),operation:"DELETE_DECISION_HISTORY"})}}];i.$inject=["ViewsProvider"],n.exports=i},{}],18:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.decisionDefinition.action",{id:"edit-resource",controller:a,template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/decision/editActionTemplate.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   ng-href="{{editModeUrl()}}"\n   uib-tooltip="{{ \'PLGN_ADJ_ENTER_EDIT\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-pencil"></span>\n</a>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/adjustment/app/decision/editActionTemplate.html --\x3e\n',priority:200})}var a=["$scope","routeUtil",function(t,i){t.editModeUrl=function(){var e=t.decisionDefinition.deploymentId,n={deployment:e,resourceName:t.decisionDefinition.resource,editMode:"true",deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e}])};return i.redirectTo("#/repository",n,["deployment","resourceName","deploymentsQuery","editMode"])}}];i.$inject=["ViewsProvider"],n.exports=i},{}],19:[function(r,c,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=r("./actions/editAction"),a=r("./decision/editAction"),s=r("./decision/deleteAction"),o=n.module("cockpit.plugin.adjustment",[t.name]);o.config(i),o.config(a),o.config(s),c.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/editAction":16,"./decision/deleteAction":17,"./decision/editAction":18}],20:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.navigation",{id:"audit_log",label:"PLGN_AUDIT_LOG_LABEL",template:"\x3c!-- nothing to show, but needed --\x3e",pagePath:"#/audit",checkActive:function(e){return-1<e.indexOf("#/audit")},controller:[function(){}],priority:-20})}]},{}],21:[function(e,s,n){(function(e){var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,a=JSON.parse('{\n  "columns": ["operationId",\n    "userId",\n    "operationType",\n    "entityType",\n    "processDefinitionId",\n    "processInstanceId",\n    "taskId",\n    "caseDefinitionId",\n    "caseInstanceId",\n    "jobDefinitionId",\n    "jobId",\n    "batchId",\n    "deploymentId",\n    "timestamp",\n    "property",\n    "orgValue",\n    "newValue"],\n  "multiSpaceColumns": [\n    "property","orgValue","newValue"\n  ],\n  "defaultColumns": [\n    "userId", "operationType", "entityType", "processDefinitionId", "timestamp", "property", "newValue"\n  ],\n  "types": [\n    {\n      "id": {\n        "key": "userId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_USER_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "Timestamp",\n        "value": "PLGN_AUDIT_SEARCH_TIMESTAMP"\n      },\n      "operators": [\n        {\n          "key": "before",\n          "value": "PLGN_AUDIT_SEARCH_TIMESTAMP_BEFORE"\n        },\n        {\n          "key": "after",\n          "value": "PLGN_AUDIT_SEARCH_TIMESTAMP_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "operationType",\n        "value": "PLGN_AUDIT_SEARCH_OPERATION_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "options": ["Activate","ActivateBatch","ActivateJob","ActivateJobDefinition","ActivateProcessDefinition","Create","CreateHistoryCleanupJobs","CreateIncident","Delete","DeleteHistory","Evaluate","Execute","Migrate","ModifyProcessInstance","RecalculateDueDate","Resolve","RestartProcessInstance","SetDueDate","SetExternalTaskRetries","SetJobRetries","SetPriority","Suspend","SuspendBatch","SuspendJob","SuspendJobDefinition","SuspendProcessDefinition","Unlock","UpdateHistoryTimeToLive","AddAttachment","AddGroupLink","AddUserLink","Assign","Claim","Complete","Delegate","DeleteAttachment","DeleteGroupLink","DeleteUserLink","SetOwner","Update","SetRemovalTime"],\n      "allowNonOptions": true,\n      "default": true\n    },\n    {\n      "id": {\n        "key": "entityType",\n        "value": "PLGN_AUDIT_SEARCH_ENTITY_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n\n\n    {\n      "id": {\n        "key": "deploymentId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_DEPLOYMENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseExecutionId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_CASE_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_TASK_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "jobId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_JOB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "jobDefinitionId",\n        "value": "PLGN_AUDIT_SEARCH_CONFIG_JOB_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "operationId",\n        "value": "PLGN_AUDIT_SEARCH_OPERATION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "tooltips": {\n    "inputPlaceholder": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_ADD_CRITERIA",\n    "invalid": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_NOT_VALID",\n    "deleteSearch": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_REMOVE_SEARCH",\n    "type": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_TYPE",\n    "name": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_PROPERTY",\n    "operator": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_OPERATOR",\n    "value": "PLGN_AUDIT_SEARCH_CONFIG_TOOLTIPS_VALUE"\n  }\n}\n'),t=["$scope","Views","page","$translate",function(e,n,t,i){e.$root.showBreadcrumbs=!0,t.breadcrumbsClear(),t.breadcrumbsAdd({label:i.instant("PLGN_AUDIT_LOG_LABEL")}),t.titleSet(i.instant("PLGN_AUDIT_LOG_LABEL")),e.searchConfig=a,e.plugins=n.getProviders({component:"cockpit.audit"})}],i=["$routeProvider",function(e){e.when("/audit",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/audit/index.html",controller:t,authentication:"required",reloadOnSearch:!1})}];s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./config/navigationConfig"),i=s("./config/routeConfig"),a=n.module("cockpit.plugin.audit",[]);a.config(t),a.config(i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config/navigationConfig":20,"./config/routeConfig":21}],23:[function(e,t,n){(function(e){"use strict";function n(e,n,t,i,a){this.eventBus=e,this.operationComponent=n,this.getDelegate=t,this.sdk=i,this.method="POST",this.payload={},this.fixDate=a,this.moment=o,this.async=!0,this.skipIoMappings=!0;var s=this;this.eventBus.on("tab.changed",function(e){"confirm"===e&&s.buildPayload()})}var o="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;n.prototype.getRequestURI=function(){var e="";if(this.operationComponent.operation){var n=this.operationComponent.operation.value,t=this.operationComponent.operationActionMapping[n];e=this.sdk.config.apiUri+this.sdk.resource(t.resource).path+t.action}return e},n.prototype.buildPayload=function(){var n={};if(this.operationComponent.operation){var e=this.operationComponent.operation.value,t=this.operationComponent.operationActionMapping[e],i=this.operationComponent.operation.checkboxes,a=this.operationComponent.operation.radios,s=this.operationComponent.operation.addition;if(this.getDelegate().selectedInstances.length)n[t.ids]=this.getDelegate().selectedInstances;else{var o=this.getDelegate().search.getParams();n[t.query]=o}this.operationComponent.operation.addition&&(n[this.operationComponent.operation.addition.payload]=this.operationComponent.operation.addition.value);var r=this.operationComponent.operation.staticPayload;r&&Object.keys(r).forEach(function(e){n[e]=r[e]}),a&&a.forEach(function(e){e.value&&(s&&e.field===s.payload?n[e.field]=s.value:n[e.field]=e.value)}),s&&s.value&&this.moment(s.value,this.moment.ISO_8601).isValid()&&(n[s.payload]=this.fixDate(s.value)),i&&i.forEach(function(e){n[e.field]=e.value})}this.payload=n},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,n,t){"use strict";function i(i,e,n,t){this.eventBus=i,this.operationComponent=e,this.confirmationComponent=n,this.$translate=t,this.status="",this.error=null,this.failedInstructions=[];var a=this;this.eventBus.on("batch.operation.execute",function(){a.batchId=null,a.statusIcon="glyphicon-refresh animate-spin",a.status=a.$translate.instant("PLGN_BTCH_INSTANCES_PROCESSED");var t=a.confirmationComponent.payload,e=a.operationComponent.operationManager;a.eventBus.emit("batch.operation.started");e.performAsync(t,function(e,n){e?(a.error=JSON.parse(e.response.text),a.status=a.$translate.instant("PLGN_BTCH_OPERATION_FAILED")+e.message,a.statusIcon="glyphicon-warning-sign text-danger",i.emit("batch.operation.failed",e.message)):(a.error=null,a.statusIcon="glyphicon-ok text-success",n.id?(a.status=a.$translate.instant("PLGN_BTCH_OPERATION_EXECUTED",{id:n.id}),a.batchId=n.id):a.status=a.$translate.instant("PLGN_BTCH_OPERATION_FINISHED"),i.emit("batch.operation.finished",t))})})}i.prototype._calculateFailedInstructions=function(){return[]},i.prototype.hasError=function(){return!!this.error},i.prototype.getErrorMessage=function(){return this.error.message},i.prototype.getFailedInstanceId=function(){return this.error.validationReport.processInstanceId},i.prototype.getFailedInstructions=function(){return this.failedInstructions},n.exports=i},{}],25:[function(e,n,t){"use strict";function i(e,n,t,i,a){this.delegate=new s(n,t,i,a,this),this.forcedSearch=a.forcedSearch,this.instanceType=e}var s=e("../../../../../common/batch/instancesList");i.prototype.onSortInitialized=function(e){this.sorting=e},i.prototype.onSortChanged=function(e){this.sorting=e,this.updatePage()},i.prototype.getDelegate=function(){return this.delegate},i.prototype.getSearchTypes=function(){return this.delegate.search.types},i.prototype.hasQueryOrInstances=function(){return 0<this.selectedInstances.length||0<this.instancesCount},i.prototype.updateInstances=function(e){this.delegate.instances="process"!==this.instanceType?e:e.map(function(e){return e.defLabel=e.processDefinitionKey+" ("+e.processDefinitionVersion+")",e})},i.prototype.updatePage=function(e){var t=this;this.delegate.selectAll=!1;var n=t.delegate.api.resource("history"),i=t.delegate.api.resource("incident"),a="PI";0<this.delegate.search.searches.length&&(a=this.delegate.search.searches[0].type.value.key.substr(0,2)),e&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var s=this.delegate.search.getParams();s.sortOrder=this.sorting.sortOrder,s.firstResult=(this.delegate.currentPage-1)*t.delegate.pageSize,s.maxResults=this.delegate.pageSize,this.forcedSearch&&(s[this.forcedSearch.type]=this.forcedSearch.value);var o=JSON.stringify(s);if(this.delegate.currentParams!==o){this.delegate.currentParams=o,this.delegate.loadingState="LOADING";var r=function(){null!==t.delegate.instances&&null!==t.delegate.instancesCount&&(t.delegate.loadingState="LOADED",0===t.delegate.instancesCount&&(t.delegate.loadingState="EMPTY"),t.delegate.eventBus.emit("instanceList.updated"),t.delegate.eventBus.emit("state.updated"))};t.delegate.instances=t.delegate.instancesCount=null,"batch"===this.instanceType?(s.sortBy=this.sorting.sortBy,n.batch(s,function(e,n){t.updateInstances(n),t.delegate.applySelection(),r()}),n.batchCount(s,function(e,n){n&&(t.delegate.instancesCount=n.count),r()})):"decision"===this.instanceType?(s.sortBy=this.sorting.sortBy,n.decisionInstance(s,function(e,n){t.updateInstances(n),t.delegate.applySelection(),r()}),n.decisionInstanceCount(s,function(e,n){n&&(t.delegate.instancesCount=n.count),r()})):"PI"===a?(s.sortBy=this.sorting.sortBy,n.processInstance(s,function(e,n){t.updateInstances(n),t.delegate.applySelection(),r()}),n.processInstanceCount(s,function(e,n){n&&(t.delegate.instancesCount=n.count),r()})):"IN"===a&&(s.sortBy="incidentTimestamp",i.count(s,function(e,n){if(!n||!n.count)return t.delegate.incidents=[],void(t.delegate.loadingState="EMPTY");t.delegate.instancesCount=n.count,i.get(s,function(e,n){t.updateInstances(n),t.delegate.loadingState="LOADED"})}))}},n.exports=i},{"../../../../../common/batch/instancesList":84}],26:[function(t,s,e){(function(e){"use strict";function n(e,n,t,i){var a=this;a.location=t,a.eventBus=n,a.activateTab("definition"),a.$translate=i;var s=window.camCockpitConf&&window.camCockpitConf.skipCustomListeners||{};a.skipCustomListeners={default:"boolean"!=typeof s.default||s.default,hidden:"boolean"==typeof s.hidden&&s.hidden},a.actions=a.getActions(),a.hasValidOperation=!1,a.setOperationFromUrl(),a.isAsync=!1,a.operationManager=new o(e,this),a.operationActionMapping={DELETE_RUNTIME:{resource:"process-instance",action:"/delete-historic-query-based",function:"deleteAsyncHistoricQueryBased",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},DELETE_HISTORY:{resource:"history",action:"/process-instance/delete",function:"deleteProcessInstancesAsync",query:"historicProcessInstanceQuery",ids:"historicProcessInstanceIds"},DELETE_DECISION_HISTORY:{resource:"history",action:"/decision-instance/delete",function:"deleteDecisionInstancesAsync",query:"historicDecisionInstanceQuery",ids:"historicDecisionInstanceIds"},SET_RETRIES:{resource:"process-instance",action:"/job-retries-historic-query-based",function:"setJobsRetriesAsyncHistoricQueryBased",query:"historicProcessInstanceQuery",ids:"processInstances"},SUSPEND:{resource:"process-instance",action:"/suspended-async",function:"suspendAsync",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},ACTIVATE:{resource:"process-instance",action:"/suspended-async",function:"suspendAsync",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},RETRY_EXTERNAL:{resource:"external-task",action:"/retries-async",function:"retriesAsync",query:"historicProcessInstanceQuery",ids:"processInstanceIds"},PROCESS_SET_REMOVAL_TIME:{resource:"history",action:"/process-instance/set-removal-time",function:"setRemovalTimeToHistoricProcessInstancesAsync",query:"historicProcessInstanceQuery",ids:"historicProcessInstanceIds"},DECISION_SET_REMOVAL_TIME:{resource:"history",action:"/decision-instance/set-removal-time",function:"setRemovalTimeToHistoricDecisionInstancesAsync",query:"historicDecisionInstanceQuery",ids:"historicDecisionInstanceIds"},BATCH_SET_REMOVAL_TIME:{resource:"history",action:"/batch/set-removal-time",function:"setRemovalTimeToHistoricBatchesAsync",query:"historicBatchQuery",ids:"historicBatchIds"}},a.updateOperation()}var o=t("./operationManager"),i="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,a="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;n.prototype.initOperation=function(){var n=null,t=this;return this.location&&this.location.search&&this.location.search()&&this.location.search().operation&&this.actions.forEach(function(e){e.value===t.location.search().operation&&(n=e)}),n},n.prototype.setOperationFromUrl=function(){this.operation=this.initOperation()},n.prototype.activateTab=function(e){this.pageContentId=e,this.eventBus.emit("tab.changed",e)},n.prototype.getPageContentId=function(){return this.pageContentId},n.prototype.toggleAsync=function(){return this.isAsync=!this.isAsync},n.prototype.getActions=function(){var e={label:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_ABSOLUTE"),placeholder:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_ABSOLUTE_PLACEHOLDER"),payload:"absoluteRemovalTime",hidden:!0,toggle:function(){return!i.element("#absoluteRemovalTime").prop("checked")},evalValue:function(){return a().format("YYYY-MM-DDTHH:mm:00")},required:!1,requiredErrorMessage:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_ABSOLUTE_REQUIRED"),validation:/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,validationErrorMessage:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_ABSOLUTE_MSG")},n=[{field:"hierarchical",value:!1,label:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_HIERARCHICAL"),tooltip:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_HIERARCHICAL_TOOLTIP")}],t=[{field:"clearedRemovalTime",value:!1,name:"mode",label:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_MODE_CLEARED"),tooltip:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_MODE_CLEARED_TOOLTIP")},{field:"calculatedRemovalTime",value:!0,name:"mode",label:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_MODE_CALCULATED"),tooltip:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_MODE_CALCULATED_TOOLTIP")},{field:"absoluteRemovalTime",value:!1,name:"mode",label:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_MODE_ABSOLUTE"),tooltip:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_MODE_ABSOLUTE_TOOLTIP")}];return[{name:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST"),value:"DELETE_RUNTIME",sentenceLabel:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_DELETE"),passiveLabel:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_DELETED"),instanceType:"process",addition:{validation:/^.*$/,label:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_DELETE_REASON"),placeholder:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_WHY"),payload:"deleteReason"},search:{title:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_CAN_DELETED")}},checkboxes:[{field:"skipCustomListeners",value:this.skipCustomListeners.default,hidden:this.skipCustomListeners.hidden,label:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SKIP_CUSTOM_LISTENERS"),tooltip:this.$translate.instant("PLGN_BTCH_DEL_RUN_PROCINST_SKIP_CUSTOM_LISTENERS_TOOLTIP")}]},{name:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST"),value:"DELETE_HISTORY",sentenceLabel:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_DELETE"),passiveLabel:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_DELETED"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_SEARCH_FINISHED"),suffix:this.$translate.instant("PLGN_BTCH_DEL_FIN_PROCINST_CAN_DELETED")}}},{name:this.$translate.instant("PLGN_BTCH_DEL_DECINST"),value:"DELETE_DECISION_HISTORY",sentenceLabel:this.$translate.instant("PLGN_BTCH_DEL_DECINST_DELETE"),passiveLabel:this.$translate.instant("PLGN_BTCH_DEL_DECINST_DELETED"),instanceType:"decision",addition:{validation:/^.*$/,label:this.$translate.instant("PLGN_BTCH_DEL_DECINST_DELETE_REASON"),placeholder:this.$translate.instant("PLGN_BTCH_DEL_DECINST_WHY"),payload:"deleteReason"},search:{title:this.$translate.instant("PLGN_BTCH_DEL_DECINST_SEARCH")}},{name:this.$translate.instant("PLGN_BTCH_SET_RET"),value:"SET_RETRIES",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_RET_RETRY"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_RET_RETRIED"),instanceType:"process",addition:{label:this.$translate.instant("PLGN_BTCH_SET_RET_RETRIES"),placeholder:this.$translate.instant("PLGN_BTCH_SET_RET_NOT_NEGATIVE"),payload:"retries",required:!0,requiredErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_PROVIDE_VALUE"),validation:/^\d*[0-9]\d*$/,validationErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_PROVIDE_NON_NEGATIVE_VALUE")},search:{title:this.$translate.instant("PLGN_BTCH_SET_RET_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_SET_RET_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_SET_RET_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_SET_RET_PROCESS_INSTANCES")}}},{name:this.$translate.instant("PLGN_BTCH_SET_RET_EXT"),value:"RETRY_EXTERNAL",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_RETRY"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_RETRIED"),instanceType:"process",addition:{label:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_RETRIES"),placeholder:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_NOT_NEGATIVE"),payload:"retries",required:!0,requiredErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_PROVIDE_VALUE"),validation:/^\d*[0-9]\d*$/,validationErrorMessage:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_PROVIDE_NON_NEGATIVE_VALUE")},search:{title:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_SET_RET_EXT_SEARCH_PROCESS_INSTANCES")}}},{name:this.$translate.instant("PLGN_BTCH_SUSPEND"),value:"SUSPEND",sentenceLabel:this.$translate.instant("PLGN_BTCH_SUSPEND_SUSPEND"),passiveLabel:this.$translate.instant("PLGN_BTCH_SUSPEND_SUSPENDED"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH_RUNNING"),suffix:this.$translate.instant("PLGN_BTCH_SUSPEND_SEARCH_PROCESS_INSTANCES")}},staticPayload:{suspended:!0}},{name:this.$translate.instant("PLGN_BTCH_ACTIVATE"),value:"ACTIVATE",sentenceLabel:this.$translate.instant("PLGN_BTCH_ACTIVATE_ACTIVATE"),passiveLabel:this.$translate.instant("PLGN_BTCH_ACTIVATE_ACTIVATED"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH"),info:{prefix:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH_PLEASE_NOTE"),emphasis:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH_SUSPENDED"),suffix:this.$translate.instant("PLGN_BTCH_ACTIVATE_SEARCH_PROCESS_INSTANCES")}},staticPayload:{suspended:!1}},{name:this.$translate.instant("PLGN_BTCH_PROCESS_SET_REMOVAL_TIME"),value:"PROCESS_SET_REMOVAL_TIME",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_SENTENCE"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_PASSIVE"),instanceType:"process",search:{title:this.$translate.instant("PLGN_BTCH_PROCESS_SET_REMOVAL_TIME_SEARCH_TITLE")},addition:e,checkboxes:n,radios:t},{name:this.$translate.instant("PLGN_BTCH_DECISION_SET_REMOVAL_TIME"),value:"DECISION_SET_REMOVAL_TIME",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_SENTENCE"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_PASSIVE"),instanceType:"decision",search:{title:this.$translate.instant("PLGN_BTCH_DECISION_SET_REMOVAL_TIME_SEARCH_TITLE")},addition:e,checkboxes:n,radios:t},{name:this.$translate.instant("PLGN_BTCH_BATCH_SET_REMOVAL_TIME"),value:"BATCH_SET_REMOVAL_TIME",sentenceLabel:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_SENTENCE"),passiveLabel:this.$translate.instant("PLGN_BTCH_SET_REMOVAL_TIME_PASSIVE"),instanceType:"batch",search:{title:this.$translate.instant("PLGN_BTCH_BATCH_SET_REMOVAL_TIME_SEARCH_TITLE")},addition:e,radios:t}]},n.prototype.getActionsSentenceLabel=function(){return self.operation.sentenceLabel},n.prototype.updateOperation=function(){if(this.location&&this.location.search){var e=this.location.search();e.operation=this.operation?this.operation.value:null,this.location.search(e),this.location.replace()}var n=!!this.operation,t=!0,i=!0;n&&this.operation.addition&&this.operation.addition.required&&(t=!!this.operation.addition.value),n&&this.operation.addition&&this.operation.addition.required&&this.operation.addition.validation&&(i=this.operation.addition.validation.test(this.operation.addition.value)),this.hasValidOperation=n&&t&&i,this.eventBus.emit("batch.operation.changed",this.operation)},n.prototype.clickRadio=function(n){this.operation.radios.forEach(function(e){e.field!==n.radio.field&&(e.value=!1)});var e=this.operation.addition;e.hidden=e.toggle(),e.value=e.evalValue(),e.hidden?(e.required=!1,delete e.value):e.required=!0,this.updateOperation()},n.prototype.execute=function(){this.eventBus.emit("batch.operation.execute"),this.activateTab("progress")},s.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./operationManager":27}],27:[function(e,n,t){"use strict";function i(e,n){this.sdk=e,this.operationComponent=n}i.prototype.performAsync=function(e,n){if(this.operationComponent.operation){var t=this.operationComponent.operation.value,i=this.operationComponent.operationActionMapping[t];this.sdk.resource(i.resource)[i.function](e,n)}},n.exports=i},{}],28:[function(n,t,e){(function(e){"use strict";var m={process:JSON.parse('{\n  "types": [\n\n    {\n      "id": {\n        "key": "PIprocessInstanceIds",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessInstanceBusinessKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {  "id": {\n        "key": "PIactiveActivityIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVE_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsuperProcessInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsubProcessInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIcaseInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "NotIn",\n          "value": "!="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionName",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "groups": ["PI"],\n      "default": true\n    },\n    {  "id": {\n        "key": "PIexecutedActivityIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_EXECUTED_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIstartedBy",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_STARTED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIstartedDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinishedDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_FINISH_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinished",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_FINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIunfinished",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_UNFINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithIncidents",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_WITH_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithRootIncidents",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_WITH_ROOT_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIincidentMessage",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_LIKE"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIvariables",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentStatus",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_INCIDENT"\n      },\n      "options": ["open", "resolved"],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentType",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedJobDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_JOB_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedActivityDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVITY_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PItenantIdIn",\n        "value": "PLGN_BATCH_SEARCH_TYPE_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIwithoutTenantId",\n        "value": "PLGN_BATCH_SEARCH_TYPE_WITHOUT_TENANT_ID"\n      },\n      "basic": true,\n      "groups": ["PI"]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_BATCH_SEARCH_CONFIG_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_ADD_CRITERIA",\n    "invalid": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_NOT_VALID",\n    "deleteSearch": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_REMOVE_SEARCH",\n    "type": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_TYPE",\n    "name": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_PROPERTY",\n    "operator": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_OPERATOR",\n    "value": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_VALUE"\n  },\n  "operationEvent": "batch.operation",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn","tenantIdIn","executedActivityIdIn", "activeActivityIdIn", "processDefinitionKeyNotIn"],\n  "nonSanitizedTypes": ["PIvariables"],\n  "withPrefix": true\n}\n'),decision:JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionKeyIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionName",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DECISION_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_PROCESS_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVE_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_EVALUATION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "before"\n        },\n        {\n          "key": "After",\n          "value": "after"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "User: ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstanceId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ROOT_DECISION_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstancesOnly",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_ROOT_DECISION_INSTANCE_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionId",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DRD_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionKey",\n        "value": "PLGN_BATCH_SEARCH_CONFIG_DRD_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "string": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "number": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "date": [\n      {\n        "key": "lteq",\n        "value": "before"\n      },\n      {\n        "key": "gteq",\n        "value": "after"\n      }\n    ]\n  },\n  "nonSanitizedTypes": [],\n  "arrayTypes": ["decisionInstanceIdIn", "decisionDefinitionIdIn", "decisionDefinitionKeyIn","activityIdIn","activityInstanceIdIn", "tenantIdIn"],\n  "tooltips": {\n    "inputPlaceholder": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_ADD_CRITERIA",\n    "invalid": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_NOT_VALID",\n    "deleteSearch": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_REMOVE_SEARCH",\n    "type": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_TYPE",\n    "name": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_PROPERTY",\n    "operator": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_OPERATOR",\n    "value": "PLGN_BATCH_SEARCH_CONFIG_TOOLTIPS_VALUE"\n  }\n}\n'),batch:JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "batchId",\n        "value": "PLGN_BTCH_BATCH_SEARCH_CONF_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "type",\n        "value": "PLGN_BTCH_BATCH_SEARCH_CONF_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "options": [\n        "instance-migration",\n        "instance-modification",\n        "instance-restart",\n        "instance-deletion",\n        "instance-update-suspension-state",\n        "historic-instance-deletion",\n        "historic-decision-instance-deletion",\n        "set-job-retries",\n        "set-external-task-retries",\n        "process-set-removal-time",\n        "decision-set-removal-time",\n        "batch-set-removal-time"\n      ],\n      "allowNonOptions": true,\n      "default": true\n    },\n    {\n      "id": {\n        "key": "completed",\n        "value": "PLGN_BTCH_BATCH_SEARCH_CONF_COMPLETED"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "PLGN_BTCH_BATCH_SEARCH_CONF_WITHOUT_TENANT_ID"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_BTCH_BATCH_SEARCH_CONF_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "nonSanitizedTypes": [],\n  "arrayTypes": [],\n  "operators": {\n    "string":     [\n      {\n        "key": "eq",\n        "value": " "\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_INPUT_PLACEHOLDER",\n    "invalid": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_INVALID",\n    "deleteSearch": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_DELETE_SEARCH",\n    "type": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_TYPE",\n    "name": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_NAME",\n    "operator": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_OPERATOR",\n    "value": "PLGN_BTCH_BATCH_SEARCH_CONF_TOOLTIP_VALUE"\n  }\n}\n')},v=n("../components/operationComponent"),y=n("../components/confirmationComponent"),b=n("../components/executionComponent"),I=n("../components/instancesList"),_="undefined"!=typeof window?window.events:void 0!==e?e.events:null;t.exports=["$scope","page","camAPI","$location","$translate","configuration","fixDate",function(t,e,n,i,a,s,o){function r(e){return JSON.stringify([{type:"caseActivityIdIn",operator:"eq",value:e.activityId}])}var c,l=s.getBatchOperationMode();t.$root.showBreadcrumbs=!0,e.breadcrumbsClear(),e.breadcrumbsAdd({label:a.instant("PLGN_BATCH_TITLE")}),e.titleSet(a.instant("PLGN_BATCH_TITLE"));var d=new _;d.on("state.updated",function(){var e=t.$root.$$phase;"$apply"!==e&&"$digest"!==e&&t.$apply()}),t.$on("$destroy",function(){d.removeAllListeners()}),i.search().batchSearchQuery&&(i.search("searchQuery",i.search().batchSearchQuery),i.search("batchSearchQuery",null)),t.ctrl=new v(n,d,i,a),t.currentOperation=t.ctrl.operation,t.instanceType=t.currentOperation?t.currentOperation.instanceType:"process";function u(t){return Object.keys(t).reduce(function(e,n){return e[n]=a.instant(t[n]),e},{})}function p(e){return e.map(function(e){return e.id.value=a.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=a.instant(e.value),e})),e})}m.process.tooltips=u(m.process.tooltips),m.process.types=p(m.process.types),m.decision.tooltips=u(m.decision.tooltips),m.decision.types=p(m.decision.types),m.batch.tooltips=u(m.batch.tooltips),m.batch.types=p(m.batch.types);var f={process:new I("process",d,t.ctrl,n,m.process),decision:new I("decision",d,t.ctrl,n,m.decision),batch:new I("batch",d,t.ctrl,n,m.batch)};t.instancesCtrl=f[t.instanceType],t.getCurrentDelegate=function(){var e=null;return t.instancesCtrl&&(e=t.instancesCtrl.delegate),e},t.getInstanceLink=function(e){return e.processInstanceId?"#/process-instance/"+e.processInstanceId+"/history?activityInstanceIds="+e.activityInstanceId+"&activityIds="+e.activityId:e.caseInstanceId?"#/case-instance/"+e.caseInstanceId+"?searchQuery="+r(e):""},t.getDefinitionLink=function(e){return e.processDefinitionId?"#/process-definition/"+e.processDefinitionId+"/history":e.caseDefinitionId?"#/case-definition/"+e.caseDefinitionId+"?searchQuery="+r(e):""},t.handleOperationChange=function(e){var n=e&&e.instanceType||t.instanceType;n!==t.instanceType&&(t.currentOperation=t.ctrl.operation,t.instanceType=n,t.instancesCtrl=f[n],t.instancesCtrl.delegate.search.searches=[],c&&c())},t.confirmCtrl=new y(d,t.ctrl,t.getCurrentDelegate,n,o),t.executionCtrl=new b(d,t.ctrl,t.confirmCtrl,a),d.on("batch.operation.changed",t.handleOperationChange);function g(e){if(h&&t.instancesCtrl){var n=t.instancesCtrl.getDelegate();"filter"===l?n.loadInstances():"search"===l&&(e&&0<e.length?n.loadInstances():n.reset())}else h=!0}var h=!1;t.onSortInitialized=function(e){t.instancesCtrl.onSortInitialized(e),c=t.$watch("instancesCtrl.getDelegate().search.searches",g)},t.$on("$locationChangeSuccess",function(){t.ctrl.setOperationFromUrl(),t.currentOperation=t.ctrl.operation,t.instanceType=t.currentOperation?t.currentOperation.instanceType:"process",t.instancesCtrl=f[t.instanceType]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/confirmationComponent":23,"../components/executionComponent":24,"../components/instancesList":25,"../components/operationComponent":26}],29:[function(t,i,e){(function(e){"use strict";var n=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).module("cockpit.plugin.batch.operation.page",[]);n.controller("batchOperationCtrl",t("./controllers/operation")),n.config(t("./routeConfig")),i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./controllers/operation":28,"./routeConfig":30}],30:[function(e,n,t){(function(e){"use strict";var t="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;n.exports=["ViewsProvider","$routeProvider",function(e,n){n.when("/batch/operation",{templateUrl:t("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/batch/operation/index.html",authentication:"required",reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./plugins/main"),i=a("./page/index");s.exports=n.module("cockpit.plugin.batch.operation",[i.name,t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./page/index":29,"./plugins/main":33}],32:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.navigation",{id:"batch_operation",label:"PLGN_BATCH_LABEL",template:"\x3c!-- nothing to show, but needed --\x3e",pagePath:"#/batch/operation",checkActive:function(e){return-1<e.indexOf("#/batch/operation")},controller:[function(){}],priority:-10})}]},{}],33:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./dashboard/batch_operation"),i=n.module("cockpit.plugin.batch.operation.plugins",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/batch_operation":32}],34:[function(e,t,n){(function(e){"use strict";var o=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).forEach;function r(e,n){var t=[];return o(e,function(e){n(e)&&t.push(e)}),t}function c(e,n){return r(e,function(e){return-1===n.indexOf(e)})}function n(e,n){this.$location=e,this.search=n,this.selection=[],this.control={}}n.prototype._getSearches=function(){var e=this.$location;return JSON.parse((e.search()||{}).searchQuery||"[]")},n.prototype.initSelection=function(){for(var e=this._getSearches(),t=this.control,i=this.selection;this.selection[0];)this.selection.splice(0,1);o(e,function(e){if("caseActivityIdIn"===e.type){var n=t.getElement(e.value);n&&i.push(n)}})},n.prototype.updateSearches=function(e,n){var t=this._getSearches(),i=c(n,e),a=r(t,function(e){return"caseActivityIdIn"===e.type});o(a,function(e){!function(n,e){return function(e,n){for(var t=0;t<e.length;t++){var i=e[t];if(n(i))return i}}(e,function(e){return n.value===e.id})}(e,i)||t.splice(t.indexOf(e),1)});var s=c(e,n);o(s,function(e){t.push({type:"caseActivityIdIn",operator:"eq",value:e.id})}),this.search.updateSilently({searchQuery:JSON.stringify(t),page:void 0})},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,a,n){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,t=["$scope","Views","page","$translate",function(e,n,t,i){e.$root.showBreadcrumbs=!0,t.breadcrumbsClear(),t.breadcrumbsAdd({label:i.instant("PLGN_CS_CASES")}),t.titleSet(i.instant("PLGN_CS_CASES")),e.plugins=n.getProviders({component:"cockpit.cases.dashboard"})}],i=["$routeProvider",function(e){e.when("/cases",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/case/cases.html",controller:t,authentication:"required",reloadOnSearch:!1})}];a.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(e,n,t){"use strict";n.exports=function(e,n,t,i){n.showBreadcrumbs=!0,e.breadcrumbsClear(),e.breadcrumbsAdd([{label:i.instant("PLGN_CS_CASES"),href:"#/cases"},{type:"caseDefinition",label:t.name||t.key||t.id,href:"#/case-definition/"+t.id}]),e.titleSet([t.name||t.key||t.id,i.instant("PLGN_CS_CASE_DEFINITION_VIEW")].join(" | "))}},{}],37:[function(p,i,e){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,u=p("../components/diagram-interaction"),t=["$location","$scope","$timeout","caseDefinition","page","search","$translate",function(e,n,t,i,a,s,o){n.caseDefinition=i,n.keepSearchValues=["caseActivityIdIn"],p("./breadcrumbs")(a,n.$root,i,o);var r=n.diagramInteraction=new u(e,s),c=!1,l=!1,d=n.onDiagramLoad=function(){c=!0,r.initSelection(),t(function(){c=!1})};n.$on("$locationChangeSuccess",function(){l||d()}),n.$watchCollection("diagramInteraction.selection",function(e,n){e===n||c||(l=!0,r.updateSearches(e,n),t(function(){l=!1}))})}];i.exports=["$routeProvider",function(e){e.when("/case-definition/:id",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/case/definition.html",controller:t,authentication:"required",resolve:{caseDefinition:["ResourceResolver","camAPI","$q",function(e,n,i){return e.getByRouteParam("id",{name:"case definition",resolve:function(e){var t=i.defer();return n.resource("case-definition").get(e,function(e,n){e?t.reject(e):t.resolve(n)}),t.promise}})}]},reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/diagram-interaction":34,"./breadcrumbs":36}],38:[function(n,t,e){(function(e){"use strict";var s=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==e?e["camunda-bpm-sdk-js"]:null).utils.series,o=n("../../../utils/CaseUtil").getDeploymentUrl;t.exports=["camAPI",function(e){return{restrict:"A",scope:{definition:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/pages/definition/directives/definition-details.html --\x3e\n<dl class="process-information" cam-hover-area>\n\n  <dt>{{ \'PLGN_CS_DEFINITION_VERSION\' | translate }}</dt>\n  <dd class="definition-version">\n    <span ng-if="!definitions.$loaded"\n          class="glyphicon glyphicon-refresh animate-spin"></span>\n\n    <div uib-dropdown class="dropdown"\n         ng-if="definitions.$loaded && definitions.all.length > 1">\n      <a href\n         uib-dropdown-toggle class="dropdown-toggle">\n        {{ definition.version }}\n        <span class="caret"></span>\n      </a>\n\n      <ul uib-dropdown-menu class="dropdown-menu">\n        <li ng-repeat="def in definitions.all">\n          <a ng-href="#/case-definition/{{ def.id }}">\n            {{ def.version }}\n          </a>\n        </li>\n      </ul>\n    </div>\n\n    <span ng-if="definitions.$loaded && definitions.all.length < 2">\n      {{ definition.version }}\n    </span>\n  </dd>\n\n\n  <dt cam-widget-clipboard="definition.id"\n      ng-class="{hovered: hovered === \'definition-id\'}">{{ \'PLGN_CS_DEFINITION_ID\' | translate }}</dt>\n  <dd class="definition-id"\n      ng-mouseenter="hoverTitle(\'definition-id\')"\n      ng-mouseleave="hoverTitle()">{{ definition.id }}</dd>\n\n\n  <dt cam-widget-clipboard="definition.key"\n      ng-class="{hovered: hovered === \'definition-key\'}">{{ \'PLGN_CS_DEFINITION_KEY\' | translate }}</dt>\n  <dd class="definition-key"\n      ng-mouseenter="hoverTitle(\'definition-key\')"\n      ng-mouseleave="hoverTitle()">{{ definition.key }}</dd>\n\n\n  <dt>{{ \'PLGN_CS_DEFINITION_NAME\' | translate }}</dt>\n  <dd ng-if="definition.name && definition.name !== definition.key"\n      class="definition-name">{{ definition.name }}</dd>\n  <dd ng-if="!definition.name || definition.name === definition.key"\n      class="definition-name"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n  <dt cam-widget-clipboard="definition.historyTimeToLive"\n      cam-hoverable-title="history-time-to-live">\n    {{ \'PLGN_CS_TTL\' | translate }}\n  </dt>\n  <dd class="history-time-to-live" cam-hover-trigger="history-time-to-live">\n    <span time-to-live="definition" resource="case-definition"></span>\n  </dd>\n\n  <dt ng-if="definition.tenantId"\n      cam-widget-clipboard="definition.tenantId"\n      ng-class="{hovered: hovered === \'tenant-id\'}">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n  <dd class="tenant-id"\n      ng-if="definition.tenantId"\n      ng-mouseenter="hoverTitle(\'tenant-id\')"\n      ng-mouseleave="hoverTitle()">{{ definition.tenantId }}</dd>\n  <dt ng-if="!definition.tenantId">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n  <dd class="tenant-id"\n      ng-if="!definition.tenantId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n\n  <dt cam-widget-clipboard="definition.deploymentId"\n      ng-class="{hovered: hovered === \'deployment-id\'}">{{ \'PLGN_CS_DEPLOYMENT_ID\' | translate }}</dt>\n  <dd class="deployment-id"\n      ng-mouseenter="hoverTitle(\'deployment-id\')"\n      ng-mouseleave="hoverTitle()">\n    <a ng-href="{{ getDeploymentUrl(definition) }}">{{ definition.deploymentId }}</a>\n  </dd>\n\n\n  <dt>{{ \'PLGN_CS_ACTIVE_INSTANCES\' | translate }}</dt>\n  <dd class="running-instances">\n    <span ng-if="!instances.$loaded"\n          class="glyphicon glyphicon-refresh animate-spin"></span>\n    <ul ng-if="instances.$loaded">\n      <li>\n        {{ \'PLGN_CS_CURRENT_VERSION\' | translate }}\n        <strong class="current-version">{{ instances.current }}</strong>\n      </li>\n      <li>\n        {{ \'PLGN_CS_ALL_VERSIONS\' | translate }}\n        <strong class="all-versions">{{ instances.all }}</strong>\n      </li>\n    </ul>\n  </dd>\n\n</dl>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/pages/definition/directives/definition-details.html --\x3e\n',link:function(t){var n=t.definition,i=e.resource("case-definition"),a=e.resource("history");t.definitions={},t.instances={},t.hovered=null,t.hoverTitle=function(e){t.hovered=e||null},function(){t.definitions.$loaded=!1;var e={key:n.key,sortBy:"version",sortOrder:"desc"};n.tenantId?e.tenantIdIn=[n.tenantId]:e.withoutTenantId=!0,i.list(e,function(e,n){if(t.definitions.$loaded=!0,e)throw e;t.definitions.all=n})}(),t.instances.$loaded=!1,s({all:function(t){var e={caseDefinitionKey:n.key,active:!0};n.tenantId?e.tenantIdIn=[n.tenantId]:e.withoutTenantId=!0,a.caseInstanceCount(e,function(e,n){t(e,n?n.count:null)})},current:function(t){a.caseInstanceCount({caseDefinitionId:n.id,active:!0},function(e,n){t(e,n?n.count:null)})}},function(e,n){if(t.instances.$loaded=!0,e)throw e;t.instances.all=n.all,t.instances.current=n.current}),t.getDeploymentUrl=o}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utils/CaseUtil":66}],39:[function(e,n,t){"use strict";n.exports=["Views",function(i){return{restrict:"AC",scope:{definition:"=",instance:"=",diagram:"=",component:"@"},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/action-plugins.html --\x3e\n<span ng-show="actions.length">\n  <span ng-repeat="action in actions">\n    <view provider="action"\n          vars="vars" />\n  </span>\n</span>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/action-plugins.html --\x3e',link:function(e){var n,t=e.component;e.vars={read:["definition","instance","diagram"]},e.actions=(n=t,i.getProviders({component:n}))}}}]},{}],40:[function(e,n,t){(function(e){"use strict";var g="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,h=g.forEach;function t(e,n){return!(!e||"function"!=typeof e.$instanceOf||!e.$instanceOf(n))}function m(e){var n=function(e){return e&&e.businessObject?e.businessObject:e}(e);return!v(e)&&(t(n,"cmmn:PlanItem")||t(n,"cmmn:DiscretionaryItem")||t(n,"cmmn:Criterion"))}function v(e){return e.labelTarget}n.exports=["$compile","$injector","camAPI","dataDepend","Views",function(u,p,n,e,f){return{restrict:"A",scope:{definition:"=",instance:"=",selection:"=?",control:"=?",diagramOverlayComponent:"@",onDiagramLoad:"&"},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/case-diagram.html --\x3e\n<div cam-widget-cmmn-viewer\n     diagram-data="cmmnXml"\n     control="control"\n     on-load="onLoad()"\n     on-click=\'handleClick(element, $event)\'\n     on-mouse-enter=\'onMouseEnter(element, $event)\'\n     on-mouse-leave=\'onMouseLeave(element, $event)\'\n     ng-if="cmmnXml">\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/case-diagram.html --\x3e',link:function(i){var t,a=i.instance,s=i.selection=i.selection||[],o=i.control=i.control||{};i.diagram=o;var r=i.diagramData=e.create(i);i.vars={read:["definition","instance","diagram","cmmnElement","diagramData"]};var c=i.overlayProviders=f.getProviders({component:i.diagramOverlayComponent});function l(){for(;s[0];)s.splice(0,1)}function d(e){return-1<s.indexOf(e)}i.$on("resize",function(){o.refreshZoom()}),i.$watch("definition",function(e){return(t=e)&&function(e){n.resource("case-definition").xml(e,function(e,n){if(e)throw e;i.cmmnXml=n.cmmnXml})}(e)}),i.$watchCollection("selection",function(e,n){n&&h(n,function(e){o.clearHighlight(e)}),e&&h(e,function(e){m(e)&&o.highlight(e)})}),i.handleClick=function(n,t){var e=i.$root.$$phase;("$apply"!==e&&"$digest"!==e?i.$apply.bind(i):function(e){e()})(function(){if(m(n))if(d(n)&&t.ctrlKey){var e=s.indexOf(n);s.splice(e,1)}else t.ctrlKey||l(),s.push(n);else l()})},i.onMouseEnter=function(e){m(e)&&(o.highlight(e),o.addMarker(e,"selectable"))},i.onMouseLeave=function(e){d(e)||(o.clearHighlight(e),o.removeMarker(e,"selectable"))},i.onLoad=function(){i.onDiagramLoad(),function(){for(var e={definition:t,instance:a,diagram:o,diagramData:r},n=0;n<c.length;n++)c[n].initialize&&p.invoke(c[n].initialize,e)}(),function(){var e=o.getElements(function(e){return!v(e)});h(e,function(e){var n=i.$new();n.cmmnElement=e;var t=g.element('<div class="cmmn-overlay"><div view ng-repeat="overlayProvider in overlayProviders" provider="overlayProvider" vars="vars"></div></div>');t.css({width:e.width,height:e.height}),u(t)(n);try{o.createBadge(e.id,{html:t,position:{top:0,left:0}})}catch(e){}})}()}}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,n,t){(function(e){"use strict";var c=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).forEach;n.exports=["$location","search","Views",function(s,o,r){return{restrict:"A",scope:{definition:"=",instance:"=",diagram:"=",keepSearchValues:"=",component:"@"},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/tab-plugins.html --\x3e\n<div ng-show="tabs.length">\n  <ul class="nav nav-tabs">\n    <li ng-class="{ active: selectedTab == tabProvider }"\n        ng-repeat="tabProvider in tabs">\n      <a href\n         ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n    </li>\n  </ul>\n\n  <div class="ctn-tabbed-content ctn-scroll">\n    <view provider="selectedTab"\n          vars="vars" />\n  </div>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/directives/tab-plugins.html --\x3e\n',link:function(i){var e,a=i.component;function n(e){var n=o().detailsTab;if(e&&e.length){if(n){var t=function(e,n){return r.getProvider({component:e,id:n})}(a,n);if(t&&-1!=e.indexOf(t))return void(i.selectedTab=t)}o.updateSilently({detailsTab:null}),i.selectedTab=e[0]}}i.$on("$routeChanged",function(){n(i.tabs)}),i.vars={read:["definition","instance","diagram"]},i.tabs=(e=a,r.getProviders({component:e})),n(i.tabs),i.selectTab=function(e){i.selectedTab=e;var n=[],t=i.keepSearchValues||[];c(JSON.parse((s.search()||{}).searchQuery||"[]"),function(e){-1<t.indexOf(e.type)&&n.push(e)}),o.updateSilently({detailsTab:e.id,page:null,searchQuery:JSON.stringify(n)})}}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,n,t){"use strict";n.exports=function(e,n,t,i,a){n.showBreadcrumbs=!0,e.breadcrumbsClear(),e.breadcrumbsAdd([{label:a.instant("PLGN_CS_CASES"),href:"#/cases"},{type:"caseDefinition",label:i.name||i.key||i.id,href:"#/case-definition/"+i.id,keepSearchParams:["viewbox"]},{type:"caseInstance",divider:":",label:t.id,href:"#/case-instance/"+t.id}]),e.titleSet([i.name||i.key||i.id,a.instant("PLGN_CS_CASE_INSTANCE_VIEW")].join(" | "))}},{}],43:[function(e,n,t){"use strict";var i=e("../../../utils/CaseUtil"),a=i.getDefinitionUrl,s=i.getDeploymentUrl,o=i.getInstanceState;n.exports=["$location",function(t){return{restrict:"A",scope:{definition:"=",instance:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/instance/directives/instance-details.html --\x3e\n<dl class="process-information">\n<dt cam-widget-clipboard="instance.id"\n    ng-class="{hovered: hovered === \'instance-id\'}">\n  <span uib-tooltip="{{ \'PLGN_CS_INSTANCE_ID_IN_DB\' | translate }}">{{ \'PLGN_CS_INSTANCE_ID\' | translate }}</span>\n</dt>\n<dd class="instance-id"\n    ng-mouseenter="hoverTitle(\'instance-id\')"\n    ng-mouseleave="hoverTitle()">{{ instance.id }}</dd>\n\n<dt>{{ \'PLGN_CS_CASE_STATE\' | translate }}</dt>\n<dd class="case-state">{{ instanceState | translate}}</dd>\n\n<dt ng-if="instance.businessKey"\n    cam-widget-clipboard="instance.businessKey"\n    ng-class="{hovered: hovered === \'business-key\'}">\n  <span uib-tooltip="{{ \'PLGN_CS_BUSINESS_KEY_CASE_INSTANCE\' | translate }}">{{ \'PLGN_CS_BUSINESS_KEY\' | translate }}</span>\n</dt>\n<dd ng-if="instance.businessKey"\n    class="business-key"\n    ng-mouseenter="hoverTitle(\'business-key\')"\n    ng-mouseleave="hoverTitle()">{{ instance.businessKey }}</dd>\n<dt ng-if="!instance.businessKey">\n  <span uib-tooltip="{{ \'PLGN_CS_BUSINESS_KEY_CASE_INSTANCE\' | translate }}">{{ \'PLGN_CS_BUSINESS_KEY\' | translate }}</span>\n</dt>\n<dd ng-if="!instance.businessKey"\n    class="business-key"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n<dt>{{ \'PLGN_CS_DEFINITION_VERSION\' | translate }}</dt>\n<dd class="definition-version">{{ definition.version }}</dd>\n\n<dt cam-widget-clipboard="definition.id"\n    ng-class="{hovered: hovered === \'definition-id\'}">{{ \'PLGN_CS_DEFINITION_ID\' | translate }}</dt>\n<dd class="definition-id"\n    ng-mouseenter="hoverTitle(\'definition-id\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="{{ getDefinitionUrl(definition) }}">{{ definition.id }}</a>\n</dd>\n\n<dt cam-widget-clipboard="definition.key"\n    ng-class="{hovered: hovered === \'definition-key\'}">{{ \'PLGN_CS_DEFINITION_KEY\' | translate }}</dt>\n<dd class="definition-key"\n    ng-mouseenter="hoverTitle(\'definition-key\')"\n    ng-mouseleave="hoverTitle()">{{ definition.key }}</dd>\n\n<dt>{{ \'PLGN_CS_DEFINITION_NAME\' | translate }}</dt>\n<dd class="definition-name">{{ definition.name }}</dd>\n\n<dt ng-if="instance.tenantId"\n    cam-widget-clipboard="instance.tenantId"\n    ng-class="{hovered: hovered === \'tenant-id\'}">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n<dd class="tenant-id"\n    ng-if="instance.tenantId"\n    ng-mouseenter="hoverTitle(\'tenant-id\')"\n    ng-mouseleave="hoverTitle()">{{ instance.tenantId }}</dd>\n<dt ng-if="!instance.tenantId">{{ \'PLGN_CS_TENANT_ID\' | translate }}</dt>\n<dd class="tenant-id"\n    ng-if="!instance.tenantId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n<dt cam-widget-clipboard="definition.deploymentId"\n    ng-class="{hovered: hovered === \'deployment-key\'}">{{ \'PLGN_CS_DEPLOYMENT_ID\' | translate }}</dt>\n<dd class="deployment-id"\n    ng-mouseenter="hoverTitle(\'deployment-key\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="{{ getDeploymentUrl(definition) }}">{{ definition.deploymentId }}</a>\n</dd>\n\n<dt ng-if="instance.superProcessInstanceId"\n    cam-widget-clipboard="instance.superProcessInstanceId"\n    ng-class="{hovered: hovered === \'super-process-instance-id\'}">{{ \'PLGN_CS_SUPER_PROCESS_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-process-instance-id"\n    ng-if="instance.superProcessInstanceId"\n    ng-mouseenter="hoverTitle(\'super-process-instance-id\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="#/process-instance/{{instance.superProcessInstanceId}}/history">{{ instance.superProcessInstanceId }}</a>\n</dd>\n<dt ng-if="!instance.superProcessInstanceId">{{ \'PLGN_CS_SUPER_PROCESS_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-process-instance-id"\n    ng-if="!instance.superProcessInstanceId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n<dt ng-if="instance.superCaseInstanceId"\n    cam-widget-clipboard="instance.superCaseInstanceId"\n    ng-class="{hovered: hovered === \'super-case-instance-id\'}">{{ \'PLGN_CS_SUPER_CASE_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-case-instance-id"\n    ng-if="instance.superCaseInstanceId"\n    ng-mouseenter="hoverTitle(\'super-case-instance-id\')"\n    ng-mouseleave="hoverTitle()">\n  <a ng-href="#/case-instance/{{instance.superCaseInstanceId}}">{{ instance.superCaseInstanceId }}</a>\n</dd>\n<dt ng-if="!instance.superCaseInstanceId">{{ \'PLGN_CS_SUPER_CASE_INSTANCE_ID\' | translate }}</dt>\n<dd class="super-case-instance-id"\n    ng-if="!instance.superCaseInstanceId"><span class="null-value">{{ \'PLGN_CS_NULL\' | translate }}</span></dd>\n\n</dl>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/pages/instance/directives/instance-details.html --\x3e\n',link:function(n){n.hovered=null,n.hoverTitle=function(e){n.hovered=e||null},n.getDefinitionUrl=function(e){return e&&a(e,t.search())},n.instanceState=o(n.instance),n.getDeploymentUrl=s}}}]},{"../../../utils/CaseUtil":66}],44:[function(y,i,e){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,h=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).forEach,m=y("../components/diagram-interaction");function v(e,n,t){var i={};return h(e,function(e){i[e[n]]=t?i[e[n]]||[]:e,t&&i[e[n]].push(e)}),i}var t=["$location","$scope","$timeout","camAPI","caseInstance","page","search","$translate",function(e,t,i,n,a,s,o,r){t.caseInstance=a,t.keepSearchValues=["caseActivityIdIn"];var c={},l={},d=t.diagramInteraction=new m(e,o),u=d.control;u.getActivityInstancesByElement=function(e){return e&&c[e.id||e]},u.getActivityInstanceById=function(e){return e&&l[e]};var p=!(u.getActivityInstances=function(n){var t=[];return h(l,function(e){n(e)&&t.push(e)}),t}),f=!1;n.resource("case-definition").get(a.caseDefinitionId,function(e,n){if(e)throw e;t.caseDefinition=n}),n.resource("history").caseActivityInstance({caseInstanceId:a.id},function(e,n){if(e)throw e;t.activityInstances=n});var g=t.onDiagramLoad=function(){p=!0,d.initSelection(),i(function(){p=!1})};t.$on("$locationChangeSuccess",function(){f||g()}),t.$watchCollection("diagramInteraction.selection",function(e,n){e===n||p||(f=!0,d.updateSearches(e,n),i(function(){f=!1}))}),t.$watch("caseDefinition",function(e){return e&&y("./breadcrumbs")(s,t.$root,a,e,r)}),t.$watch("activityInstances",function(e){l&&(c=v(e,"caseActivityId",!0),l=v(e,"id"))})}];i.exports=["$routeProvider",function(e){e.when("/case-instance/:id",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/case/instance.html",controller:t,authentication:"required",resolve:{caseInstance:["ResourceResolver","camAPI","$q",function(e,n,i){return e.getByRouteParam("id",{name:"case instance",resolve:function(e){var t=i.defer();return n.resource("history").caseInstance({caseInstanceId:e},function(e,n){!e&&n.length?t.resolve(n[0]):t.reject(e||{status:404})}),t.promise}})}]},reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/diagram-interaction":34,"./breadcrumbs":42}],45:[function(u,p,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=u("./dashboard/cases"),i=u("./definition/definition"),a=u("./instance/instance"),s=u("./directives/action-plugins"),o=u("./directives/case-diagram"),r=u("./definition//directives/definition-details"),c=u("./instance/directives/instance-details"),l=u("./directives/tab-plugins"),d=n.module("cockpit.plugin.case.pages",[]);d.config(t),d.config(i),d.config(a),d.directive("camActionPlugins",s),d.directive("camCaseDiagram",o),d.directive("camDefinitionDetails",r),d.directive("camInstanceDetails",c),d.directive("camTabPlugins",l),p.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/cases":35,"./definition//directives/definition-details":38,"./definition/definition":37,"./directives/action-plugins":39,"./directives/case-diagram":40,"./directives/tab-plugins":41,"./instance/directives/instance-details":43,"./instance/instance":44}],46:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./plugins/main"),i=a("./pages/main");s.exports=n.module("cockpit.plugin.case",[i.name,t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./pages/main":45,"./plugins/main":64}],47:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cases.dashboard",{id:"case-definition",label:"PLGN_CS_DEPLOYED_DEFINITIONS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-definitions.html --\x3e\n<section class="dashboard-section deployed-cases">\n  <div class="inner">\n    <header ng-if="caseDefinitionsCount">\n      <h1 class="section-title">{{ caseDefinitionsCount }}{{ (caseDefinitionsCount> 1 ? \'PLGN_CS_DEFINITION_DEPLOYED\' : \'PLGN_CS_DEFINITIONS_DEPLOYED\') | translate }}</h1>\n    </header>\n\n    <header class="header-empty" ng-if="!caseDefinitionsCount && loadingState !== \'LOADING\'">\n      <h1 class="section-title">{{ \'PLGN_CS_NO_DEFINITIONS_DEPLOYED\' | translate }}</h1>\n    </header>\n\n    <div cam-widget-loader\n         loading-state="{{ loadingState }}"\n         text-error="{{ loadingError }}">\n\n      <table ng-if="caseDefinitionsCount"\n             class="case-definitions-list cam-table">\n\n        <thead sortable-table-head\n               head-columns="headColumns"\n               on-sort-change="onSortChange(sortObj)"\n               default-sort="sortObj">\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="definition in caseDefinitions | orderBy:sortObj.sortBy:sortObj.sortReverse">\n\n            <td class="name">\n              <a href="#/case-definition/{{ definition.id }}">\n                {{ definition.name || definition.key }}\n              </a>\n            </td>\n\n            <td class="tenant-id">\n              {{ definition.tenantId }}\n            </td>\n\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</section>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-definitions.html --\x3e\n',controller:["$scope","camAPI","localConf","$translate",function(t,e,n,i){var a,s=e.resource("case-definition");t.headColumns=[{class:"name",request:"name",sortable:!0,content:i.instant("PLGN_DRD_NAME")},{class:"tenant-id",request:"tenantId",sortable:!0,content:i.instant("PLGN_DRD_TENANT_ID_COL")}];t.sortObj=(a={sortBy:"name",sortOrder:"asc",sortReverse:!1},n.get("sortCaseDefTab",a)),t.onSortChange=function(e){(e=e||t.sortObj).sortReverse="asc"!==e.sortOrder,function(e){n.set("sortCaseDefTab",e)}(e),t.sortObj=e},t.loadingState="LOADING",s.list({latestVersion:!0},function(e,n){if(e)throw t.loadingError=e.message,t.loadingState="ERROR",e;t.loadingState="LOADED",t.caseDefinitions=n,t.caseDefinitionsCount=t.caseDefinitions.length})}],priority:0})}]},{}],48:[function(n,t,e){(function(e){"use strict";var g="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,h=n("../components/case-instance-list");t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cases.dashboard",{id:"case-instances-search",label:"PLGN_CS_SEARCH_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-instances-search.html --\x3e\n<section class="dashboard-section case-instances-search">\n  <div class="inner">\n    <header>\n      <h1 class="section-title">{{ \'PLGN_CS_SEARCH\' | translate }}</h1>\n    </header>\n\n    <div cam-searchable-area\n         config="instances.searchConfig"\n         on-search-change="onSearchChange(query, pages)"\n         array-types="[\'caseInstanceIds\', \'caseActivityIdIn\', \'caseDefinitionKeyNotIn\']"\n         variable-types="[\'variables\']"\n         loading-state="instances.loadingState"\n         text-empty="{{ \'PLGN_CS_DECISIONS_NOT_FOUND\' | translate }}"\n         storage-group="\'CI\'">\n\n    <div ng-if="instances.caseInstances.length && instances.loadingState === \'LOADED\'"\n         class="search-results-sorting dropdown"\n         uib-dropdown>\n      <a class="btn btn-default dropdown-toggle"\n         ng-disabled="!availableColumns.length"\n         uib-dropdown-toggle>\n        {{ \'PLGN_CS_ADD_COLUMN\' | translate }}\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n\n      <ul uib-dropdown-menu class="dropdown-menu dropdown-menu-right">\n        <li ng-repeat="column in availableColumns"\n            ng-class="column">\n          <a ng-click="addColumn(column)">{{ columnLabel(column) }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <table ng-if="instances.caseInstances.length"\n           class="search-results cam-table">\n      <thead>\n        <tr>\n          <th class="case-instance uuid">{{ \'PLGN_CS_CASE_INSTANCE_ID\' | translate }}</th>\n          <th class="create-time">\n            {{ \'PLGN_CS_CREATE_TIME\' | translate }}\n            <a ng-click="changeOrder(\'createTime\')">\n              <span class="glyphicon"\n                    ng-class="orderClass(\'createTime\')"></span>\n            </a>\n          </th>\n          <th class="end-time">\n            {{ \'PLGN_CS_CLOSE_TIME\' | translate }}\n            <a ng-click="changeOrder(\'closeTime\')">\n              <span class="glyphicon"\n                    ng-class="orderClass(\'closeTime\')"></span>\n            </a>\n          </th>\n          <th class="business-key">\n            {{ \'PLGN_CS_BUSINESS_KEY_COL\' | translate }}\n            <a ng-click="changeOrder(\'businessKey\')">\n              <span class="glyphicon"\n                    ng-class="orderClass(\'businessKey\')"></span>\n            </a>\n          </th>\n\n          <th ng-repeat="column in shownColumns"\n              ng-class="column">\n            <a ng-click="removeColumn(column)">\n              <span class="glyphicon glyphicon-remove-sign"></span>\n            </a>\n\n            {{ columnLabel(column) }}\n\n            <a ng-if="isSortableColumn(column)"\n               ng-click="changeOrder(column)">\n              <span class="glyphicon"\n                    ng-class="orderClass(column)"></span>\n            </a>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="(index, caseInstance) in instances.caseInstances">\n          <td class="case-instance uuid"\n              cam-widget-clipboard="caseInstance.id">\n            <a href="#/case-instance/{{ caseInstance.id }}"\n               title="{{ caseInstance.id }}">\n              {{ caseInstance.id }}\n            </a>\n          </td>\n\n          <td class="create-time"\n              cam-widget-clipboard="caseInstance.createTime">\n            {{ caseInstance.createTime | camDate }}\n          </td>\n\n          <td class="close-time"\n              ng-if="caseInstance.closeTime"\n              cam-widget-clipboard="caseInstance.closeTime">\n            {{ caseInstance.closeTime | camDate }}\n          </td>\n          <td class="close-time"\n              ng-if="!caseInstance.closeTime">\n            {{ caseInstance.closeTime | camDate }}\n          </td>\n\n          <td class="business-key"\n              ng-if="caseInstance.businessKey"\n              cam-widget-clipboard="caseInstance.businessKey">\n            {{ caseInstance.businessKey }}\n          </td>\n          <td class="business-key"\n              ng-if="!caseInstance.businessKey">\n            {{ caseInstance.businessKey }}\n          </td>\n\n          <td ng-repeat="column in shownColumns"\n              ng-class="column"\n              ng-bind-html="columnValue(column, index)">\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    </div>\n  </div>\n</section>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/casesDashboard/case-instances-search.html --\x3e\n',controller:["$sce","$scope","$timeout","$q","camAPI","$translate","localConf",function(o,i,e,t,n,a,s){var r=Object.keys,c={definitionId:a.instant("PLGN_CS_DEFINITION_ID_COL"),duration:a.instant("PLGN_CS_DURATION")},l={instanceId:a.instant("PLGN_CS_INSTANCE_ID_COL"),createTime:a.instant("PLGN_CS_CREATE_TIME"),closeTime:a.instant("PLGN_CS_CLOSE_TIME"),businessKey:a.instant("PLGN_CS_BUSINESS_KEY")},d={superProcessInstanceId:a.instant("PLGN_CS_SUPER_PROCESS_INSTANCE_ID_COL"),superCaseInstanceId:a.instant("PLGN_CS_SUPER_CASE_INSTANCE_ID_COL"),createUserId:a.instant("PLGN_CS_CREATED_BY")};function u(){var n={};return g.extend(n,c,d),r(l).forEach(function(e){delete n[e]}),r(n)}function p(){var n=[];u().forEach(function(e){i.shownColumns.indexOf(e)<0&&n.push(e)}),i.availableColumns=n}var f=i.instances=new h(n,{search:{searches:[]},pages:{size:20},localConf:s,localConfProperty:"case-inst-search"});i.shownColumns=f.sorting.shownColumns||[],i.availableColumns=u(),g.forEach(f.searchConfig.tooltips,function(e,n){f.searchConfig.tooltips[n]=a.instant(e)}),f.searchConfig.types.map(function(e){return e.id.value=a.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=a.instant(e.value),e})),e}),i.isSortableColumn=function(e){return!!c[e]},i.columnLabel=function(e){return c[e]||d[e]||l[e]||a.instant("PLGN_CS_NO_LABEL",{name:e})},i.orderClass=function(e){return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(e=e||f.sorting.sortBy)===f.sorting.sortBy?f.sorting.sortOrder:"none"]},i.changeOrder=function(e){var n=f.sorting;n.sortBy=e,n.sortOrder="desc"===n.sortOrder?"asc":"desc",f.onSortChange(n)},i.addColumn=function(e){-1<i.shownColumns.indexOf(e)||(i.shownColumns.push(e),p(),f.onColumnsChange(i.shownColumns))},i.removeColumn=function(n){var t=[];i.shownColumns.forEach(function(e){n!==e&&t.push(e)}),i.shownColumns=t,p(),f.onColumnsChange(i.shownColumns)},i.columnValue=function(e,n){var t,i=f.caseInstances,a="";switch(e){case"superProcessInstanceId":a=(t=i[n].superProcessInstanceId)?'<a href="#/process-instance/'+t+'">'+t+"</a>":"";break;case"superCaseInstanceId":a=(t=i[n].superCaseInstanceId)?'<a href="#/case-instance/'+t+'">'+t+"</a>":"";break;case"definitionId":var s=i[n].caseDefinitionId;a='<a href="#/case-definition/'+s+'">'+s+"</a>";break;case"duration":a=i[n].durationInMillis||"";break;default:a=i[n][e]||""}return o.trustAsHtml(a.toString())};i.onSearchChange=function(e,n){return i.query=e,i.pages=n,p(),0<f.searchConfig.searches.length?f.loadCaseInstances(i.query,i.pages):(f.loadingState="LOADED",f.caseInstances=[],t.when(0))}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/case-instance-list":50}],49:[function(e,t,n){(function(e){"use strict";function n(e,n,t,i,a){this.$location=n,this.camAPI=t,this.diagram=i,this.config=a,this.sorting=a.sorting,this.sortParamsArray=a.sortParamsArray,this.instance=e,this.pages={size:50,total:0,current:a.currentPage||1},this.calledInstances=[],this.loadingState="INITIAL"}var g="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,i=g.forEach;n.prototype._getSearchQuery=function(){return JSON.parse((this.$location.search()||{}).searchQuery||"[]")},n.prototype._getActivityInstance=function(n){var t=this.config.calledInstanceId;return this.diagram.getActivityInstances(function(e){return e[t]===n.id})[0]},n.prototype._pickSearchValues=function(e,n){var t=[];return i(e,function(e){e.type===n&&t.push(e.value)}),t},n.prototype.getCalledElementName=function(e){var n=this._getActivityInstance(e);return this._getActivityName(n)},n.prototype._getActivityName=function(e){if(e){var n=e.caseActivityName,t=e.caseActivityType,i=e.caseActivityId;return n||t[0].toUpperCase()+t.slice(1)+" ("+i+")"}},n.prototype.getActivitySearches=function(e){var n=this._getActivityInstance(e),t=[];return n&&(t=this._clearSearches(this._getSearchQuery())).push(this._createSearch(n)),JSON.stringify(t)},n.prototype._clearSearches=function(t){return i(t.slice(),function(e){if("caseActivityIdIn"===e.type){var n=t.indexOf(e);-1<n&&t.splice(n,1)}}),t},n.prototype._createSearch=function(e){return{type:"caseActivityIdIn",operator:"eq",value:e.caseActivityId}},n.prototype.onSortChange=function(e){this.sorting=e,this.loadCalledInstances()},n.prototype.loadCalledInstances=function(){var t=this.camAPI.resource("history"),e=this.sorting,n=this.pages.current,i=this.pages.size,a=(n-1)*i,s={};if(s[this.config.superInstanceId]=this.instance.id,this.config.withActivityIdIn){var o=this._getSearchQuery(),r=this._pickSearchValues(o,"caseActivityIdIn");r.length&&(s.activityIdIn=r)}var c={firstResult:a,maxResults:i};if(e){var l={sortBy:e.sortBy,sortOrder:e.sortOrder};this.sortParamsArray&&(l=g.extend({},{sorting:[l]})),c=g.extend({},c,l)}var d=g.extend({},s),u=g.extend({},s,c);this.calledInstances=[],this.loadingState="LOADING";var p=this;function f(e){throw p.loadingError=e.message,p.loadingState="ERROR",e}t[this.config.count](d,function(e,n){if(e)return f(e);p.pages.total=n.count,n.count?t[p.config.instances](u,function(e,n){if(e)return f(e);p.calledInstances=n,p.loadingState="LOADED"}):p.loadingState="EMPTY"})},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,i,n){(function(e){"use strict";function n(e,n){this.localConf=n.localConf,this.localConfProperty=n.localConfProperty,this.searchConfig=u.copy(t),this.caseInstances=[],this.loadingState="INITIAL",this.defaultParams=n.defaultParams||{},this.historyResource=e.resource("history"),this.query=null,this.sorting=this._loadLocal({sortBy:"createTime",sortOrder:"desc"})}var u="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "caseInstanceIds",\n        "value": "PLGN_CS_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseActivityIdIn",\n        "value": "PLGN_CS_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceBusinessKey",\n        "value": "PLGN_CS_SEARCH_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "superProcessInstanceId",\n        "value": "PLGN_CS_SEARCH_PARENT_PROCESS_INSTACNE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstanceId",\n        "value": "PLGN_CS_SEARCH_SUB_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "superCaseInstanceId",\n        "value": "PLGN_CS_SEARCH_PARENT_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subCaseInstanceId",\n        "value": "PLGN_CS_SEARCH_SUB_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_CS_SEARCH_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_CS_SEARCH_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "NotIn",\n          "value": "!="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionName",\n        "value": "PLGN_CS_SEARCH_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_CS_SEARCH_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "createdBy",\n        "value": "PLGN_CS_SEARCH_CREATED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "createdDate",\n        "value": "PLGN_CS_SEARCH_CREATED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_CS_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_CS_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "closedDate",\n        "value": "PLGN_CS_SEARCH_CLOSED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_CS_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_CS_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "active",\n        "value": "PLGN_CS_SEARCH_ACTIVE_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "completed",\n        "value": "PLGN_CS_SEARCH_COMPLETED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "terminated",\n        "value": "PLGN_CS_SEARCH_TERMINATED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "closed",\n        "value": "PLGN_CS_SEARCH_CLOSED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "notClosed",\n        "value": "PLGN_CS_SEARCH_NOT_CLOSED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_CS_SEARCH_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_CS_SEARCH_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_CS_SEARCH_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_CS_SEARCH_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_CS_SEARCH_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_CS_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_CS_SEARCH_NOT_VALID",\n    "deleteSearch": "PLGN_CS_SEARCH_REMVOE_SEARCH",\n    "type": "PLGN_CS_SEARCH_TYPE",\n    "name": "PLGN_CS_SEARCH_PROPERTY",\n    "operator": "PLGN_CS_SEARCH_OPERATOR",\n    "value": "PLGN_CS_SEARCH_VALUE"\n  }\n}\n');n.prototype._loadLocal=function(e){return this.localConf.get(this.localConfProperty,e)},n.prototype._saveLocal=function(e){this.localConf.set(this.localConfProperty,e)},n.prototype.onSortChange=function(e){this.sorting=e,this._saveLocal(e),this.loadCaseInstances(this.query,this.pages)},n.prototype.onColumnsChange=function(e){this.sorting=this.sorting||{},this.sorting.shownColumns=e,this._saveLocal(this.sorting),this.loadCaseInstances(this.query,this.pages)},n.prototype.loadCaseInstances=function(e,n){var t=this,i=this.historyResource;this.query=e||this.query,this.pages=n||this.pages;var a=n.current,s=n.size,o=(a-1)*s,r=this.defaultParams,c={firstResult:o,maxResults:s,sorting:[{sortBy:this.sorting.sortBy,sortOrder:this.sorting.sortOrder}]},l=u.extend({},e,r),d=u.extend({},e,r,c);return this.caseInstances=[],this.loadingState="LOADING",i.caseInstanceCount(l).then(function(e){var n=e.count;if(n)return i.caseInstance(d).then(function(e){return t.caseInstances=e,t.loadingState="LOADED",n});t.loadingState="EMPTY"}).catch(function(e){throw t.loadingError=e.message,t.loadingState="ERROR",e})},i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(e,n,t){(function(e){"use strict";var a=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==e?e["camunda-bpm-sdk-js"]:null).utils.series;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.navigation",{id:"cases",label:"PLGN_CS_CASES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/dashboard/cases.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <ul>\n    <li>\n      <a href="#/cases" ng-if="!count.definitions || count.definitions > 1">{{ \'PLGN_CS_DEFINITIONS\' | translate }}</a>\n      <a href="#/cases" ng-if="count.definitions == 1">{{ \'PLGN_CS_DEFINITION\' | translate }}</a>\n      <span class="value">{{ (count.definitions | abbreviateNumber) || 0 }}</span>\n    </li>\n    <li>\n      <a href="#/cases" ng-if="count.instances == 0 || count.instances > 1">{{ \'PLGN_CS_ACTIVE_INSTANCES\' | translate }}</a>\n      <a href="#/cases" ng-if="count.instances == 1">{{ \'PLGN_CS_ACTIVE_INSTANCE\' | translate }}</a>\n      <span class="value">{{ (count.instances | abbreviateNumber) || 0 }}</span>\n    </li>\n  </ul>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/dashboard/cases.html --\x3e\n',pagePath:"#/cases",checkActive:function(e){return-1<e.indexOf("#/case")},controller:["$scope","camAPI",function(t,e){t.count=0,t.loadingState="LOADING";var n=e.resource("history"),i=e.resource("case-definition");a({definitions:function(t){i.count({latestVersion:!0},function(e,n){t(e,n||null)})},instances:function(t){n.caseInstanceCount({active:!0},function(e,n){t(e,n?n.count:null)})}},function(e,n){if(e)throw t.loadingError=e.message,t.loadingState="ERROR",e;t.loadingState="LOADED",t.count=n})}],priority:30})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(e,n,t){(function(e){"use strict";var c=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).forEach;function s(e){var n={},t=["active","available","completed","disabled","enabled","terminated"];return c(e,function(e){n[e.id]=function(n,e){var t={};return c(e,function(e){t[e]=n[e]}),t}(e,t)}),n}n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseDefinition.diagram.overlay",{id:"case-activity-statistics",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/overlays/case-activity-statistics.html --\x3e\n<span ng-if="open && open > 0"\n      class="badge activity-bottom-left-position"\n      uib-tooltip="{{ \'PLGN_CS_OPEN_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false"\n      ng-click="selectActivity(cmmnElement)">\n  {{ open | abbreviateNumber }}\n</span>\n\n<span ng-if="finished && finished > 0"\n      class="badge activity-bottom-right-position activity-instance-finished"\n      uib-tooltip="{{ \'PLGN_CS_FINISHED_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false"\n      ng-click="selectActivity(cmmnElement)">\n  {{ finished | abbreviateNumber }}\n</span>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/overlays/case-activity-statistics.html --\x3e\n',initialize:["$q","camAPI",function(e,n){var i=n.resource("history"),t=this.diagramData,a=this.definition;t.provide("statistics",function(){var t=e.defer();return i.caseActivityStatistics(a,function(e,n){if(e)return t.reject(e);t.resolve(s(n))}),t.promise})}],controller:["$scope","$location","search",function(n,i,a){var s=n.cmmnElement,e=n.diagramData,t=["active","available","enabled"],o=["completed","disabled","terminated"];function r(e,n){var t=e[s.id];return t?function(n,e){var t=0;return c(e,function(e){t+=n[e]||0}),t}(t,n):0}e.observe("statistics",function(e){n.open=r(e,t),n.finished=r(e,o)}),n.selectActivity=function(e){var t=JSON.parse((i.search()||{}).searchQuery||"[]");c(t.slice(),function(e){if("caseActivityIdIn"===e.type){var n=t.indexOf(e);-1<n&&t.splice(n,1)}}),t.push({type:"caseActivityIdIn",operator:"eq",value:e.id}),a.updateSilently({searchQuery:JSON.stringify(t)})}}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(t,i,e){(function(e){"use strict";var r="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=t("../../../utils/CaseUtil"),c=n.getInstanceState,l=n.getInstanceUrl,d=t("../../components/case-instance-list");i.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseDefinition.tab",{id:"case-instance-table",label:"PLGN_CS_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/tabs/case-instances.html --\x3e\n<div cam-searchable-area\n     config="instances.searchConfig"\n     on-search-change="onSearchChange(query, pages)"\n     array-types="[\'caseInstanceIds\', \'caseActivityIdIn\', \'caseDefinitionKeyNotIn\']"\n     variable-types="[\'variables\']"\n     loading-state="instances.loadingState"\n     text-empty="{{ \'PLGN_CS_NOT_FOUND\' | translate }}"\n     storage-group="\'CIF\'">\n\n  <table class="case-instance cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="instances.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="caseInstance in instances.caseInstances">\n\n        <td class="state">{{ getState(caseInstance) }}</td>\n\n        <td class="case-instance"\n            cam-widget-clipboard="caseInstance.id">\n          <a ng-href="{{ getCaseInstanceUrl(caseInstance) }}"\n             title="{{ caseInstance.id }}">\n            {{ caseInstance.id }}\n          </a>\n        </td>\n\n        <td class="create-time"\n            cam-widget-clipboard="caseInstance.createTime">{{ caseInstance.createTime | camDate }}</td>\n\n        <td ng-if="caseInstance.closeTime"\n            class="close-time"\n            cam-widget-clipboard="caseInstance.closeTime">{{ caseInstance.closeTime | camDate }}</td>\n        <td ng-if="!caseInstance.closeTime"\n            class="close-time">{{ caseInstance.closeTime | camDate }}</td>\n\n        <td ng-if="caseInstance.businessKey"\n            class="business-key"\n            cam-widget-clipboard="caseInstance.businessKey">{{ caseInstance.businessKey }}</td>\n        <td ng-if="!caseInstance.businessKey"\n            class="business-key">{{ caseInstance.businessKey }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/definition/tabs/case-instances.html --\x3e\n',controller:["$location","$scope","camAPI","search","localConf","$translate",function(n,e,t,i,a,s){e.headColumns=[{class:"state",request:"",sortable:!1,content:s.instant("PLGN_CS_STATE")},{class:"case-instance uuid",request:"instanceId",sortable:!0,content:s.instant("PLGN_CS_ID")},{class:"create-time",request:"createTime",sortable:!0,content:s.instant("PLGN_CS_CREATE_TIME")},{class:"close-time",request:"closeTime",sortable:!0,content:s.instant("PLGN_CS_CLOSE_TIME")},{class:"business-key",request:"businessKey",sortable:!0,content:s.instant("PLGN_CS_BUSINESS_KEY_COL")}];var o=e.instances=new d(t,{search:{searches:void 0,exclude:["caseDefinitionId","caseDefinitionKey","caseDefinitionName"]},pages:{current:parseInt(i().page||1,10)},defaultParams:{caseDefinitionId:e.definition.id},localConf:a,localConfProperty:"sortCaseInstancesTab"});r.forEach(o.searchConfig.tooltips,function(e,n){o.searchConfig.tooltips[n]=s.instant(e)}),o.searchConfig.types.map(function(e){return e.id.value=s.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=s.instant(e.value),e})),e}),e.getState=c,e.getCaseInstanceUrl=function(e){return l(e,n.search())},e.onSearchChange=o.loadCaseInstances.bind(o),e.onSortChange=o.onSortChange.bind(o)}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utils/CaseUtil":66,"../../components/case-instance-list":50}],54:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.caseInstance.action",{id:"add-variable-action",label:"PLGN_CS_ADD_VARIABLE",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/actions/add-variable.html--\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLGN_CS_TOOLTIP_ADD_VARIABLE\' | translate }}"\n   tooltip-placement="left"\n   ng-show="instance.active">\n  <span class="glyphicon glyphicon-plus"></span>\n</a>\n<div uib-tooltip="{{ \'PLGN_CS_TOOLTIP_ADD_VARIABLE_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-hide="instance.active">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-plus"></span>\n  </a>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/actions/add-variable.html--\x3e\n',controller:["$scope","$uibModal",function(n,e){n.openDialog=function(){e.open({scope:n,resolve:{instance:function(){return n.instance},isProcessInstance:function(){return!1}},controller:a.controller,template:a.template}).result.then(function(e){"SUCCESS"===e&&n.$root.$broadcast("variable.added")}).catch(function(){})}}],priority:10})}var a=e("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog");i.$inject=["ViewsProvider"],n.exports=i},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog":2}],55:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.caseInstance.action",{id:"terminate-case-instance",label:"PLGN_CS_TERMINATE",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/actions/terminate-case-instance.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLGN_CS_TERMINATE_INSTANCE\' | translate }}"\n   tooltip-placement="left"\n   ng-show="instance.active">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n<div uib-tooltip="{{ \'PLGN_CS_TERMINATE_INSTANCE_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-hide="instance.active">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-remove"></span>\n  </a>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/actions/terminate-case-instance.html --\x3e\n',controller:["$scope","$uibModal",function(e,n){e.openDialog=function(){n.open({resolve:{caseInstance:function(){return e.instance}},controller:"TerminateCaseInstanceController",template:"\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/dialogs/terminate-case-instance-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ 'PLGN_CS_TERMINATE' | translate }}</h3>\n</div>\n\n<div class=\"modal-body terminate-case-instance\">\n\n  <div notifications-panel></div>\n\n  <div ng-show=\"status === 'beforeTermination'\">\n    {{ 'PLGN_CS_SURE' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'terminationSuccess'\">\n    {{ 'PLGN_CS_TERMINATED_SUCCESSFULLY' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'terminationFailed'\">\n    <p>{{ 'PLGN_CS_COULD_NOT_TERMINATED' | translate }}</p>\n    <p>{{ 'PLGN_CS_ALREADY_TERMINATED' | translate }}</p>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performTermination'\"\n          ng-hide=\"status === 'terminationSuccess' || status === 'terminationFailed'\">\n    {{ 'PLGN_CS_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'terminationSuccess' || status === 'terminationFailed'\">\n    {{ 'PLGN_CS_OK' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"terminateCaseInstance()\"\n          ng-disabled=\"status !== 'beforeTermination'\"\n          ng-hide=\"status === 'terminationSuccess' || status === 'terminationFailed'\">\n    {{ 'PLGN_CS_TERMINATE' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/case/app/plugins/instance/dialogs/terminate-case-instance-dialog.html --\x3e\n"}).result.catch(function(){})}}],priority:50})}i.$inject=["ViewsProvider"],n.exports=i},{}],56:[function(e,n,t){"use strict";n.exports=["$uibModalInstance","$route","$scope","Notifications","camAPI","caseInstance","$translate",function(n,t,i,a,e,s,o){var r="terminationSuccess";i.caseInstance=s,i.status="beforeTermination",i.$on("$routeChangeStart",function(){n.close(i.status)}),i.terminateCaseInstance=function(){i.status="performTermination",e.resource("case-instance").terminate(s.id,null,function(e){if(e)return i.status="terminationFailed",a.addError({status:o.instant("PLGN_CS_NOTIFICATIONS_FAILED"),message:o.instant("PLGN_CS_NOTIFICATIONS_FAILED_MSG")+e.message,exclusive:["type"]});i.status=r,a.addMessage({status:o.instant("PLGN_CS_NOTIFICATIONS_TERMINATED"),message:o.instant("PLGN_CS_NOTIFICATIONS_SUCCESSFUL")})})},i.close=function(e){n.close(e),e===r&&t.reload()}}]},{}],57:[function(e,n,t){(function(e){"use strict";var o=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).forEach;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.diagram.overlay",{id:"case-activity-statistics",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/overlays/case-activity-statistics.html --\x3e\n<span ng-if="open && open > 0"\n      class="badge activity-bottom-left-position"\n      uib-tooltip="{{ \'PLGN_CS_OPEN_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false">\n  {{ open | abbreviateNumber }}\n</span>\n\n<span ng-if="finished && finished > 0"\n      class="badge activity-bottom-right-position activity-instance-finished"\n      uib-tooltip="{{ \'PLGN_CS_FINISHED_ACTIVITY_INSTANCES\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false">\n  {{ finished | abbreviateNumber }}\n</span>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/overlays/case-activity-statistics.html --\x3e\n',controller:["$scope",function(n){var e=n.cmmnElement,t=n.diagram,i=["active","available","enabled"],a=["completed","disabled","terminated"];function s(e,n){return e?function(e,n){var t=0;return o(n,function(n){o(e,function(e){t+=e[n]||0})}),t}(e,n):0}n.$watch(function(){return t.getActivityInstancesByElement(e)},function(e){n.open=s(e,i),n.finished=s(e,a)})}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(n,t,e){(function(e){"use strict";var m="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,v=m.forEach,y=n("../../../utils/CaseUtil").getInstanceState;t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.tab",{id:"case-audit-log",label:"PLGN_CS_AUDIT_LOG",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/audit-log.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_ACTIVITY_INSTANCES\' | translate }}"\n     text-error="{{ \'PLGN_CS_FAILED_TO_LOAD\' | translate }}">\n  <table class="history-audit-log cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="activityInstance in activityInstances">\n\n        <td class="state">{{ getState(activityInstance) }}</td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=case-audit-log&amp;searchQuery={{ getActivitySearches(activityInstance) }}">\n            {{ getActivityName(activityInstance) }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="activityInstance.createTime">\n          {{ activityInstance.createTime | camDate }}\n        </td>\n\n        <td class="end-time"\n            ng-if="activityInstance.endTime"\n            cam-widget-clipboard="activityInstance.endTime">\n          {{ activityInstance.endTime | camDate }}\n        </td>\n\n        <td class="end-time"\n            ng-if="!activityInstance.endTime">\n        </td>\n\n        <td class="activity-instance"\n            cam-widget-clipboard="activityInstance.id">\n          {{ activityInstance.id }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/audit-log.html --\x3e\n',controller:["$location","$scope","$timeout","$translate","camAPI","search","localConf",function(n,p,t,e,f,i,a){var g=p.instance,s={size:50,total:0,current:parseInt(i().page||1,10)};p.$on("$destroy",function(){i("page",null)});var o,h=p.pages=m.copy(s),r=!1,c=p.sorting=(o={sortBy:"createTime",sortOrder:"desc"},a.get("sortCaseInstanceAuditTab",o)),l=p.searches=d();function d(){return JSON.parse((n.search()||{}).searchQuery||"[]")}function u(e,n){var t=f.resource("history"),i=h.current,a=h.size,s=(i-1)*a,o=function(e,n){var t=[];return v(e,function(e){e.type===n&&t.push(e.value)}),t}(e,"caseActivityIdIn"),r={caseInstanceId:g.id,caseDefinitionId:g.caseDefinitionId,caseActivityIdIn:o},c={firstResult:s,maxResults:a,sortBy:n.sortBy,sortOrder:n.sortOrder},l=m.extend({},r),d=m.extend({},r,c);function u(e){throw p.loadingError=e.message,p.loadingState="ERROR",e}p.activityInstances=[],p.loadingState="LOADING",t.caseActivityInstanceCount(l,function(e,n){if(e)return u(e);h.total=n.count,n.count?t.caseActivityInstance(d,function(e,n){if(e)return u(e);p.activityInstances=n,p.loadingState="LOADED"}):p.loadingState="EMPTY"})}p.headColumns=[{class:"state",request:"",sortable:!1,content:e.instant("PLGN_CS_STATE")},{class:"activity",request:"caseActivityName",sortable:!0,content:e.instant("PLGN_CS_ACTIVITY")},{class:"start-time",request:"createTime",sortable:!0,content:e.instant("PLGN_CS_START_TIME")},{class:"end-time",request:"endTime",sortable:!0,content:e.instant("PLGN_CS_END_TIME")},{class:"activity-instance",request:"caseActivityInstanceId",sortable:!0,content:e.instant("PLGN_CS_ACTIVITY_INSTANCE_ID")}],p.$on("$locationChangeSuccess",function(){if(-1<n.path().indexOf("/case-instance/")){var e=d();m.equals(e,p.searches)||(r=!0,l=p.searches=e,t(function(){r=!1})),h.current=parseInt(i().page||1,10)}}),p.$watch("pages.current",function(e,n){e===n||r||u(p.searches,c),i("page",e&&1!=e?e:null)}),p.$watch("searches",function(e){u(e,c)}),p.onSortChange=function(e){c=p.sorting=e,function(e){a.set("sortCaseInstanceAuditTab",e)}(e),u(l,c)},p.getState=y,p.getActivityName=function(e){var n=e.caseActivityName,t=e.caseActivityType,i=e.caseActivityId;return n||t[0].toUpperCase()+t.slice(1)+" ("+i+")"},p.getActivitySearches=function(e){var t=d();return v(t.slice(),function(e){if("caseActivityIdIn"===e.type){var n=t.indexOf(e);-1<n&&t.splice(n,1)}}),t.push({type:"caseActivityIdIn",operator:"eq",value:e.caseActivityId}),JSON.stringify(t)}}],priority:100})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utils/CaseUtil":66}],59:[function(e,n,t){"use strict";var d=e("../../components/called-element");n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.tab",{id:"called-case-instances",label:"PLGN_CS_CALLED_CASE_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-case-instances.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CALLED_INSTANCES\' | translate }}">\n\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledCaseInstance in calledElement.calledInstances">\n        <td class="instance uuid"\n            cam-widget-clipboard="calledCaseInstance.id">\n          <a href="#/case-instance/{{ calledCaseInstance.id }}">\n            {{ calledCaseInstance.id }}\n          </a>\n        </td>\n\n        <td class="definition"\n            cam-widget-clipboard="calledCaseInstance.caseDefinitionId">\n          <a href="#/case-definition/{{ calledCaseInstance.caseDefinitionId }}">\n            {{ calledCaseInstance.caseDefinitionName || calledCaseInstance.caseDefinitionKey || calledCaseInstance.caseDefinitionId }}\n          </a>\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=called-case-instances&searchQuery={{ calledElement.getActivitySearches(calledCaseInstance) }}">\n            {{ calledElement.getCalledElementName(calledCaseInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <ul uib-pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-case-instances.html --\x3e\n',controller:["$location","$scope","$translate","camAPI","search","localConf",function(e,n,t,i,a,s){var o=n.instance,r=n.diagram;n.headColumns=[{class:"instance uuid",request:"instanceId",sortable:!0,content:t.instant("PLGN_CS_CALLED_INSTANCES")},{class:"definition",request:"",sortable:!1,content:t.instant("PLGN_CS_DEFINITION")},{class:"activity",request:"",sortable:!1,content:t.instant("PLGN_CS_ACTIVITY")}];var c,l=n.calledElement=new d(o,e,i,r,{count:"caseInstanceCount",instances:"caseInstance",calledInstanceId:"calledCaseInstanceId",superInstanceId:"superCaseInstanceId",currentPage:parseInt(a().page||1,10),sorting:(c={sortBy:"instanceId",sortOrder:"asc"},s.get("sortCICalledCIsTab",c)),sortParamsArray:!0});n.$on("$destroy",function(){a("page",null)}),n.onSortChange=function(e){!function(e){s.set("sortCICalledCIsTab",e)}(e),l.onSortChange(e)},n.$on("$routeChanged",function(){l.pages.current=parseInt(a().page||1,10)}),n.$watch("calledElement.pages.current",function(e,n){e!==n&&l.loadCalledInstances(),a("page",e&&1!=e?e:null)}),l.loadCalledInstances()}],priority:40})}]},{"../../components/called-element":49}],60:[function(e,n,t){"use strict";var d=e("../../components/called-element");n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.tab",{id:"called-process-instances",label:"PLGN_CS_CALLED_PROCESS_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-process-instances.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CALLED_PROCESS_INSTANCES\' | translate }}">\n\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledProcessInstance in calledElement.calledInstances">\n        <td class="called process-instance uuid"\n            cam-widget-clipboard="calledProcessInstance.id">\n          <a href="#/process-instance/{{ calledProcessInstance.id }}/history">\n            {{ calledProcessInstance.id }}\n          </a>\n        </td>\n\n        <td class="process-definition"\n            cam-widget-clipboard="calledProcessInstance.processDefinitionId">\n          <a href="#/process-definition/{{ calledProcessInstance.processDefinitionId }}/history">\n            {{ calledProcessInstance.processDefinitionName || calledProcessInstance.processDefinitionKey || calledProcessInstance.processDefinitionId }}\n          </a>\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=called-process-instances&searchQuery={{ calledElement.getActivitySearches(calledProcessInstance) }}">\n            {{ calledElement.getCalledElementName(calledProcessInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <ul uib-pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/called-process-instances.html --\x3e\n',controller:["$location","$scope","$translate","camAPI","search","localConf",function(e,n,t,i,a,s){var o=n.instance,r=n.diagram;n.headColumns=[{class:"called process-instance uuid",request:"instanceId",sortable:!0,content:t.instant("PLGN_CS_CALLED_PROCESS_INSTANCE")},{class:"process-definition",request:"definitionName",sortable:!0,content:t.instant("PLGN_CS_PROCESS_DEFINITION")},{class:"activity",request:"",sortable:!1,content:t.instant("PLGN_CS_ACTIVITY")}];var c,l=n.calledElement=new d(o,e,i,r,{count:"processInstanceCount",instances:"processInstance",calledInstanceId:"calledProcessInstanceId",superInstanceId:"superCaseInstanceId",currentPage:parseInt(a().page||1,10),sorting:(c={sortBy:"instanceId",sortOrder:"asc"},s.get("sortCICalledPIsTab",c)),sortParamsArray:!0});n.$on("$destroy",function(){a("page",null)}),n.onSortChange=function(e){!function(e){s.set("sortCICalledPIsTab",e)}(e),l.onSortChange(e)},n.$on("$routeChanged",function(){l.pages.current=parseInt(a().page||1,10)}),n.$watch("calledElement.pages.current",function(e,n){e!==n&&l.loadCalledInstances(),a("page",e&&1!=e?e:null)}),l.loadCalledInstances()}],priority:50})}]},{"../../components/called-element":49}],61:[function(n,t,e){(function(e){"use strict";var p="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,f=n("../../components/called-element");t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.tab",{id:"executed-decision-instances",label:"PLGN_CS_EXECUTED_DECISION_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/executed-decision-instances.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_DECISION_INSTANCES\' | translate }}">\n  <table class="decision-instances cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="decisionInstance in calledElement.calledInstances">\n        <td class="instance-id uuid"\n            cam-widget-clipboard="decisionInstance.id">\n          <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n            {{ decisionInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="decisionInstance.evaluationTime">\n          {{ decisionInstance.evaluationTime | camDate }}\n        </td>\n\n        <td class="decision-definition-key"\n            cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n          <a ng-href="#/decision-definition/{{ decisionInstance.decisionDefinitionId }}/history">\n            {{ decisionInstance.decisionDefinitionName || decisionInstance.decisionDefinitionKey || decisionInstance.decisionDefinitionId }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionInstance.decisionRequirementsDefinitionKey">\n          <a ng-href="#/decision-requirement/{{ decisionInstance.decisionRequirementsDefinitionId }}/history">\n            {{ decisionInstance.decisionRequirementsDefinitionKey }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="!decisionInstance.decisionRequirementsDefinitionId">\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=executed-decision-instances&searchQuery={{ getActivitySearches(decisionInstance) }}">\n            {{ getCalledElementName(decisionInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <ul uib-pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/executed-decision-instances.html --\x3e\n\n',controller:["$location","$scope","$timeout","$translate","camAPI","search","localConf",function(n,t,i,e,a,s,o){var r=t.instance,c=t.diagram,l=!1;t.headColumns=[{class:"instance-id uuid",request:"",sortable:!1,content:e.instant("PLGN_CS_ID")},{class:"start-time",request:"evaluationTime",sortable:!0,content:e.instant("PLGN_CS_EVALUATION_TIME")},{class:"decision-definition",request:"",sortable:!1,content:e.instant("PLGN_CS_DECISION_DEFINITION")},{class:"drd-definition",request:"",sortable:!1,content:e.instant("PLGN_CS_DECISION_REQUIREMENTS_DEFINITION")},{class:"activity",request:"",sortable:!1,content:e.instant("PLGN_CS_ACTIVITY")}];var d,u=t.calledElement=new f(r,n,a,c,{count:"decisionInstanceCount",instances:"decisionInstance",withActivityIdIn:!0,superInstanceId:"caseInstanceId",currentPage:parseInt(s().page||1,10),sorting:(d={sortBy:"evaluationTime",sortOrder:"desc"},o.get("sortCIExecutedDIsTab",d))});t.$on("$destroy",function(){s("page",null)}),t.searches=u._getSearchQuery(),t.onSortChange=function(e){!function(e){o.set("sortCIExecutedDIsTab",e)}(e),u.onSortChange(e)},t.$on("$locationChangeSuccess",function(){if(-1<n.path().indexOf("/case-instance/")){var e=u._getSearchQuery();p.equals(e,t.searches)||(l=!0,t.searches=e,i(function(){l=!1})),u.pages.current=parseInt(s().page||1,10)}}),t.$watch("calledElement.pages.current",function(e,n){e===n||l||u.loadCalledInstances(),s("page",e&&1!=e?e:null)}),t.$watch("searches",function(){u.loadCalledInstances()}),t.getActivitySearches=function(e){var n=c.getActivityInstanceById(e.activityInstanceId);if(n){var t=u._clearSearches(u._getSearchQuery());return t.push(u._createSearch(n)),JSON.stringify(t)}},t.getCalledElementName=function(e){var n=c.getActivityInstanceById(e.activityInstanceId);return u._getActivityName(n)}}],priority:30})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../components/called-element":49}],62:[function(e,n,t){(function(e){"use strict";var m="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,v=m.forEach;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.tab",{id:"user-tasks",label:"PLGN_CS_USER_TASKS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/user-tasks.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_USER_TASKS\' | translate }}">\n  <table class="case-instance user-tasks cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="userTask in userTasks">\n        <td class="activity">\n          <a ng-href="#/case-instance/{{ instance.id }}?detailsTab=user-tasks&amp;searchQuery={{ getTaskSearches(userTask) }}">\n            {{ userTask.name }}\n          </a>\n        </td>\n\n        <td class="assignee"\n            ng-if="userTask.assignee"\n            cam-widget-clipboard="userTask.assignee">\n          {{ userTask.assignee }}\n        </td>\n        <td class="assignee"\n            ng-if="!userTask.assignee"></td>\n\n        <td class="owner"\n            ng-if="userTask.owner"\n            cam-widget-clipboard="userTask.owner">\n          {{ userTask.owner }}\n        </td>\n        <td class="owner"\n            ng-if="!userTask.owner"></td>\n\n        <td class="created"\n            cam-widget-clipboard="userTask.startTime">\n          {{ userTask.startTime | camDate }}\n        </td>\n\n        <td class="completion-date"\n            ng-if="userTask.endTime"\n            cam-widget-clipboard="userTask.endTime">\n          {{ userTask.endTime | camDate }}\n        </td>\n        <td class="completion-date"\n            ng-if="!userTask.endTime"></td>\n\n        <td class="duration"\n            ng-if="userTask.duration"\n            cam-widget-clipboard="userTask.duration">\n          {{ userTask.duration | duration }}\n        </td>\n        <td class="duration"\n            ng-if="!userTask.duration"></td>\n\n        <td class="due"\n            ng-if="userTask.due"\n            cam-widget-clipboard="userTask.due">\n          {{ userTask.due | camDate  }}\n        </td>\n        <td class="due"\n            ng-if="!userTask.due"></td>\n\n        <td class="follow-up-date"\n            ng-if="userTask.followUp"\n            cam-widget-clipboard="userTask.followUp">\n          {{ userTask.followUp | camDate  }}\n        </td>\n        <td class="follow-up-date"\n            ng-if="!userTask.followUp"></td>\n\n        <td class="priority">\n          {{ userTask.priority }}\n        </td>\n\n        <td class="task-id uuid"\n            cam-widget-clipboard="userTask.id">\n          {{ userTask.id }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/user-tasks.html --\x3e\n',controller:["$location","$scope","$timeout","$translate","camAPI","search","localConf",function(n,p,t,e,f,i,a){var g=p.instance,s={size:50,total:0,current:i().page||1},h=p.pages=m.copy(s),o=!1;p.$on("$destroy",function(){i("page",null)});var r,c=p.sorting=(r={sortBy:"startTime",sortOrder:"desc"},a.get("sortCaseInstanceUserTaskTab",r)),l=p.searches=d();function d(){return JSON.parse((n.search()||{}).searchQuery||"[]")}function u(e,n){var t=f.resource("history"),i=h.current,a=h.size,s=(i-1)*a,o=function(e,n){var t=[];return v(e,function(e){e.type===n&&t.push(e.value)}),t}(e,"caseActivityIdIn"),r={caseInstanceId:g.id,caseDefinitionId:g.caseDefinitionId,taskDefinitionKeyIn:o.length?o:void 0},c={firstResult:s,maxResults:a,sorting:[{sortBy:n.sortBy,sortOrder:n.sortOrder}]},l=m.extend({},r),d=m.extend({},r,c);function u(e){throw p.loadingError=e.message,p.loadingState="ERROR",e}p.userTasks=[],p.loadingState="LOADING",t.taskCount(l,function(e,n){if(e)return u(e);h.total=n.count,n.count?t.task(d,function(e,n){if(e)return u(e);p.userTasks=n,p.loadingState="LOADED"}):p.loadingState="EMPTY"})}p.headColumns=[{class:"activity",request:"taskName",sortable:!0,content:e.instant("PLGN_CS_ACTIVITY")},{class:"assignee",request:"assignee",sortable:!0,content:e.instant("PLGN_CS_ASSIGNEE")},{class:"owner",request:"owner",sortable:!0,content:e.instant("PLGN_CS_OWNER")},{class:"created",request:"startTime",sortable:!0,content:e.instant("PLGN_CS_CREATION_DATE")},{class:"completion-date",request:"endTime",sortable:!0,content:e.instant("PLGN_CS_COMPLETION_DATE")},{class:"duration",request:"duration",sortable:!0,content:e.instant("PLGN_CS_DURATION")},{class:"due",request:"dueDate",sortable:!0,content:e.instant("PLGN_CS_DUE_DATE")},{class:"follow-up-date",request:"followUpDate",sortable:!0,content:e.instant("PLGN_CS_FOLLOW_UP_DATE")},{class:"priority",request:"priority",sortable:!0,content:e.instant("PLGN_CS_PRIORITY")},{class:"task-id uuid",request:"taskId",sortable:!0,content:e.instant("PLGN_CS_TASK_ID")}],p.$on("$locationChangeSuccess",function(){if(-1<n.path().indexOf("/case-instance/")){var e=d();m.equals(e,p.searches)||(o=!0,l=p.searches=e,t(function(){o=!1})),h.current=parseInt(i().page||1,10)}}),p.$watch("pages.current",function(e,n){e===n||o||u(p.searches,c),i("page",e&&1!=e?e:null)}),p.$watch("searches",function(e){u(e,c)}),p.onSortChange=function(e){c=p.sorting=e,function(e){a.set("sortCaseInstanceUserTaskTab",e)}(e),u(l,c)},p.getTaskSearches=function(e){var t=d();return v(t.slice(),function(e){if("caseActivityIdIn"===e.type){var n=t.indexOf(e);-1<n&&t.splice(n,1)}}),t.push({type:"caseActivityIdIn",operator:"eq",value:e.taskDefinitionKey}),JSON.stringify(t)}}],priority:60})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],63:[function(n,t,e){(function(e){"use strict";var O="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,x=O.forEach,R=n("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog"),G=n("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-upload-dialog");t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.caseInstance.tab",{id:"variable-instances",label:"PLGN_CS_VARIABLES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/variable-instances.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CASE_VARIABLES\' | translate }}">\n\n  <div cam-widget-variables-table\n       cam-variables="variables"\n       cam-editable="editableColums"\n       on-edit="editVariable"\n       on-upload="uploadVariable"\n       on-save="saveVariable"\n       on-delete="deleteVariable"\n       on-download="downloadVariable"\n       default-sort = "sortObj"\n       on-Sort-Change="onSortChange(searches, pages,sortObj)"\n       cam-headers="headColumns"\n       is-variable-editable="isVariableEditable">\n  </div>\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/instance/tabs/variable-instances.html --\x3e\n',controller:["$location","$uibModal","$q","$scope","$timeout","camAPI","search","Notifications","Uri","fixDate","unfixDate","$translate","localConf",function(n,t,o,f,i,e,a,r,s,c,g,l,h){var d=f.definition,m=f.instance,u=f.diagram,p=e.resource("task"),v=e.resource("case-execution"),y=e.resource("history");f.headColumns=[{class:"name",request:"variableName",sortable:!0,content:l.instant("PLGN_CS_VARIABLE_NAME")},{class:"type",request:"",sortable:!1,content:l.instant("PLGN_CS_VARIABLE_TYPE")},{class:"value",request:"",sortable:!1,content:l.instant("PLGN_CS_VARIABLE_VALUE")},{class:"scope",request:"",sortable:!1,content:l.instant("PLGN_CS_VARIABLE_SCOPE")}];var b;f.sortObj=(b={sortBy:"variableName",sortOrder:"asc"},h.get("sortHistVarInstTab",b));var I={size:50,total:0,current:parseInt(a().page||1,10)};f.$on("$destroy",function(){a("page",null)}),f.pages=O.copy(I);var _,E=!1;f.searches=T(),f.editableColums=m.active?["type","value"]:[],f.onSortChange=function(e,n,t){return A(e,n,t)},f.$on("variable.added",function(){A(f.searches,f.pages,f.sortObj)}),f.$on("$locationChangeSuccess",function(){if(-1<n.path().indexOf("/case-instance/")){var e=T();O.equals(e,f.searches)||(E=!0,f.searches=e,i(function(){E=!1})),f.pages.current=parseInt(a().page||1,10)}}),f.$on("$destroy",function(){_&&_.off("element.click",N)}),f.$watch("definition",function(e){d=e}),f.$watch("pages.current",function(e,n){e===n||E||A(f.searches,f.pages,f.sortObj),a("page",e&&1!=e?e:null)}),f.$watch("searches",function(e){A(e,f.pages,f.sortObj)}),f.$watch("diagram.getViewer",function(e){(_=e&&e().get("eventBus"))&&_.on("element.click",N)});var S=f.isVariableEditable=function(e){var n=e.variable;if(m&&m.terminated)return!1;if(n.activityInstanceId===m.id)return!0;var t=u.getActivityInstanceById(n.activityInstanceId);if(!t)return!1;if(t.active)return!0;if(t.terminated||t.completed)return!1;var i=u.getActivityInstanceById(t.parentCaseActivityInstanceId);return i&&i.active};function w(e){return"engine://engine/:engine/case-execution/"+e.caseExecutionId+"/localVariables/"+e.name}function D(n,e,t,i){var a=o.defer();function s(e){e?(r.addError({status:l.instant("PLGN_CS_NOTIFICATIONS_STATUS_VARIABLE"),message:l.instant("PLGN_CS_NOTIFICATIONS_MSG_FAILED",{name:n.name,operation:t}),exclusive:!0,duration:5e3}),a.reject()):(r.addMessage({status:l.instant("PLGN_CS_NOTIFICATIONS_STATUS_VARIABLE"),message:l.instant("PLGN_CS_NOTIFICATIONS_MSG_SUCCESSFUL",{name:n.name,operation:t}),duration:5e3}),i&&i(),a.resolve(n))}return n.taskId?(e=O.extend({id:n.taskId},e),p.modifyVariables(e,s)):(e=O.extend({id:n.caseExecutionId},e),v.modifyVariables(e,s)),a.promise}function N(){var e=f.$root.$$phase;("$apply"!==e&&"$digest"!==e?f.$apply.bind(f):function(e){e()})(function(){var e=k(T(),"activityInstanceIdIn");a.updateSilently({searchQuery:JSON.stringify(e)})})}function T(){return JSON.parse((n.search()||{}).searchQuery||"[]")}function C(e){var n=k(T(),["caseActivityIdIn","activityInstanceIdIn"]),t=u.getActivityInstanceById(e.activityInstanceId);return n.push({type:t?"caseActivityIdIn":"activityInstanceIdIn",operator:"eq",value:t?t.caseActivityId:e.activityInstanceId}),JSON.stringify(n)}function P(e){var n=u.getActivityInstanceById(e.activityInstanceId);if(n){var t=n.caseActivityName,i=n.caseActivityType,a=n.caseActivityId;return t||i[0].toUpperCase()+i.slice(1)+" ("+a+")"}if(d&&e.activityInstanceId===m.id)return d.name||d.key}function A(e,t,n){f.pagesObj=t||f.pagesObj,f.sortObj=n||f.sortObj;var i=f.pagesObj.current,a=f.pagesObj.size,s=(i-1)*a,o=L(e,"caseActivityIdIn"),r=L(e,"activityInstanceIdIn"),c={caseInstanceId:m.id,caseDefinitionId:m.caseDefinitionId,caseActivityIdIn:o,activityInstanceIdIn:r};n&&(c.sorting=[n],function(e){h.set("sortHistVarInstTab",e)}(n));var l={firstResult:s,maxResults:a,deserializeValues:!1},d=O.extend({},c),u=O.extend({},c,l);function p(e){throw f.loadingError=e.message,f.loadingState="ERROR",e}f.variables=[],f.loadingState="LOADING",y.variableInstanceCount(d,function(e,n){if(e)return p(e);t.total=n.count,n.count?y.variableInstance(u,function(e,n){if(e)return p(e);f.loadingState="LOADED",f.variables=n.map(function(e){return"Date"===e.type&&(e.value=g(e.value)),{variable:{id:e.id,name:e.name,type:e.type,value:e.value,valueInfo:e.valueInfo,taskId:e.taskId,caseExecutionId:e.caseExecutionId,activityInstanceId:e.activityInstanceId},original:e,additions:{scope:{html:'<a ng-href="#/case-instance/'+m.id+'?detailsTab=variable-instances&searchQuery={{ getVariableSearchQuery(variable) }}"> {{ getVariableScope(variable) }}</a>',scopeVariables:{getVariableScope:P,getVariableSearchQuery:C}}}}})}):f.loadingState="EMPTY"})}function L(e,n){var t=[];return x(e,function(e){e.type===n&&t.push(e.value)}),t}function k(t,i){return"string"==typeof i&&(i=[i]),x(t.slice(),function(e){if(-1<i.indexOf(e.type)){var n=t.indexOf(e);-1<n&&t.splice(n,1)}}),t}f.deleteVariable=function(e){var n=e.variable;return D(n,{deletions:[n.name]},"deleted")},f.saveVariable=function(e){var n=e.variable,t={},i=n.value,a=n.type;"Date"===a&&(i=c(i));var s={value:i,type:a};return e.original.type===a&&(s.valueInfo=n.valueInfo),t[n.name]=s,D(n,{modifications:t},"changed",function(){"Date"===s.type&&(s.value=g(s.value)),O.extend(n,s)})},f.editVariable=function(e){var n=o.defer();return t.open({template:R.template,controller:R.controller,windowClass:"cam-widget-variable-dialog",resolve:{basePath:function(){return w(e.variable)},history:function(){return!0},readonly:function(){return!S(e)},variable:function(){return e.variable}}}).result.then(function(){n.reject(),A(f.searches,f.pages,f.sortObj)},function(){n.reject()}),n.promise},f.uploadVariable=function(e){var n=o.defer();return t.open({template:G.template,controller:G.controller,resolve:{basePath:function(){return w(e.variable)},variable:function(){return e.variable}}}).result.then(function(){n.reject(),A(f.searches,f.pages,f.sortObj)},function(){n.reject()}),n.promise},f.downloadVariable=function(e){return s.appUri("engine://engine/:engine/history/variable-instance/"+e.variable.id+"/data")}}],priority:80})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog":3,"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-upload-dialog":4}],64:[function(b,I,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=b("./dashboard/cases"),i=b("./casesDashboard/case-definitions"),a=b("./definition/tabs/case-instances"),s=b("./definition/overlay/case-activity-statistics"),o=b("./instance/tabs/variable-instances"),r=b("./instance/overlay/case-activity-statistics"),c=b("./instance/tabs/audit-log"),l=b("./instance/tabs/user-tasks"),d=b("./instance/tabs/called-process-instances"),u=b("./instance/tabs/called-case-instances"),p=b("./processInstance/tabs/called-case-instances"),f=b("./instance/tabs/executed-decision-instances"),g=b("./casesDashboard/case-instances-search"),h=b("./instance/actions/add-variable"),m=b("./instance/actions/terminate-case-instance"),v=b("./instance/dialogs/terminate-case-instance-dialog"),y=n.module("cockpit.plugin.case.plugins",[]);y.config(t),y.config(i),y.config(a),y.config(s),y.config(r),y.config(o),y.config(c),y.config(l),y.config(d),y.config(u),y.config(p),y.config(f),y.config(g),y.config(h),y.config(m),y.controller("TerminateCaseInstanceController",v),I.exports=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./casesDashboard/case-definitions":47,"./casesDashboard/case-instances-search":48,"./dashboard/cases":51,"./definition/overlay/case-activity-statistics":52,"./definition/tabs/case-instances":53,"./instance/actions/add-variable":54,"./instance/actions/terminate-case-instance":55,"./instance/dialogs/terminate-case-instance-dialog":56,"./instance/overlay/case-activity-statistics":57,"./instance/tabs/audit-log":58,"./instance/tabs/called-case-instances":59,"./instance/tabs/called-process-instances":60,"./instance/tabs/executed-decision-instances":61,"./instance/tabs/user-tasks":62,"./instance/tabs/variable-instances":63,"./processInstance/tabs/called-case-instances":65}],65:[function(n,t,e){(function(e){"use strict";var u=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).forEach,p=n("../../components/called-element");t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"called-case-instances",label:"PLGN_CS_CALLED_CASE_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/processInstance/tabs/called-case-instances.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ calledElement.loadingState }}"\n     text-empty="{{ \'PLGN_CS_NO_CALLED_INSTANCES\' | translate }}">\n\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="calledElement.sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledCaseInstance in calledElement.calledInstances">\n        <td class="instance uuid"\n            cam-widget-clipboard="calledCaseInstance.id">\n          <a href="#/case-instance/{{ calledCaseInstance.id }}">\n            {{ calledCaseInstance.id }}\n          </a>\n        </td>\n\n        <td class="definition"\n            cam-widget-clipboard="calledCaseInstance.caseDefinitionId">\n          <a href="#/case-definition/{{ calledCaseInstance.caseDefinitionId }}">\n            {{ calledCaseInstance.caseDefinitionName || calledCaseInstance.caseDefinitionKey || calledCaseInstance.caseDefinitionId }}\n          </a>\n        </td>\n\n        <td class="activity">\n          <a cam-select-activity-instance="getCalledElementId(calledCaseInstance)"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=called-case-instances">\n            {{ getCalledElementName(calledCaseInstance) }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <ul uib-pagination ng-if="calledElement.pages.total > calledElement.pages.size"\n              class="pagination-sm"\n\n              page="calledElement.pages.current"\n              ng-model="calledElement.pages.current"\n\n              total-items="calledElement.pages.total"\n              items-per-page="calledElement.pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/case/app/plugins/processInstance/tabs/called-case-instances.html --\x3e\n',controller:["$location","$scope","$translate","camAPI","search","localConf",function(e,n,t,i,a,s){var o=n.processInstance,r=n.processData.newChild(n),c={};r.observe("activityInstances",function(e){c=function(e){var t={};return u(e,function(e){var n=e.calledCaseInstanceId;n&&(t[n]=e)}),t}(e)}),n.headColumns=[{class:"instance uuid",request:"instanceId",sortable:!0,content:t.instant("PLGN_CS_CALLED_CASE_INSTANCE")},{class:"definition",request:"",sortable:!1,content:t.instant("PLGN_CS_CASE_DEFINITION")},{class:"activity",request:"",sortable:!1,content:t.instant("PLGN_CS_ACTIVITY")}];var l,d=n.calledElement=new p(o,e,i,void 0,{count:"caseInstanceCount",instances:"caseInstance",superInstanceId:"superProcessInstanceId",currentPage:parseInt(a().page||1,10),sorting:(l={sortBy:"instanceId",sortOrder:"asc"},s.get("sortHPICalledCIsTab",l)),sortParamsArray:!0});n.$on("$destroy",function(){a("page",null)}),n.$on("$routeChanged",function(){d.pages.current=parseInt(a().page||1,10)}),n.$watch("calledElement.pages.current",function(e,n){e!==n&&d.loadCalledInstances(),a("page",e&&1!=e?e:null)}),n.getCalledElementName=function(e){var n=c[e.id];return n&&n.name},n.getCalledElementId=function(e){var n=c[e.id];return n&&n.id},n.onSortChange=function(e){!function(e){s.set("sortHPICalledCIsTab",e)}(e),d.onSortChange(e)},d.loadCalledInstances()}],priority:19})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../components/called-element":49}],66:[function(s,o,e){(function(e){"use strict";var i="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,a=s("camunda-bpm-webapp/ui/common/scripts/util/routeUtil"),n={};function t(e,n){var t=i.extend({},n||{});return a.redirectTo(e,t,["viewbox"])}n.getDeploymentUrl=function(e){var n=e&&e.deploymentId,t={deployment:n,resourceName:e&&e.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:n}])};return a.redirectTo("#/repository",t,["deployment","resourceName","deploymentsQuery"])},n.getInstanceUrl=function(e,n){return t("#/case-instance/"+e.id,n)},n.getDefinitionUrl=function(e,n){return t("#/case-definition/"+e.id,n)},n.getInstanceState=function(e){for(var n=["available","enabled","disabled","active","failed","suspended","completed","terminated","closed"],t=0;t<n.length;t++){var i=n[t];if(e[i])return i}},o.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/routeUtil":6}],67:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.navigation",{id:"cleanup",label:"PLGN_CLUP_CLEANUP",pagePath:"#/cleanup",checkActive:function(e){return-1<e.indexOf("#/cleanup")},controller:function(){},priority:-15})}]},{}],68:[function(e,a,n){(function(e){var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,t=["$scope","Views","page","$translate",function(e,n,t,i){e.$root.showBreadcrumbs=!0,t.breadcrumbsClear(),t.breadcrumbsAdd({label:i.instant("PLGN_CLUP_CLEANUP")}),t.titleSet(i.instant("PLGN_CLUP_CLEANUP")),e.plugins=n.getProviders({component:"cockpit.cleanup"})}],i=["$routeProvider",function(e){e.when("/cleanup",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/cleanup/index.html",controller:t,authentication:"required",reloadOnSearch:!1})}];a.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(c,l,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=c("./plugins/cleanupState"),i=c("./plugins/cleanupStats"),a=c("./plugins/cleanupMetrics"),s=c("./config/navigationConfig"),o=c("./config/routeConfig"),r=n.module("cockpit.plugin.cleanup",[t.name,a.name,i.name]);r.config(s),r.config(o),l.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config/navigationConfig":67,"./config/routeConfig":68,"./plugins/cleanupMetrics":71,"./plugins/cleanupState":73,"./plugins/cleanupStats":76}],70:[function(e,t,n){(function(e){"use strict";var d="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,n=["$scope","$q","camAPI","$translate",function(s,e,n,t){s.encodeURIComponent=encodeURIComponent,s.data={};var a=n.resource("metrics");s.loading=!1,s.colors=["#F39A32","#1F89B1","#31C373","#D94B38"];var o,r={processes:"history-cleanup-removed-process-instances",decisions:"history-cleanup-removed-decision-instances",cases:"history-cleanup-removed-case-instances",batches:"history-cleanup-removed-batch-operations"};function i(e,n){var t=r[e],i="current"===n?o.currentEnd.endOf("day"):o.previousEnd;return a.sum({endDate:i.format(o.dateformat),startDate:o[n+"Start"].format(o.dateformat),name:t}).then(function(e){return e.result})}function c(e){var n=r[e];return a.byInterval({interval:s.interval,endDate:o.currentEnd.endOf("day").format(o.dateformat),startDate:o.currentStart.format(o.dateformat),name:n,aggregateByReporter:!0})}function l(e,n){return e<n?"glyphicon-arrow-up":n<e?"glyphicon-arrow-up":"glyphicon-arrow-right"}s.$watch("metricsPeriod",function(){switch(s.loading=!0,s.interval=900,s.metricsPeriod){case"week":s.interval=2700;break;case"month":s.interval=12600}o=function(){var e={dateformat:"YYYY-MM-DD[T]HH:mm:ss.000ZZ"};return e.currentEnd=d(),e.currentStart=e.currentEnd.clone().subtract(1,s.metricsPeriod),e.previousEnd=e.currentStart.clone(),e.previousStart=e.previousEnd.clone().subtract(1,s.metricsPeriod),e}(),e.all({processesCurrent:i("processes","current"),decisionsCurrent:i("decisions","current"),casesCurrent:i("cases","current"),batchesCurrent:i("batches","current"),processesPrevious:i("processes","previous"),decisionsPrevious:i("decisions","previous"),casesPrevious:i("cases","previous"),batchesPrevious:i("batches","previous"),processesChart:c("processes"),decisionsChart:c("decisions"),casesChart:c("cases"),batchesChart:c("batches")}).then(function(i){var a=[];s.charts=Object.keys(r).map(function(e,n){var t=i[e+"Chart"].reverse();return 0<t.length&&a.push(s.colors[n]),t}).filter(function(e){return e.length}),s.chartColors=a,s.heats=[{name:t.instant("PLGN_CLUP_PROCESSES"),previous:i.processesPrevious,current:i.processesCurrent,className:l(i.processesCurrent,i.processesPrevious)},{name:t.instant("PLGN_CLUP_DECISIONS"),previous:i.decisionsPrevious,current:i.decisionsCurrent,className:l(i.decisionsCurrent,i.decisionsPrevious)},{name:t.instant("PLGN_CLUP_CASES"),previous:i.casesPrevious,current:i.casesCurrent,className:l(i.casesCurrent,i.casesPrevious)},{name:t.instant("PLGN_CLUP_BATCH_OPERATIONS"),previous:i.batchesPrevious,current:i.batchesCurrent,className:l(i.batchesCurrent,i.batchesPrevious)}]}).finally(function(){s.loading=!1})})}];t.exports=function(){return{restrict:"A",scope:{metricsPeriod:"=",resourceName:"@"},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/directives/cleanup-metrics-diagram.html --\x3e\n\n<div class="metrics-plugin">\n  <div ng-repeat="heat in heats"\n       class="col-xs-3"\n       ng-class="{\'loading\': loading}">\n    <div>\n      <span translate="PLGN_CLUP_REMOVED"\n            translate-values="{name: heat.name}"></span><span class="legend-color" ng-style="{backgroundColor: colors[$index]}"></span></div>\n    <span class="value">\n      {{ (!heat.current ? 0 : \'\')}}\n      {{ heat.current | abbreviateNumber }}\n    </span>\n    <span class="glyphicon"\n          uib-tooltip="Last {{ metricsPeriod }}: {{ heat.previous }}"\n          ng-class="heat.className"></span>\n  </div>\n\n  <div class="metrics-plugin--chart col-xs-12">\n    <div cam-widget-chart-line\n         line-colors="chartColors"\n         interval="interval"\n         values="charts"\n         timespan="metricsPeriod"\n         disable-selection="true"\n         is-log-scale="true"\n         ng-if="charts.length"></div>\n          \n    <div cam-widget-chart-line\n         line-colors="colors"\n         interval="interval"\n         values="[[]]"\n         timespan="metricsPeriod"\n         disable-selection="true"\n         is-log-scale="true"\n         ng-if="!charts.length"></div>\n  </div>\n  \n</div>\n\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/directives/cleanup-metrics-diagram.html  --\x3e\n',controller:n}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./views/cleanupMetrics"),i=s("./directives/cleanupMetricsDiagram"),a=n.module("cockpit.plugin.cleanup.cleanupMetrics",[]);a.config(t),a.directive("cleanupMetricsDiagram",i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/cleanupMetricsDiagram":70,"./views/cleanupMetrics":72}],72:[function(e,n,t){"use strict";var i=["$scope","Views","localConf",function(n,e,t){n.tabActive=!0,n.metricsPeriod=t.get("dashboardMetricsPeriod","day"),n.toggleSection=function(){n.tabActive=!n.tabActive},n.setMetricsPeriod=function(e){n.metricsPeriod=e,t.set("dashboardMetricsPeriod",e)}}];n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup",{id:"cleanup-metrics",label:"PLGN_CLUP_CLEANUP_METRICS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/views/cleanup-metrics.html --\x3e\n\n<section class="metrics"\n         ng-class="{\'section-collapsed\': !tabActive}">\n\n  <div class="inner">\n    <button uib-tooltip="{{ \'PLGN_CLUP_TOGGLE\' | translate }}"\n      class="section-toggle btn btn-link btn-sm"\n      ng-click="toggleSection()">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !tabActive, \'glyphicon-menu-up\': tabActive}"></span>\n    </button>\n    <header>\n      <div class="row">\n        <h1 class="col-xs-3 section-title">{{ \'PLGN_CLUP_METRICS\' | translate }}</h1>\n\n        <div class="col-xs-9 text-right"\n             ng-if="tabActive">\n          <ul class="nav nav-tabs">\n            <li ng-class="{active: metricsPeriod === \'day\'}">\n              <a ng-click="setMetricsPeriod(\'day\')">{{ \'PLGN_CLUP_TODAY\' | translate }}</a>\n            </li>\n\n            <li ng-class="{active: metricsPeriod === \'week\'}">\n              <a ng-click="setMetricsPeriod(\'week\')">{{ \'PLGN_CLUP_WEEK\' | translate }}</a>\n            </li>\n\n            <li ng-class="{active: metricsPeriod === \'month\'}">\n              <a ng-click="setMetricsPeriod(\'month\')">{{ \'PLGN_CLUP_MONTH\' | translate }}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n\n\n    <div class="stats"\n         ng-if="tabActive">\n      <div class="stats-section entry">\n        <h4>{{ \'PLGN_CLUP_REMOVED_DATA\' | translate }}</h4>\n        <div vars="metricsVars"\n             cleanup-metrics-diagram\n             metrics-period="metricsPeriod"\n             class="row"></div>\n      </div>\n    </div>\n  </div>\n</section>\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupMetrics/views/cleanup-metrics.html  --\x3e\n',controller:i,priority:0})}]},{}],73:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./views/cleanupState"),i=n.module("cockpit.plugin.cleanup.cleanupState",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/cleanupState":74}],74:[function(e,n,t){"use strict";var h=e("camunda-commons-ui/vendor/moment"),i=["$scope","$q","Notifications","Uri","camAPI","$translate",function(o,n,t,i,e,a){h.relativeTimeThreshold("s",60),h.relativeTimeThreshold("m",60),h.relativeTimeThreshold("h",60);var s=e.resource("history"),r=e.resource("job");o.loadingState="LOADING";var c=o.cleanupState={status:"NOT_SCHEDULED",relativeDueDate:-1};function l(e,n){c.status=e,c.relativeDueDate=n||-1}function d(e){if(404===e.status)return o.loadingState="LOADED",l("NOT_SCHEDULED");u(e)}function u(e){o.loadingState="ERROR",o.loadingError=e.message}function p(e){o.jobs=e,o.incidentJobs=e.filter(function(e){return 0===e.retries}),0<o.incidentJobs.length?(o.loadingState="LOADED",l("HAS_INCIDENT")):s.cleanupConfiguration().then(f).catch(u)}function f(e){o.loadingState="LOADED";var n=0<o.jobs.filter(function(e){return e.suspended}).length;if(e.batchWindowStartTime&&e.batchWindowEndTime){var t=h(),i=h(o.jobs[0].dueDate,h.ISO_8601),a=h(e.batchWindowStartTime,h.ISO_8601),s=h(e.batchWindowEndTime,h.ISO_8601);n?l("SUSPENDED"):t.isAfter(a)||t.isSame(a)?i.isAfter(s)?l("SCHEDULED",i.fromNow()):l("RUNNING"):t.isAfter(i)?l("RUNNING"):l("SCHEDULED",i.fromNow())}else l(n?"NOT_SCHEDULED":"RUNNING")}function g(){o.loadingState="LOADING",l("NOT_SCHEDULED"),s.cleanupJobs().then(p).catch(d)}o.retryCleanup=function(){var e=o.incidentJobs;0<e.length&&n.all(e.map(function(e){return r.setRetries({id:e.id,retries:1})})).then(function(){t.addMessage({status:a.instant("PLGN_CLUP_NOTIFICATION_SUCCESS"),message:a.instant("PLGN_CLUP_RETRY_SUCCESSFUL")}),g()}).catch(function(e){t.addError({status:a.instant("PLGN_CLUP_NOTIFICATION_RETRY_FAILED"),message:e.message})})},o.cleanupNow=function(){s.cleanup({executeAtOnce:!0}).then(function(){t.addMessage({status:a.instant("PLGN_CLUP_NOTIFICATION_SUCCESS"),message:a.instant("PLGN_CLUP_CLEANUP_STARTED")}),g()}).catch(function(){t.addError({status:a.instant("PLGN_CLUP_NOTIFICATION_ERROR"),message:a.instant("PLGN_CLUP_JOB_CREATION_FAILED")})})},o.getStacktraceUrl=function(e){return i.appUri("engine://engine/:engine/job/"+e.id+"/stacktrace")},o.getExceptionMessage=function(e){return e.exceptionMessage||a.instant("PLGN_CLUP_MESSAGE_NULL")},g()}];n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup",{id:"cleanup-state",label:"PLGN_CLUP_CLEANUP_STATE",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupState/views/cleanup-state.html --\x3e\n\n<section>\n  <div class="inner cleanup-ui"\n       cam-widget-loader\n       loading-state="{{ loadingState }}"\n       text-error="{{ loadingError }}">\n\n    <div class="cleanup-window">\n      <header class="header-empty header-cleanup">\n          <div class="cleanup-message-container">\n            <span state-circle\n                  running="cleanupState.status === \'RUNNING\'"\n                  incidents="incidentJobs"\n                  ng-if="cleanupState.status !== \'NOT_SCHEDULED\' && cleanupState.status !== \'SUSPENDED\'">\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'NOT_SCHEDULED\'">\n              {{ \'PLGN_CLUP_NOT_SCHEDULED\' | translate }}\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'SCHEDULED\'"\n                  translate="PLGN_CLUP_SCHEDULED"\n                  translate-values="{ dueDate: cleanupState.relativeDueDate }">\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'HAS_INCIDENT\'">\n               {{ \'PLGN_CLUP_NOT_RUN\' | translate }}\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'RUNNING\'">\n               {{ \'PLGN_CLUP_RUNNING\' | translate }}\n            </span>\n            <span class="cleanup-message"\n                  ng-if="cleanupState.status === \'SUSPENDED\'"\n                  translate="PLGN_CLUP_SUSPENDED">\n            </span>\n          </div>\n          <button class="btn btn-primary"\n                  ng-click="cleanupNow()"\n                  ng-show="cleanupState.status === \'SCHEDULED\' || cleanupState.status === \'NOT_SCHEDULED\' || cleanupState.status === \'SUSPENDED\'">\n            {{ \'PLGN_CLUP_CLEANUP_NOW\' | translate }}\n          </button>\n          <button class="btn btn-primary"\n                  ng-click="retryCleanup()"\n                  ng-show="cleanupState.status === \'HAS_INCIDENT\'">\n            {{ \'PLGN_CLUP_RETRY\' | translate }}\n          </button>\n      </header>\n      <div  ng-repeat="job in incidentJobs"\n            ng-if="cleanupState.status === \'HAS_INCIDENT\'"\n            class="stacktrace">\n        <a ng-href="{{ getStacktraceUrl(job) }}"\n           class="auto-cutoff"\n           target="_blank"\n           uib-tooltip="{{ \'PLGN_CLUP_OPEN_STACKTRACE\' | translate }}"\n           tooltip-placement="top">\n          {{ getExceptionMessage(job) }}\n        </a>\n      </div>\n    </div>\n  </div>\n</section>\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupState/views/cleanup-state.html --\x3e\n',controller:i,priority:3})}]},{"camunda-commons-ui/vendor/moment":11}],75:[function(e,t,n){(function(e){"use strict";var m="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=["$scope","search","camAPI","$translate","localConf",function(t,i,e,n,a){function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(){var n={firstResult:(t.pages.current-1)*t.pages.size,maxResults:t.pages.size,compact:!0,sortBy:h.sortBy,sortOrder:h.sortOrder};return t.loadingState="LOADING",d["cleanable"+f+"Count"](n).then(function(e){return t.pages.total=e.count,d["cleanable"+f](n)}).then(function(e){t.cleanableDataReports=e.map(function(e){return{id:e[u+"DefinitionId"],name:e[u+"DefinitionName"],key:e[u+"DefinitionKey"],batchType:e.batchType,version:e[u+"DefinitionVersion"],tenantId:e.tenantId,historyTimeToLive:e.historyTimeToLive,finishedCount:p?e.finishedBatchesCount:e["finished"+f+"InstanceCount"],cleanableCount:p?e.cleanableBatchesCount:e["cleanable"+f+"InstanceCount"]}}),t.loadingState="LOADED"}).catch(function(e){t.loadingState="ERROR",t.loadingError=e.message})}var r,c,l={process:n.instant("PLGN_CLUP_PROCESS"),decision:n.instant("PLGN_CLUP_DECISION"),case:n.instant("PLGN_CLUP_CASE"),batch:n.instant("PLGN_CLUP_BATCH")},d=e.resource("history"),u=t.resourceName,p=t.isBatch="batch"===u,f=t.resourceLabel=s(u),g=s(l[u]),h=t.sorting=(r=l[u],c={sortBy:"finished",sortOrder:"desc"},a.get("history-cleanup-sort-"+r,c));t.headColumns=[{class:"name",request:"",sortable:!1,content:n.instant("PLGN_CLUP_STATS_TAB_RESOURCE",{resourceLabel:g}),condition:!p},{class:"version",request:"",sortable:!1,content:n.instant("PLGN_CLUP_STATS_VERSION"),condition:!p},{class:"tenantId",request:"",sortable:!1,content:n.instant("PLGN_CLUP_STATS_TENANT_ID"),condition:!p},{class:"batchType",request:"",sortable:!1,content:n.instant("PLGN_CLUP_STATS_BATCH_TYPE"),condition:p},{class:"finished",request:"finished",sortable:!0,content:n.instant("PLGN_CLUP_STATS_FINISHED")},{class:"cleanable",request:"",sortable:!1,content:n.instant("PLGN_CLUP_STATS_CLEANABLE")},{class:"ttl",request:"",sortable:!1,content:n.instant("PLGN_CLUP_STATS_TTL")}],t.onSortChange=function(e){(function(e,n){a.set("history-cleanup-sort-"+e,n)})(l[u],h=e),o()},t.isNumber=m.isNumber,t.onTTLChange=o,t.loadingState="LOADING",t.emptyMessage=n.instant("PLGN_CLUP_STATS_NO_FINISHED")+(p?n.instant("PLGN_CLUP_STATS_BATCH_OPERATIONS"):l[u]+n.instant("PLGN_CLUP_STATS_INSTANCES")),t.pages=m.copy({size:50,total:0,current:+i().page||1}),t.$watch("pages.current",function(e,n){var t=+i().page||1;n!==e&&t!==e&&i("page",e||null)}),t.$on("$locationChangeSuccess",function(){var e=i();e&&e.page&&o()}),t.$on("$destroy",function(){i("page",null)}),o()}];t.exports=function(){return{restrict:"A",scope:{resourceName:"@"},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/directives/cleanup-stats-tab.html--\x3e\n\n\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <div ng-if="!pages.total && loadingState !== \'LOADING\'">{{emptyMessage}}</div>\n\n  <table ng-if="pages.total" class="cam-table cleanup-stats-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="cleanableDataReport in cleanableDataReports">\n          \n        <td class="name"\n            ng-if="!isBatch"\n            cam-widget-clipboard="cleanableDataReport.name || cleanableDataReport.key">\n          <a href="#/{{resourceName}}-definition/{{cleanableDataReport.id}}">\n            {{cleanableDataReport.name || cleanableDataReport.key}} \n          </a>\n        </td>        \n        <td class="version" ng-if="!isBatch">{{cleanableDataReport.version}}</td>\n        <td class="tenantId" ng-if="!isBatch">{{cleanableDataReport.tenantId}}</td>\n        <td class="batchType"\n            ng-if="isBatch"\n            cam-widget-clipboard="cleanableDataReport.batchType">{{cleanableDataReport.batchType}}</td>\n        <td class="finished">{{cleanableDataReport.finishedCount}}</td>\n        <td class="cleanable">{{cleanableDataReport.cleanableCount}}</td>\n        <td class="ttl">\n          <span time-to-live="cleanableDataReport"\n                resource="{{resourceName}}-definition"\n                on-change="onTTLChange"\n                ng-if="!isBatch"></span>\n\n          <span ng-if="isBatch && isNumber(cleanableDataReport.historyTimeToLive)"\n                translate="PLGN_CLUP_STATS_TTL_DAYS"\n                translate-values="{ days: cleanableDataReport.historyTimeToLive }"></span>\n          <span ng-if="isBatch && !isNumber(cleanableDataReport.historyTimeToLive)">{{ \'PLGN_CLUP_STATS_TTL_NULL\' | translate }}</span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n              page="pages.current"\n              ng-model="pages.current"\n              total-items="pages.total"\n              items-per-page="pages.size"\n              max-size="7"\n              boundary-links="true">\n  </ul>\n\n</div>\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/directives/cleanup-stats-tab.html --\x3e\n',controller:n}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(l,d,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=l("./views/cleanupStats"),i=l("./views/tabs/processesTab"),a=l("./views/tabs/casesTab"),s=l("./views/tabs/batchesTab"),o=l("./views/tabs/decisionsTab"),r=l("./directives/cleanupStatsTab"),c=n.module("cockpit.plugin.cleanup.cleanupStats",[]);c.config(t),c.config(i),c.config(a),c.config(o),c.config(s),c.directive("cleanupStatsTab",r),d.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/cleanupStatsTab":75,"./views/cleanupStats":77,"./views/tabs/batchesTab":78,"./views/tabs/casesTab":79,"./views/tabs/decisionsTab":80,"./views/tabs/processesTab":81}],77:[function(e,n,t){"use strict";var i=["$scope","Views","search",function(n,e,t){n.tabActive=!0;var i=n.tabs=e.getProviders({component:"cockpit.cleanup.cleanupStats"});if(n.selectTab=function(e){n.selectedTab=e,t.updateSilently({detailsTab:e.id})},n.toggleSection=function(){n.tabActive=!n.tabActive},i&&i.length){var a=t().detailsTab;if(a){var s=e.getProvider({component:"cockpit.cleanup.cleanupStats",id:a});if(s&&-1!==i.indexOf(s))return void(n.selectedTab=s)}t.updateSilently({detailsTab:null}),n.selectedTab=i[0]}}];n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup",{id:"cleanup-stats",label:"PLGN_CLUP_CLEANUP_STATISTICS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/cleanup-stats.html --\x3e\n\n<section class="cleanup-stats"\n         ng-class="{\'section-collapsed\': !tabActive}">\n  <div class="inner">\n    <button uib-tooltip="{{ \'PLGN_CLUP_TOGGLE\' | translate }}"\n          class="section-toggle btn btn-link btn-sm"\n          ng-click="toggleSection()">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !tabActive, \'glyphicon-menu-up\': tabActive}"></span>\n    </button>\n    <div class="ctn-tabbed">\n     <header>\n       <h1 class="section-title">{{ \'PLGN_CLUP_CLEANABLE_DATA\' | translate }}</h1>\n       <div ng-if="tabs.length && tabActive">\n         <div class="stats-row stats-header">\n           <ul class="nav nav-tabs">\n             <li ng-class="{ active: selectedTab === tabProvider }"\n                 ng-repeat="tabProvider in tabs">\n               <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n             </li>\n           </ul>\n         </div>\n       </div>\n     </header>\n     <div class="stats-row" ng-if="tabActive">\n       <view provider="selectedTab" />\n     </div>\n    </div>\n  </div>\n</section>\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/cleanup-stats.html --\x3e\n',controller:i,priority:2})}]},{}],78:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"batches-tab",label:"PLGN_CLUP_BATCH_OPERATIONS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/batches-tab.html --\x3e\n\n<div cleanup-stats-tab\n     resource-name="batch">\n</div>\n\n\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/batches-tab.html --\x3e\n',priority:3})}]},{}],79:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"cases-tab",label:"PLGN_CLUP_CASES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/cases-tab.html --\x3e\n\n<div cleanup-stats-tab\n     resource-name="case">\n</div>\n\n\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/cases-tab.html --\x3e\n',priority:3})}]},{}],80:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"decisions-tab",label:"PLGN_CLUP_BATCH_DECISIONS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/decisions-tab.html --\x3e\n\n<div cleanup-stats-tab\n     resource-name="decision">\n</div>\n\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/decisions-tab.html --\x3e\n',priority:4})}]},{}],81:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.cleanup.cleanupStats",{id:"processes-tab",label:"PLGN_CLUP_BATCH_PROCESSES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/processes-tab.html --\x3e\n\n<div cleanup-stats-tab\n     resource-name="process">\n</div>\n\n\x3c!-- EE / - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/cleanup/plugins/cleanupStats/views/tabs/processes-tab.html --\x3e\n',priority:5})}]},{}],82:[function(T,C,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=T("./adjustment/app/plugin"),i=T("./activityInstance-period/app/plugin"),a=T("./case/app/plugin"),s=T("./heatmap/app/plugin"),o=T("./history/app/plugin"),r=T("./dashboard-metrics/plugin"),c=T("./jobRetry/app/plugin"),l=T("./migration/app/plugin"),d=T("./batch/operation/app/plugin"),u=T("./modification/app/plugin"),p=T("./processDefinitionEE/app/plugin"),f=T("./processActionsEE/app/plugin"),g=T("./redeploy/app/plugin"),h=T("./reporting/app/plugin"),m=T("./search/app/plugin"),v=T("./search-decisions/app/plugin"),y=T("./search-tasks/app/plugin"),b=T("./skeleton/app/plugin"),I=T("./drd/app"),_=T("./external-tasks"),E=T("./deployment/app"),S=T("./cleanup/plugin"),w=T("./audit-log/plugin"),D=T("../common/operations-table/operationsTable"),N=n.module("cockpit.plugin.cockpitEE",[i.name,t.name,a.name,s.name,o.name,r.name,c.name,l.name,d.name,u.name,p.name,f.name,g.name,h.name,m.name,v.name,y.name,b.name,I.name,_.name,E.name,S.name,w.name]);N.directive("camEeWidgetOperationsTable",D),C.exports=N}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common/operations-table/operationsTable":281,"./activityInstance-period/app/plugin":15,"./adjustment/app/plugin":19,"./audit-log/plugin":22,"./batch/operation/app/plugin":31,"./case/app/plugin":46,"./cleanup/plugin":69,"./dashboard-metrics/plugin":88,"./deployment/app":93,"./drd/app":136,"./external-tasks":153,"./heatmap/app/plugin":159,"./history/app/plugin":171,"./jobRetry/app/plugin":200,"./migration/app/plugin":221,"./modification/app/plugin":228,"./processActionsEE/app/plugin":236,"./processDefinitionEE/app/plugin":240,"./redeploy/app/plugin":247,"./reporting/app/plugin":251,"./search-decisions/app/plugin":261,"./search-tasks/app/plugin":264,"./search/app/plugin":267,"./skeleton/app/plugin":280}],83:[function(e,t,n){(function(e){"use strict";function n(e,n){this.searches=[],this.translations=n.tooltips,this.types=n.types,this.operators=n.operators,this.withPrefix=n.withPrefix,this.config=n;var t=this;e.on(n.operationEvent+".finished",function(){t.searches=[]})}var i="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;n.prototype.getTypes=function(){return this.types},n.prototype.getQueryParamBySearch=function(e,n){var t=e.type.value.key,i=e.operator.value.key;return-1!==t.indexOf("Date")&&(t=t.slice(0,-4)),-1!==["After","Before","Like","NotIn"].indexOf(i)&&(t+=i),n&&(t=t.substr(2)),t};var a=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/;n.prototype.sanitizeValue=function(e,n,t){return"like"!==n.toLowerCase()||/(%)|(_)/.test(e.replace(/(\\%)|(\\_)/g,""))?t.allowDates&&a.test(e)?i(e,i.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):e:"%"+e+"%"},n.prototype.parseValue=function(e){return isNaN(e)||""===e.trim()?"true"===e||"false"!==e&&("NULL"===e?null:0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1?e.substr(1,e.length-2):e):+e},n.prototype.getQueryValueBySearch=function(e,n){if(e.basic)return!0;var t=e.type.value.key;return-1===n.nonSanitizedTypes.indexOf(t)?this.sanitizeValue(e.value.value,e.operator.value.key,e):{name:e.name.value,operator:e.operator.value.key,value:this.sanitizeValue(this.parseValue(e.value.value),e.operator.value.key,e)}},n.prototype.getParams=function(){var i={},a=this;return a.searches.forEach(function(e){var n=a.getQueryParamBySearch(e,a.withPrefix),t=a.getQueryValueBySearch(e,a.config);-1!==a.config.arrayTypes.indexOf(n)?(i[n]=i[n]||[],i[n].push(t)):i[n]=t}),i},n.prototype.searchesToSearchQuery=function(){var a=[],s=this;return s.searches.forEach(function(e){var n=s.getQueryParamBySearch(e),t=s.getQueryValueBySearch(e,s.config),i={type:n,name:e.name.value,operator:e.operator.value.key,value:t};"string"!=typeof t&&(i.value=""+t.value),a.push(i)}),a},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(e,n,t){"use strict";function i(e,n,t,i,a){var s=this;s.callbackContainer=a,s.eventBus=e,s.operationComponent=n,s.api=t,s.selectedInstances=[],s.instances=[],s.instancesCount=0,s.selectAll=!1,s.pageSize=12,s.currentPage=1,s.loadingState="INITIAL",s.currentParams="",s.searchConfig=i,s.search=new o(e,i)}var o=e("./instances-search-field");i.prototype.hasQueryOrInstances=function(){return 0<this.selectedInstances.length||0<this.instancesCount},i.prototype.loadInstances=function(){this.callbackContainer.updatePage(!0)},i.prototype.applySelection=function(){for(var e=0;this.instances&&e<this.instances.length;e++){var n=this.instances[e];n.selected=-1!==this.selectedInstances.indexOf(n.id)}},i.prototype.reset=function(){this.selectedInstances=[],this.instances=[],this.instancesCount=0,this.selectAll=!1,this.currentPage=1,this.loadingState="INITIAL",this.currentParams=""},i.prototype.updateSelectedInstances=function(){for(var e=!1,n=0;n<this.instances.length;n++){var t=this.instances[n];-1===this.selectedInstances.indexOf(t.id)&&t.selected?this.selectedInstances.push(t.id):-1===this.selectedInstances.indexOf(t.id)||t.selected||this.selectedInstances.splice(this.selectedInstances.indexOf(t.id),1),t.selected||(e=!0)}this.selectAll=!e},i.prototype.toggleAll=function(){for(var e=0;e<this.instances.length;e++)this.instances[e].selected=this.selectAll;this.updateSelectedInstances()},n.exports=i},{"./instances-search-field":83}],85:[function(n,t,e){(function(e){"use strict";var c="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,l=n("./../utils").resultsCb,d=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==e?e["camunda-bpm-sdk-js"]:null).utils.series;t.exports=["camAPI","$scope","$translate",function(e,o,t){o.encodeURIComponent=encodeURIComponent,o.data={};var r=e.resource("metrics");o.loading=!1,o.colors=["#F39A32","#1F89B1"],o.selectionInfo={},o.selectionChanged=function(e){o.selectionInfo=e},o.$watch("metricsPeriod",function(){o.selectionInfo={},o.loading=!0;var n=c(),t=n.clone().subtract(1,o.metricsPeriod),i=t.clone(),a=i.clone().subtract(1,o.metricsPeriod);switch(o.interval=900,o.metricsPeriod){case"week":o.interval=2700;break;case"month":o.interval=12600}var s="YYYY-MM-DD[T]HH:mm:ss.000ZZ";d({executedCurrent:function(e){r.sum({endDate:n.endOf("day").format(s),startDate:t.format(s),name:"executed-decision-elements"},l(e))},executedPrevious:function(e){r.sum({endDate:i.format(s),startDate:a.format(s),name:"executed-decision-elements"},l(e))},chartExecuted:function(e){r.byInterval({interval:o.interval,endDate:n.endOf("day").format(s),startDate:t.format(s),name:"executed-decision-elements",aggregateByReporter:!0},e)}},function(e,n){if(o.loading=!1,e)throw e;n.chartExecuted.reverse(),o.data=n,o.executedHeat=n.executedCurrent>n.executedPrevious?"glyphicon-arrow-up":n.executedCurrent<n.executedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right"})}),o.translate=function(e,n){return t.instant(e,n)}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../utils":89}],86:[function(n,t,e){(function(e){"use strict";var c="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,l=n("./../utils").resultsCb,d=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==e?e["camunda-bpm-sdk-js"]:null).utils.series;t.exports=["camAPI","$scope","$translate",function(e,o,t){o.encodeURIComponent=encodeURIComponent,o.data={};var r=e.resource("metrics");o.loading=!1,o.colors=["#F39A32","#1F89B1"],o.selectionInfo={},o.selectionChanged=function(e){o.selectionInfo=e},o.$watch("metricsPeriod",function(){o.selectionInfo={},o.loading=!0;var n=c(),t=n.clone().subtract(1,o.metricsPeriod),i=t.clone(),a=i.clone().subtract(1,o.metricsPeriod);switch(o.interval=900,o.metricsPeriod){case"week":o.interval=2700;break;case"month":o.interval=12600}var s="YYYY-MM-DD[T]HH:mm:ss.000ZZ";d({startedCurrent:function(e){r.sum({endDate:n.endOf("day").format(s),startDate:t.format(s),name:"activity-instance-start"},l(e))},startedPrevious:function(e){r.sum({endDate:i.format(s),startDate:a.format(s),name:"activity-instance-start"},l(e))},endedCurrent:function(e){r.sum({endDate:n.endOf("day").format(s),startDate:t.format(s),name:"activity-instance-end"},l(e))},endedPrevious:function(e){r.sum({endDate:i.format(s),startDate:a.format(s),name:"activity-instance-end"},l(e))},chartStarted:function(e){r.byInterval({interval:o.interval,endDate:n.endOf("day").format(s),startDate:t.format(s),name:"activity-instance-start",aggregateByReporter:!0},e)},chartEnded:function(e){r.byInterval({interval:o.interval,endDate:n.endOf("day").format(s),startDate:t.format(s),name:"activity-instance-end",aggregateByReporter:!0},e)}},function(e,n){if(o.loading=!1,e)throw e;n.chartStarted.reverse(),n.chartEnded.reverse(),o.data=n,o.startedHeat=n.startedCurrent>n.startedPrevious?"glyphicon-arrow-up":n.startedCurrent<n.startedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right",o.endedHeat=n.endedCurrent>n.endedPrevious?"glyphicon-arrow-up":n.endedCurrent<n.endedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right"})}),o.translate=function(e,n){return t.instant(e,n)}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../utils":89}],87:[function(n,t,e){(function(e){"use strict";var c="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,l=n("./../utils").resultsCb,d=("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==e?e["camunda-bpm-sdk-js"]:null).utils.series;t.exports=["camAPI","$scope","$translate",function(e,o,t){o.encodeURIComponent=encodeURIComponent,o.data={};var r=e.resource("metrics");o.loading=!1,o.colors=["#F39A32","#1F89B1"],o.selectionInfo={},o.selectionChanged=function(e){o.selectionInfo=e},o.$watch("metricsPeriod",function(){o.selectionInfo={},o.loading=!0;var n=c(),t=n.clone().subtract(1,o.metricsPeriod),i=t.clone(),a=i.clone().subtract(1,o.metricsPeriod);switch(o.interval=900,o.metricsPeriod){case"week":o.interval=2700;break;case"month":o.interval=12600}var s="YYYY-MM-DD[T]HH:mm:ss.000ZZ";d({successfulCurrent:function(e){r.sum({endDate:n.endOf("day").format(s),startDate:t.format(s),name:"job-successful"},l(e))},successfulPrevious:function(e){r.sum({endDate:i.format(s),startDate:a.format(s),name:"job-successful"},l(e))},failedCurrent:function(e){r.sum({endDate:n.endOf("day").format(s),startDate:t.format(s),name:"job-failed"},l(e))},failedPrevious:function(e){r.sum({endDate:i.format(s),startDate:a.format(s),name:"job-failed"},l(e))},chartSuccessful:function(e){r.byInterval({interval:o.interval,endDate:n.endOf("day").format(s),startDate:t.format(s),name:"job-successful",aggregateByReporter:!0},e)},chartFailed:function(e){r.byInterval({interval:o.interval,endDate:n.endOf("day").format(s),startDate:t.format(s),name:"job-failed",aggregateByReporter:!0},e)}},function(e,n){if(o.loading=!1,e)throw e;n.chartSuccessful.reverse(),n.chartFailed.reverse(),o.data=n,o.successfulHeat=n.successfulCurrent>n.successfulPrevious?"glyphicon-arrow-up":n.successfulCurrent<n.successfulPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right",o.failedHeat=n.failedCurrent>n.failedPrevious?"glyphicon-arrow-up":n.failedCurrent<n.failedPrevious?"glyphicon-arrow-up":"glyphicon-arrow-right"})}),o.translate=function(e,n){return t.instant(e,n)}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../utils":89}],88:[function(t,i,e){(function(e){"use strict";var n=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).module("cockpit.plugin.dashboard.metrics",[]);n.config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.dashboard.metrics",{id:"executed-activity-instances",label:"PLGN_MTRCS_EXECUTED_ACTIVITY_INSTANCES",url:window.$("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/dashboard-metrics/executed-activity-instances/template.html",controller:t("./executed-activity-instances/controller"),priority:10}),e.registerDefaultView("cockpit.dashboard.metrics",{id:"evaluated-decision-instances",label:"PLGN_MTRCS_EXECUTED_DECISION_INSTANCES",url:window.$("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/dashboard-metrics/evaluated-decision-instances/template.html",controller:t("./evaluated-decision-instances/controller"),priority:20}),e.registerDefaultView("cockpit.dashboard.metrics",{id:"executed-jobs",label:"PLGN_MTRCS_EXECUTED_JOBS",url:window.$("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/dashboard-metrics/executed-jobs/template.html",controller:t("./executed-jobs/controller"),priority:30})}]),i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./evaluated-decision-instances/controller":85,"./executed-activity-instances/controller":86,"./executed-jobs/controller":87}],89:[function(e,n,t){(function(e){"use strict";var i=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).isArray;n.exports={resultsCb:function(t){return function(e,n){if(e)return t(e);t(null,i(n.result)?function(e){var n={};return e.forEach(function(e){n[e.timestamp]?n[e.timestamp].value+=e.value:n[e.timestamp]=e}),Object.keys(n).map(function(e){return n[e]})}(n.result):n.result)}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<button ng-if="Deploy.isFileUploadSupported" ng-click="Deploy.open()" class="deploy-resource ng-scope btn btn-link">\n  <span class="glyphicon glyphicon-open"></span>{{ \'PLGN_DPLY_DEPLOY\' | translate }}\n</button>\n',controller:"CamDeployController as Deploy",scope:{onDeployed:"&camDeploy"}}}},{}],91:[function(e,n,t){"use strict";n.exports=["$scope","$uibModal","isFileUploadSupported",function(e,n,t){this.isFileUploadSupported=t(),this.open=function(){n.open({template:'\x3c!-- EE # src/main/resources-plugin/cockpit/deployment/app/controllers/modal.html --\x3e\n<div class="modal-header row">\n  <div class="col-xs-4">\n    <h3 class="modal-title">{{ \'PLGN_DPLY_MODAL_DEPLOY\' | translate }}</h3>\n  </div>\n\n  <div class="col-xs-8 text-right">\n    <div class="form-control-static">\n      {{ \'PLGN_DPLY_MODAL_UPLOAD_FILES\' | translate }}\n      <input type="file" multiple cam-file="Modal.onFileInputChange(files)" style="display: inline"/>\n    </div>\n  </div>\n</div>\n\n<div class="deployment-modal modal-body">\n  <div class="help-block">\n    {{ \'PLGN_DPLY_MODAL_PLAYING_WITH\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.<br/>\n    {{ \'PLGN_DPLY_MODAL_NEW_DEPLOYMENT\' | translate }}\n  </div>\n  <div class="deployment-name">\n    <label for="new-deployment-name">{{ \'PLGN_DPLY_MODAL_DEPLOYMENT_NAME\' | translate }}</label>\n    <div>\n      <input type="text"\n             id="new-deployment-name"\n             ng-model="Modal.deploymentName"\n             class="form-control" />\n    </div>\n  </div>\n  <div class="deployment-tenant-id">\n    <label for="new-deployment-tenant-id">{{ \'PLGN_DPLY_MODAL_TENANT_ID\' | translate }}</label>\n    <div>\n      <input type="text"\n             id="new-deployment-tenant-id"\n             ng-model="Modal.tenantId"\n             class="form-control" />\n    </div>\n  </div>\n  <ul class="list-unstyled" ng-if="Modal.files && Modal.files.length > 0">\n    <li class="deployment-file" ng-repeat="entry in Modal.files">\n      <h4>\n        {{entry.file.name}}\n      </h4>\n    </li>\n  </ul>\n</div>\x3c!-- .modal-body --\x3e\n\n<div class="modal-footer row">\n  <div class="col-xs-12 text-right">\n    <button class="btn btn-link"\n            ng-click="Modal.cancel()">{{ \'PLGN_DPLY_MODAL_CANCEL\' | translate }}</button>\n\n    <button class="btn btn-primary"\n            ng-disabled="!Modal.canDeploy()"\n            ng-click="Modal.deploy()">{{ \'PLGN_DPLY_MODAL_DEPLOY\' | translate }}</button>\n  </div>\n</div>\n\x3c!-- EE / src/main/resources-plugin/cockpit/deployment/app/controllers/modal.html --\x3e\n',controller:"DeploymentModalController as Modal",size:"lg"}).result.then(e.onDeployed).catch(function(){})}}]},{}],92:[function(e,n,t){"use strict";function i(e,n,t,i,a,s){this.$modalInstance=e,this.upload=n,this.Uri=t,this.Notifications=i,this.getDeploymentUrl=a,this.translate=s}n.exports=["$uibModalInstance","upload","Uri","Notifications","getDeploymentUrl","$translate",i],i.prototype.onFileInputChange=function(e){this.files=this.files||[],this.files=this.files.concat(e)},i.prototype.cancel=function(){this.$modalInstance.dismiss()},i.prototype.canDeploy=function(){return this.files&&0<this.files.length&&this.deploymentName},i.prototype.deploy=function(){var e={"deployment-name":this.deploymentName,"deployment-source":"cockpit"};this.tenantId&&(e["tenant-id"]=this.tenantId),this.upload(this.Uri.appUri("engine://engine/:engine/deployment/create"),this.files,e).then(function(e){this.Notifications.addMessage({status:this.translate.instant("PLGN_DPLY_DEPLOYMENT_SUCCESSFUL"),unsafe:!0,message:this.translate.instant("PLGN_DPLY_RESOURCE_UPDATED")+'<a href="'+this.getDeploymentUrl(e)+'">'+this.translate.instant("PLGN_DPLY_SEE_DEPLOYMENT")+"</a>"}),this.$modalInstance.close()}.bind(this)).catch(function(e){var n=JSON.parse(e.target.responseText).message;this.Notifications.addError({status:this.translate.instant("PLGN_DPLY_DEPLOYMENT_FAILED"),message:this.translate.instant("PLGN_DPLY_RESOURCE_NOT_UPDATED")+n,exclusive:!0})}.bind(this))}},{}],93:[function(r,c,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=n.module("cockpit.plugin.deployment",[t.name]),a=r("./components/cam-deploy");i.directive("camDeploy",a);var s=r("./controllers/cam-deploy-controller");i.controller("CamDeployController",s);var o=r("./controllers/deployment-modal");i.controller("DeploymentModalController",o),c.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/cam-deploy":90,"./controllers/cam-deploy-controller":91,"./controllers/deployment-modal":92}],94:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.plugin.drd.dashboard",{id:"drd-dashboard",label:"PLGN_DRD_DASHBOARD",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/drd/dashboard.html",controller:["$scope","localConf","$translate",function(n,t,e){var i;n.headColumns=[{class:"name",request:"name",sortable:!0,content:e.instant("PLGN_DRD_NAME")},{class:"tenant-id",request:"tenantId",sortable:!0,content:e.instant("PLGN_DRD_TENANT_ID_COL")}];n.sortObj=(i={sortBy:"name",sortOrder:"asc",sortReverse:!1},t.get("sortDRDTab",i)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(e){t.set("sortDRDTab",e)}(e),n.sortObj=e}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],95:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./dashboard"),i=n.module("cockpit.plugin.drd.dashboard",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard":94}],96:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'\x3c!-- # EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html --\x3e\n<div cam-hover-area>\n  <dl class="process-information">\n    <dt>{{ \'PLGN_DRD_DEFINITION_VERSION\' | translate }}</dt>\n    <dd drd-def-versions="DrdDefSidebar.definition"\n        class="definition-version">\n    </dd>\n\n    <dt cam-widget-clipboard="DrdDefSidebar.definition.id"\n        cam-hoverable-title="definition-id">{{ \'PLGN_DRD_DEFINITION_ID\' | translate }}</dt>\n    <dd cam-hover-trigger="definition-id">{{ DrdDefSidebar.definition.id }}</dd>\n\n    <dt cam-widget-clipboard="DrdDefSidebar.definition.key"\n        cam-hoverable-title="definition-key">{{ \'PLGN_DRD_DEFINITION_KEY\' | translate }}</dt>\n    <dd class="definition-key"\n        cam-hover-trigger="definition-key">{{ DrdDefSidebar.definition.key }}</dd>\n\n    <dt>{{ \'PLGN_DRD_DEFINITION_NAME\' | translate }}</dt>\n    <dd class="definition-name"\n        ng-if="DrdDefSidebar.shouldDisplayName()">{{ DrdDefSidebar.definition.name }}</dd>\n    <dd class="definition-name"\n        ng-if="!DrdDefSidebar.shouldDisplayName()"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt ng-if="DrdDefSidebar.definition.tenantId"\n        cam-widget-clipboard="DrdDefSidebar.definition.tenantId"\n        cam-hoverable-title="tenant-id">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="DrdDefSidebar.definition.tenantId" cam-hover-trigger="tenant-id">{{ DrdDefSidebar.definition.tenantId }}</dd>\n\n    <dt ng-if="!DrdDefSidebar.definition.tenantId">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="!DrdDefSidebar.definition.tenantId"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt cam-widget-clipboard="DrdDefSidebar.definition.deploymentId"\n        cam-hoverable-title="deployment-id">{{ \'PLGN_DRD_DEPLOYMENT_ID\' | translate }}</dt>\n    <dd class="deployment-id"\n        cam-hover-trigger="deployment-id">\n      <span drd-deployment-link="DrdDefSidebar.definition"></span>\n    </dd>\n  </dl>\n</div>\n\x3c!-- / EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html --\x3e\n',scope:{definition:"=drdDefSidebar"},controller:"DrdDefSidebarController as DrdDefSidebar"}}},{}],97:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<div cam-tabs="DrdDefTabs.providerParams" tabs-api="DrdDefTabs.tabsApi">\n</div>\n',controller:"DrdDefTabsController as DrdDefTabs",scope:{definition:"=drdDefTabs"}}}},{}],98:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'\x3c!-- # EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-toolbar.html --\x3e\n<div cam-toolbar="DrdDefToolbar.providers" vars="{definition: definition}"></div>\n\x3c!-- / EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-toolbar.html --\x3e\n',scope:{definition:"=drdDefToolbar"},Controller:"DrdDefToolbarController as DrdDefToolbar"}}},{}],99:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<div cam-widget-loader\n     loading-state="{{DrdDefVersions.loadingState}}"\n     text-error="{{DrdDefVersions.loadingError}}">\n  <div uib-dropdown class="dropdown" ng-if="DrdDefVersions.versions.length > 1">\n    <a href\n       uib-dropdown-toggle class="dropdown-toggle">\n      {{ DrdDefVersions.definition.version }}\n      <span class="caret"></span>\n    </a>\n\n    <ul uib-dropdown-menu class="dropdown-menu">\n      <li ng-repeat="definition in DrdDefVersions.versions">\n        <a ng-href="#/decision-requirement/{{ definition.id }}">\n          {{ definition.version }}\n        </a>\n      </li>\n    </ul>\n  </div>\n\n  <span ng-if="DrdDefVersions.versions.length === 1">\n    {{ DrdDefVersions.definition.version }}\n  </span>\n</div>\n',controller:"DrdDefVersionsController as DrdDefVersions",scope:{definition:"=drdDefVersions"}}}},{}],100:[function(e,n,t){"use strict";function i(e,n){n(e,this,["definition"])}n.exports=["$scope","exposeScopeProperties",i],i.prototype.shouldDisplayName=function(){var e=this.definition;return e.name&&e.name!==e.key}},{}],101:[function(e,n,t){"use strict";var i=e("../plugin-apis/tabs-api");n.exports=["$scope",function(e){this.providerParams={component:"cockpit.drd.definition.tab"},this.tabsApi=i(e)}]},{"../plugin-apis/tabs-api":108}],102:[function(e,n,t){"use strict";n.exports=["Views",function(e){this.providers=e.getProviders({component:"cockpit.drd.definition.action"})}]},{}],103:[function(e,n,t){"use strict";n.exports=["$scope","drdDefinition","exposeScopeProperties",function(e,n,t){t(e,this,["definition"]),this.loadingState="LOADING";var i={key:e.definition.key,sortBy:"version",sortOrder:"desc"};e.definition.tenantId?i.tenantIdIn=e.definition.tenantId:i.withoutTenantId=!0;n.getAllVersions(i).then(function(e){this.loadingState="LOADED",this.versions=e}.bind(this)).catch(function(e){throw this.loadingState="ERROR",this.loadingError=e.message,e}.bind(this))}]},{}],104:[function(e,n,t){"use strict";function i(e,n,t,i){this.page=n,this.definition=e,this.rootScope=t,this.overlayProviderParams={component:"cockpit.drd.definition.overlay"},this.translate=i,this.init()}n.exports=["definition","page","$rootScope","$translate",i],i.prototype.init=function(){var e=this.definition;this.rootScope.showBreadcrumbs=!0,this.page.breadcrumbsClear(),this.page.breadcrumbsAdd([{label:this.translate.instant("PLGN_DRD_DECISIONS"),href:"#/decisions"},{type:"decisionRequirement",label:e.name||e.key||e.id,href:"#/decision-requirement/"+e.id}]),this.page.titleSet([e.name||e.key||e.id,this.translate.instant("PLGN_DRD_DEFINITION_VIEW")].join(" | "))}},{}],105:[function(v,y,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=v("./tabs"),a=v("../drd-common"),s=v("./overlay"),o=v("./route.config.js"),r=v("./controllers/drd-definition"),c=v("./controllers/drd-def-toolbar"),l=v("./controllers/drd-def-sidebar"),d=v("./controllers/drd-def-tabs"),u=v("./controllers/drd-def-versions"),p=v("./components/drd-def-sidebar"),f=v("./components/drd-def-toolbar"),g=v("./components/drd-def-tabs"),h=v("./components/drd-def-versions"),m=n.module("cockpit.plugin.drd.definition",[t.name,i.name,a.name,s.name]);m.config(o),m.controller("DrdDefinitionController",r),m.controller("DrdDefToolbarController",c),m.controller("DrdDefSidebarController",l),m.controller("DrdDefTabsController",d),m.controller("DrdDefVersionsController",u),m.directive("drdDefSidebar",p),m.directive("drdDefToolbar",f),m.directive("drdDefTabs",g),m.directive("drdDefVersions",h),y.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../drd-common":131,"./components/drd-def-sidebar":96,"./components/drd-def-tabs":97,"./components/drd-def-toolbar":98,"./components/drd-def-versions":99,"./controllers/drd-def-sidebar":100,"./controllers/drd-def-tabs":101,"./controllers/drd-def-toolbar":102,"./controllers/drd-def-versions":103,"./controllers/drd-definition":104,"./overlay":106,"./route.config.js":109,"./tabs":116}],106:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./view-provider.config"),i=n.module("cockpit.plugin.drd.definition.overlay",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":107}],107:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.drd.definition.overlay",{id:"drd-definition-statistics",template:'<div drd-stats-overlay="diagramOverlayApi.getStatistics()"></div>'})}]},{}],108:[function(e,n,t){"use strict";n.exports=function(e){return{getDefinition:function(){return e.definition}}}},{}],109:[function(t,i,e){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,a=t("camunda-bpm-webapp/ui/common/scripts/util/routeUtil");i.exports=["$routeProvider",function(e){e.when("/decision-requirement/:id",{redirectTo:function(e,n,t){var i=n+"/history";return a.redirectTo(i,t,!0)}}).when("/decision-requirement/:id/history",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/drd/definition.html",authentication:"required",reloadOnSearch:!1,controller:"DrdDefinitionController as DrdDefinition",resolve:{definition:["$route","drdDefinition",function(e,n){return n.getDefinition(e.current.params.id)}]}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/routeUtil":6}],110:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=s("./view-provider.config"),a=n.module("cockpit.plugin.drd.definition.tabs.decision-instances",[t.name]);a.config(i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":111}],111:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.drd.definition.tab",{id:"decision-instance-table",label:"PLGN_DRD_DECISION_INSTANCES",template:'<div drd-decision-instances="tabsApi.getDefinition()"></div>',priority:500})}]},{}],112:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'\x3c!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html --\x3e\n<div drd-decision-table="Instances.definition"\n     on-instances-loaded="Instances.onInstancesLoaded(instances)"\n     process-params="Instances.processParams(params)"\n     register-on-load="Instances.registerOnLoadFn(loadInstances)">\n  \n  <table class="decision-instances cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="Instances.headColumns"\n           on-sort-change="Instances.onSortChange(Instances.sorting)"\n           default-sort="Instances.sorting">\n    </thead>\n\n    <tbody>\n    <tr ng-repeat="decisionInstance in Instances.instances">\n      <td class="drd-instance"\n          cam-widget-clipboard="decisionInstance.id">\n        <a ng-href="#/decision-requirement/{{ Instances.definition.id }}/instance/{{ decisionInstance.id }}"\n           title="{{ decisionInstance.id }}">\n          {{ decisionInstance.id }}\n        </a>\n      </td>\n\n      <td class="evaluation-time"\n          cam-widget-clipboard="decisionInstance.evaluationTime">\n        {{ decisionInstance.evaluationTime | camDate }}\n      </td>\n\n      <td class="decision-definition"\n          cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n        <a ng-href="#/decision-definition/{{decisionInstance.decisionDefinitionId}}">\n          {{decisionInstance.decisionDefinitionKey}}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.processDefinitionKey"\n          cam-widget-clipboard="decisionInstance.processDefinitionKey">\n        <a ng-href="#/process-definition/{{ decisionInstance.processDefinitionId }}/history">\n          {{ decisionInstance.processDefinitionKey }}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.caseDefinitionKey"\n          cam-widget-clipboard="decisionInstance.caseDefinitionKey">\n        <span decision-instance-case-definition-link="decisionInstance"></span>\n      </td>\n\n      <td class="definition-key"\n          ng-if="!decisionInstance.processDefinitionKey && !decisionInstance.caseDefinitionKey">\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.processInstanceId"\n          cam-widget-clipboard="decisionInstance.processInstanceId">\n        <a ng-href="#/process-instance/{{decisionInstance.processInstanceId}}/history?activityInstanceIds={{decisionInstance.activityInstanceId}}&activityIds={{decisionInstance.activityId}}">\n          {{ decisionInstance.processInstanceId }}\n        </a>\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.caseInstanceId"\n          cam-widget-clipboard="decisionInstance.caseInstanceId">\n        <span decision-instance-case-instance-link="decisionInstance"></span>\n      </td>\n\n      <td class="instance-id"\n          ng-if="!decisionInstance.processInstanceId && !decisionInstance.caseInstanceId">\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n</div>\n\x3c!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html --\x3e\n',controller:"DrdInstancesController as Instances",scope:{definition:"=drdInstances"}}}},{}],113:[function(e,i,n){(function(e){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;function n(e,n,t,i){n(e,this,["definition"]),this.translate=t,this.localConf=i,this.sorting=this._loadLocal({sortBy:"evaluationTime",sortOrder:"asc"}),this.headColumns=[{class:"drd-instance",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_DECISION_REQUIREMENTS_DEFINITION_INSTANCE")},{class:"evaluation-time",request:"evaluationTime",sortable:!0,content:this.translate.instant("PLGN_DRD_EVALUATION_TIME")},{class:"decision-definition",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_DECISION_DEFINITION")},{class:"definition-key",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_DEFINITION")},{class:"instance-id",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_INSTANCE_ID")}]}i.exports=["$scope","exposeScopeProperties","$translate","localConf",n],n.prototype._loadLocal=function(e){return this.localConf.get("sortDrdInstancesTab",e)},n.prototype._saveLocal=function(e){return this.localConf.set("sortDrdInstancesTab",e)},n.prototype.onSortChange=function(e){this.sorting=e,this._saveLocal(this.sorting),this.loadInstances()},n.prototype.processParams=function(e){var n={rootDecisionInstancesOnly:!0,sortBy:this.sorting.sortBy,sortOrder:this.sorting.sortOrder};return t.extend(n,e)},n.prototype.onInstancesLoaded=function(e){this.instances=e},n.prototype.registerOnLoadFn=function(e){this.loadInstances=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],114:[function(r,c,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=r("./components/drd-instances"),a=r("./controllers/drd-instances"),s=r("./view-provider.config"),o=n.module("cockpit.plugin.drd.definition.tabs.drd-instances",[t.name]);o.directive("drdInstances",i),o.controller("DrdInstancesController",a),o.config(s),c.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/drd-instances":112,"./controllers/drd-instances":113,"./view-provider.config":115}],115:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.drd.definition.tab",{id:"drd-instance-table",label:"PLGN_DRD_DECISION_REQUIREMENTS_DEFINITION_INSTANCES",template:'<div drd-instances="tabsApi.getDefinition()"></div>',priority:1e3})}]},{}],116:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./decision-instances"),i=a("./drd-instances");s.exports=n.module("cockpit.plugin.drd.definition.tabs",[i.name,t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./decision-instances":110,"./drd-instances":114}],117:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<a ng-href="#/case-definition/{{ InstanceLink.instance.caseDefinitionId }}?{{ InstanceLink.getCaseActivitySearchQuery() }}">\n  {{ InstanceLink.instance.caseDefinitionKey}}\n</a>\n',controller:"DecisionInstanceCaseLinkController as InstanceLink",scope:{instance:"=decisionInstanceCaseDefinitionLink"}}}},{}],118:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<a ng-href="#/case-instance/{{ InstanceLink.instance.caseInstanceId }}?{{ InstanceLink.getCaseActivitySearchQuery() }}">\n  {{ InstanceLink.instance.caseInstanceId }}\n</a>\n',controller:"DecisionInstanceCaseLinkController as InstanceLink",scope:{instance:"=decisionInstanceCaseInstanceLink"}}}},{}],119:[function(e,n,t){n.exports=function(){return{restrict:"A",template:'\x3c!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html --\x3e\n<div drd-decision-table="DrdDecisionInstances.definition"\n     on-instances-loaded="DrdDecisionInstances.onInstancesLoaded(instances)"\n     process-params="DrdDecisionInstances.processParams(params)"\n     register-on-load="DrdDecisionInstances.registerOnLoadFn(loadInstances)">\n\n\n  <table class="decision-instances cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="DrdDecisionInstances.headColumns"\n           on-sort-change="DrdDecisionInstances.onSortChange(DrdDecisionInstances.sorting)"\n           default-sort="DrdDecisionInstances.sorting">\n    </thead>\n    <tbody>\n    <tr ng-repeat="decisionInstance in DrdDecisionInstances.instances">\n      <td class="instance-id"\n          cam-widget-clipboard="decisionInstance.id">\n        <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n          {{ decisionInstance.id }}\n        </a>\n      </td>\n\n      <td class="evaluation-time"\n          cam-widget-clipboard="decisionInstance.evaluationTime">\n        {{ decisionInstance.evaluationTime | camDate }}\n      </td>\n\n      <td class="decision-definition"\n          cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n        <a ng-href="#/decision-definition/{{decisionInstance.decisionDefinitionId}}">\n          {{decisionInstance.decisionDefinitionKey}}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.processDefinitionKey"\n          cam-widget-clipboard="decisionInstance.processDefinitionKey">\n        <a ng-href="#/process-definition/{{ decisionInstance.processDefinitionId }}/history">\n          {{ decisionInstance.processDefinitionKey }}\n        </a>\n      </td>\n\n      <td class="definition-key"\n          ng-if="decisionInstance.caseDefinitionKey"\n          cam-widget-clipboard="decisionInstance.caseDefinitionKey">\n        <span decision-instance-case-definition-link="decisionInstance"></span>\n      </td>\n\n      <td class="definition-key"\n          ng-if="!decisionInstance.processDefinitionKey && !decisionInstance.caseDefinitionKey">\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.processInstanceId"\n          cam-widget-clipboard="decisionInstance.processInstanceId">\n        <a ng-href="#/process-instance/{{decisionInstance.processInstanceId}}/history?activityInstanceIds={{decisionInstance.activityInstanceId}}&activityIds={{decisionInstance.activityId}}">\n          {{ decisionInstance.processInstanceId }}\n        </a>\n      </td>\n\n      <td class="instance-id"\n          ng-if="decisionInstance.caseInstanceId"\n          cam-widget-clipboard="decisionInstance.caseInstanceId">\n        <span decision-instance-case-instance-link="decisionInstance"></span>\n      </td>\n\n      <td class="instance-id"\n          ng-if="!decisionInstance.processInstanceId && !decisionInstance.caseInstanceId">\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n</div>\n\x3c!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances.html --\x3e\n',controller:"DrdDecisionInstancesController as DrdDecisionInstances",scope:{definition:"=drdDecisionInstances",processParams:"&"}}}},{}],120:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<div cam-searchable-area\n     on-search-change="DecisionTable.onSearchChange(query, pages)"\n     loading-error="DecisionTable.loadingError"\n     loading-state="DecisionTable.loadingState"\n     config="DecisionTable.config"\n     array-types="DecisionTable.arrayTypes"\n     text-empty="{{ \'PLGN_DRD_NOT_FOUND\' | translate }}"\n     total="DecisionTable.count"\n     storage-group="\'DRDI\'">\n  <div ng-transclude></div>\n</div>\n',transclude:!0,controller:"DrdDecisionTableController as DecisionTable",scope:{definition:"=drdDecisionTable",onInstancesLoaded:"&",processParams:"&?",registerOnLoad:"&"}}}},{}],121:[function(e,n,t){n.exports=function(){return{restrict:"A",template:'<div class="drd-stats-loader">\n  <div cam-widget-loader loading-state="{{ Diagram.statsLoadingStatus }}"></div>\n</div>\n<div cam-widget-dmn-viewer\n     on-click="Diagram.onClick(element, $event)"\n     on-load="Diagram.onLoad()"\n     control="Diagram.control"\n     disable-loader="true"\n     xml="Diagram.definition.xml"\n     enable-drd-navigation="enableDrdNavigation">\n</div>\n',controller:"DrdDefDiagramController as Diagram",scope:{definition:"=drdDefDiagram",instance:"=?",overlayProviderParams:"=?",enableDrdNavigation:"="}}}},{}],122:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<a ng-href="{{ DeploymentLink.getDeploymentUrl() }}">{{ DeploymentLink.definition.deploymentId }}</a>\n',controller:"DrdDeploymentLinkController as DeploymentLink",scope:{definition:"=drdDeploymentLink"}}}},{}],123:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<div class="drd-overlay">\n  <div view ng-repeat="overlayProvider in Overlay.viewProviders"\n       provider="overlayProvider"\n       vars="Overlay.vars">\n  </div>\n</div>\n',controller:"DrdDiagramOverlayController as Overlay",scope:{statistics:"=",decisionKey:"=",overlayProviderParams:"="}}}},{}],124:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<span class="badge"\n      ng-if="statistics"\n      uib-tooltip="{{ \'PLGN_DRD_EXECUTED_DECISION_DEFINITIONS\' | translate }}"\n      tooltip-placement="top"\n      tooltip-animation="false">\n  {{statistics.evaluations}}\n</span>\n\n',scope:{statistics:"=drdStatsOverlay"}}}},{}],125:[function(e,n,t){"use strict";function i(e,n,t){this.searchWidgetUtils=n,t(e,this,["instance"])}n.exports=["$scope","searchWidgetUtils","exposeScopeProperties",i],i.prototype.getCaseActivitySearchQuery=function(){return this.searchWidgetUtils.getSearchQueryForSearchType("caseActivityIdIn",this.instance.activityId)}},{}],126:[function(e,i,n){(function(e){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;function n(e,n,t,i){n(e,this,["definition"]),this.translate=t,this.localConf=i,this.sorting=this._loadLocal({sortBy:"evaluationTime",sortOrder:"asc"}),this.headColumns=[{class:"drd-instance",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_ID")},{class:"evaluation-time",request:"evaluationTime",sortable:!0,content:this.translate.instant("PLGN_DRD_EVALUATION_TIME")},{class:"decision-definition",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_DECISION_DEFINITION")},{class:"definition-key",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_DEFINITION")},{class:"instance-id",request:"",sortable:!1,content:this.translate.instant("PLGN_DRD_CALLING_INSTANCE_ID")}]}i.exports=["$scope","exposeScopeProperties","$translate","localConf",n],n.prototype._loadLocal=function(e){return this.localConf.get("sortDrdInstancesTab",e)},n.prototype._saveLocal=function(e){return this.localConf.set("sortDrdInstancesTab",e)},n.prototype.onSortChange=function(e){this.sorting=e,this._saveLocal(this.sorting),this.loadInstances()},n.prototype.processParams=function(e){var n={sortBy:this.sorting.sortBy,sortOrder:this.sorting.sortOrder};return t.extend(n,e)},n.prototype.onInstancesLoaded=function(e){this.instances=e},n.prototype.registerOnLoadFn=function(e){this.loadInstances=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,t,n){(function(e){"use strict";var s="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,o=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceId",\n        "value": "PLGN_DRD_SEARCH_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionKeyIn",\n        "value": "PLGN_DRD_SEARCH_DECISION_DEFINITION"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_DRD_SEARCH_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_DRD_SEARCH_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_DRD_SEARCH_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_DRD_SEARCH_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_DRD_SEARCH_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_DRD_SEARCH_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_DRD_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_DRD_SEARCH_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLGN_DRD_SEARCH_EVALUATED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_DRD_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_DRD_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "PLGN_DRD_SEARCH_USER_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_DRD_SEARCH_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_DRD_SEARCH_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_DRD_SEARCH_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_DRD_SEARCH_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_DRD_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_DRD_SEARCH_NOT_VALID",\n    "deleteSearch": "PLGN_DRD_SEARCH_REMOVE_SEARCH",\n    "type": "PLGN_DRD_SEARCH_TYPE",\n    "name": "PLGN_DRD_SEARCH_PROPERTY",\n    "operator": "PLGN_DRD_SEARCH_OPERATOR",\n    "value": "PLGN_DRD_SEARCH_VALUE"\n  }\n}\n');function n(e,n,t,i){this.drdDecisionInstances=n,this.config=s.copy(o);var a=this;s.forEach(a.config.tooltips,function(e,n){a.config.tooltips[n]=i.instant(e)}),a.config.types.map(function(e){return e.id.value=i.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=i.instant(e.value),e})),e}),this.arrayTypes=["activityIdIn","activityInstanceIdIn","decisionDefinitionKeyIn"],t(e,this,["definition","processParams","onInstancesLoaded","registerOnLoad"]),this.registerOnLoad({loadInstances:this.loadInstances.bind(this)})}t.exports=["$scope","drdDecisionInstances","exposeScopeProperties","$translate",n],n.prototype.onSearchChange=function(e,n){return this.params=e,this.pages=n,this.loadInstances()},n.prototype.loadInstances=function(){return this.loadingState="LOADING",this.drdDecisionInstances.getDecisionInstancesForDrd(this.definition.id,this.pages,this.getProcessedParams()).then(function(e){return this.loadingState=0<e.count?"LOADED":"EMPTY",this.count=e.count,this.onInstancesLoaded({instances:e.instances}),e.count}.bind(this)).catch(function(e){throw this.loadingState="ERROR",this.loadingError=e.message,e}.bind(this))},n.prototype.getProcessedParams=function(){return this.processParams({params:this.params})||this.params}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(e,t,n){(function(e){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;t.exports=["$scope","$location","$compile","searchWidgetUtils","search","drdDefinition","Loaders","exposeScopeProperties","drdStatsOverlay",n];var s="decisionDefinitionKeyIn";function n(e,n,t,i,a,s,o,r,c){this.searchWidgetUtils=i,this.search=a,this.drdDefinition=s,this.$scope=e,this.$location=n,this.$compile=t,this.Loaders=o,this.drdStatsOverlay=c,this.control={},r(e,this,["definition","instance","overlayProviderParams"]),e.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),e.$on("resize",this.onCollapseChange.bind(this))}n.prototype.onCollapseChange=function(){this.control.resetZoom()},n.prototype.onLoad=function(){this.addDecisionOpenListener(),this.overlayProviderParams&&(this.addLoadingStatusListener(),this.loadDrdStatistics().then(this.addOverlays.bind(this)))},n.prototype.addLoadingStatusListener=function(){this.statsLoadingStatus="INITIAL",this.Loaders.addStatusListener(this.$scope,function(e){this.statsLoadingStatus=e}.bind(this))},n.prototype.loadDrdStatistics=function(){var n=this.Loaders.startLoading();return this.drdStatsOverlay.getStatistics(this.definition,this.instance).then(function(e){return n(),e}.bind(this)).catch(function(e){throw n(),e})},n.prototype.addOverlays=function(t){this.control.getElements(function(e){return"dmn:Decision"===e.type}).forEach(function(e){var n=this.createOverlayElement(e.id,t);this.control.createBadge(e.id,{html:n})}.bind(this))},n.prototype.createOverlayElement=function(e,n){var t=this.createChildScopeForOverlay(e,n);return this.$compile('<div drd-diagram-overlay statistics="statistics" overlay-provider-params="overlayProviderParams" decision-key="decisionKey"></div>')(t)},n.prototype.createChildScopeForOverlay=function(e,n){var t=this.$scope.$new(!0);return t.overlayProviderParams=this.overlayProviderParams,t.decisionKey=e,t.statistics=n,t},n.prototype.onLocationChange=function(){var e=this.searchWidgetUtils.getActivityIdsFromUrlParams(s,this.search());this.control.clearAllElementsHighlight(),e.forEach(function(e){this.control.highlightElement(e)}.bind(this))},n.prototype.addDecisionOpenListener=function(){this.control.getViewer().getActiveViewer().on("drillDown.click",1500,function(e){return this.getDecisionDefinition(e.element.id).then(this.redirectToDecisionDefinitionPage.bind(this)),!1},this)},n.prototype.getDecisionDefinition=function(e){return this.drdDefinition.getDecisionDefinitionByDrd(e,this.definition)},n.prototype.redirectToDecisionDefinitionPage=function(e){var n="/decision-definition/"+e.id+"/history";this.$location.url(n)},n.prototype.onClick=function(e,n){var t="dmn:Decision"===e.type;this.selectDrdElement(t?e.id:[],t,n.ctrlKey)},n.prototype.selectDrdElement=function(e,n,t){this.updateSearchQuery(e,t),this.updateElementsHighlights(e,t,n)},n.prototype.updateSearchQuery=function(e,n){var t=this.search(),i=this.getUpdatedSearchQuery(t,e,n);this.search.updateSilently(a.extend(t,{searchQuery:JSON.stringify(i)}))},n.prototype.updateElementsHighlights=function(e,n,t){n||this.control.clearAllElementsHighlight(),t&&(n&&this.control.isElementHighlighted(e)?this.control.clearElementHighlight(e):this.control.highlightElement(e))},n.prototype.getUpdatedSearchQuery=function(e,n,t){var i=this.getSearches(e);return t?this.searchWidgetUtils.updateSearchValuesForTypeInCtrlMode(i,s,[].concat(n)):this.searchWidgetUtils.replaceActivitiesInSearchQuery(i,s,[].concat(n))},n.prototype.getSearches=function(e){var n=decodeURI(e.searchQuery||"[]");return JSON.parse(n)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],129:[function(e,n,t){"use strict";function i(e,n,t){this.routeUtil=t,n(e,this,["definition"])}n.exports=["$scope","exposeScopeProperties","routeUtil",i],i.prototype.getDeploymentUrl=function(){var e=this.definition,n=e.deploymentId,t={deployment:n,resourceName:e.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:n}])};return this.routeUtil.redirectTo("#/repository",t,["deployment","resourceName","deploymentsQuery"])}},{}],130:[function(e,n,t){"use strict";var i=e("../plugin-apis/diagram-overlay-api");function a(e,n){this.viewProviders=n.getProviders(e.overlayProviderParams),this.createOverlayApi(e)}n.exports=["$scope","Views",a],a.prototype.createOverlayApi=function(e){e.diagramOverlayApi=i(e),this.vars={read:["diagramOverlayApi"]}}},{"../plugin-apis/diagram-overlay-api":132}],131:[function(_,E,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=_("./controllers/drd-decision-table"),a=_("./controllers/drd-def-diagram"),s=_("./controllers/drd-deployment-link"),o=_("./controllers/drd-decision-instances"),r=_("./controllers/decision-instance-case-link"),c=_("./controllers/drd-diagram-overlay"),l=_("./services/drd-decision-instances"),d=_("./services/drd-definition"),u=_("./services/drd-stats-overlay"),p=_("./components/drd-decision-table"),f=_("./components/drd-def-diagram"),g=_("./components/drd-deployment-link"),h=_("./components/drd-decision-instances"),m=_("./components/decision-instance-case-instance-link"),v=_("./components/decision-instance-case-definition-link"),y=_("./components/drd-diagram-overlay"),b=_("./components/drd-stats-overlay"),I=n.module("cockpit.plugin.drd.drd-common",[t.name]);I.controller("DrdDecisionTableController",i),I.controller("DrdDefDiagramController",a),I.controller("DrdDeploymentLinkController",s),I.controller("DrdDecisionInstancesController",o),I.controller("DecisionInstanceCaseLinkController",r),I.controller("DrdDiagramOverlayController",c),I.factory("drdDecisionInstances",l),I.factory("drdDefinition",d),I.factory("drdStatsOverlay",u),I.directive("drdDecisionTable",p),I.directive("drdDefDiagram",f),I.directive("drdDeploymentLink",g),I.directive("drdDecisionInstances",h),I.directive("decisionInstanceCaseInstanceLink",m),I.directive("decisionInstanceCaseDefinitionLink",v),I.directive("drdDiagramOverlay",y),I.directive("drdStatsOverlay",b),E.exports=I}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/decision-instance-case-definition-link":117,"./components/decision-instance-case-instance-link":118,"./components/drd-decision-instances":119,"./components/drd-decision-table":120,"./components/drd-def-diagram":121,"./components/drd-deployment-link":122,"./components/drd-diagram-overlay":123,"./components/drd-stats-overlay":124,"./controllers/decision-instance-case-link":125,"./controllers/drd-decision-instances":126,"./controllers/drd-decision-table":127,"./controllers/drd-def-diagram":128,"./controllers/drd-deployment-link":129,"./controllers/drd-diagram-overlay":130,"./services/drd-decision-instances":133,"./services/drd-definition":134,"./services/drd-stats-overlay":135}],132:[function(e,n,t){"use strict";n.exports=function(n){return{getStatistics:function(){return n.statistics.filter(function(e){return e.decisionDefinitionKey===n.decisionKey})[0]}}}},{}],133:[function(e,n,t){(function(e){"use strict";var o="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["$q","camAPI",function(a,e){var s=e.resource("history");return{getDecisionInstancesForDrd:function(e,t,n){var i=o.extend({decisionRequirementsDefinitionId:e},n);return s.decisionInstanceCount(i).then(function(e){var n=e.count;return n>(t.current-1)*t.size?a.all({count:n,instances:function(e,n){var t=o.extend({firstResult:(n.current-1)*n.size,maxResults:n.size},e);return s.decisionInstance(t)}(i,t)}):e})}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],134:[function(e,n,t){"use strict";n.exports=["$q","camAPI",function(a,e){var n=e.resource("drd"),s=e.resource("decision-definition");return{getDefinition:function(e){return a.all({definition:n.get(e),xml:n.getXML(e)}).then(function(e){return e.definition.xml=e.xml.dmnXml,e.definition})},getAllVersions:function(e){return n.list(e)},getDecisionDefinitionByDrd:function(t,i){return s.list({key:t,decisionRequirementsDefinitionId:i.id}).then(function(e){var n=e[0];return n||a.reject({message:"Could not find decision definition for drd id "+i.id+" and key "+t})})}}}]},{}],135:[function(e,n,t){"use strict";n.exports=["camAPI",function(e){var i=e.resource("history");return{getStatistics:function(e,n){var t;n&&(t={decisionInstanceId:n.id});return i.drdStatistics(e.id,t)}}}]},{}],136:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./definition"),i=s("./instance"),a=s("./dashboard");o.exports=n.module("cockpit.plugin.drd",[t.name,i.name,a.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard":95,"./definition":105,"./instance":142}],137:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'\x3c!-- # EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html --\x3e\n<div cam-hover-area>\n  <dl class="process-information">\n    <dt>{{ \'PLGN_DRD_DEFINITION_VERSION\' | translate }}</dt>\n    <dd class="definition-version">\n      <span>\n        {{ DrdSidebar.definition.version }}\n      </span>\n    </dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.instance.id"\n        cam-hoverable-title="instance-id">{{ \'PLGN_DRD_ROOT_INSTANCE_ID\' | translate }}</dt>\n    <dd cam-hover-trigger="instance-id">\n      <a ng-href="#/decision-instance/{{ DrdSidebar.instance.id }}">\n        {{ DrdSidebar.instance.id }}\n      </a>\n    </dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.definition.id"\n        cam-hoverable-title="definition-id">{{ \'PLGN_DRD_DEFINITION_ID\' | translate }}</dt>\n    <dd cam-hover-trigger="definition-id">\n      <a ng-href="#/decision-requirement/{{ DrdSidebar.definition.id }}">\n        {{ DrdSidebar.definition.id }}\n      </a>\n    </dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.definition.key"\n        cam-hoverable-title="definition-key">{{ \'PLGN_DRD_DEFINITION_KEY\' | translate }}</dt>\n    <dd class="definition-key"\n        cam-hover-trigger="definition-key">{{ DrdSidebar.definition.key }}</dd>\n\n    <dt>{{ \'PLGN_DRD_DEFINITION_NAME\' | translate }}</dt>\n    <dd class="definition-name"\n        ng-if="DrdSidebar.shouldDisplayName()">{{ DrdSidebar.definition.name }}</dd>\n    <dd class="definition-name"\n        ng-if="!DrdSidebar.shouldDisplayName()"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt ng-if="DrdSidebar.instance.tenantId"\n        cam-widget-clipboard="DrdSidebar.instance.tenantId"\n        cam-hoverable-title="tenant-id">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="DrdSidebar.instance.tenantId" cam-hover-trigger="tenant-id">{{ DrdSidebar.instance.tenantId }}</dd>\n\n    <dt ng-if="!DrdSidebar.instance.tenantId">{{ \'PLGN_DRD_TENANT_ID\' | translate }}</dt>\n    <dd class="tenant-id"\n        ng-if="!DrdSidebar.instance.tenantId"><span class="null-value">{{ \'PLGN_DRD_NULL\' | translate }}</span></dd>\n\n    <dt cam-widget-clipboard="DrdSidebar.definition.deploymentId"\n        cam-hoverable-title="deployment-id">{{ \'PLGN_DRD_DEPLOYMENT_ID\' | translate }}</dt>\n    <dd class="deployment-id"\n        cam-hover-trigger="deployment-id">\n      <span drd-deployment-link="DrdSidebar.definition"></span>\n    </dd>\n\n    <dt ng-if="DrdSidebar.instance.processInstanceId"\n        cam-widget-clipboard="DrdSidebar.instance.processInstanceId"\n        cam-hoverable-title="process-id">{{ \'PLGN_DRD_PROCESS_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="DrdSidebar.instance.processInstanceId"\n        class="process-instance-id"\n        cam-hover-trigger="process-id">\n      <a ng-href="#/process-instance/{{ DrdSidebar.instance.processInstanceId }}/history?activityIds={{DrdSidebar.instance.activityId}}">\n        {{ DrdSidebar.instance.processInstanceId }}\n      </a>\n    </dd>\n\n    <dt ng-if="!DrdSidebar.instance.processInstanceId">{{ \'PLGN_DRD_PROCESS_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="!DrdSidebar.instance.processInstanceId"\n        class="process-instance-id">\n      null\n    </dd>\n\n    <dt ng-if="DrdSidebar.instance.caseInstanceId"\n        cam-widget-clipboard="DrdSidebar.instance.caseInstanceId"\n        cam-hoverable-title="case-id">{{ \'PLGN_DRD_CASE_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="DrdSidebar.instance.caseInstanceId"\n        class="case-instance-id"\n        cam-hover-trigger="case-id">\n      <span decision-instance-case-instance-link="DrdSidebar.instance"></span>\n    </dd>\n\n    <dt ng-if="!DrdSidebar.instance.caseInstanceId">{{ \'PLGN_DRD_CASE_INSTANCE_ID\' | translate }}</dt>\n    <dd ng-if="!DrdSidebar.instance.caseInstanceId"\n        class="case-instance-id">\n      null\n    </dd>\n  </dl>\n</div>\n\x3c!-- / EE - src/main/resources-plugin/cockpit/drd/app/components/drd-def-sidebar.html --\x3e\n',controller:"DrdInstanceSidebarController as DrdSidebar",scope:{instance:"=drdInstanceSidebar",definition:"="}}}},{}],138:[function(e,n,t){"use strict";n.exports=function(){return{restrict:"A",template:'<div cam-tabs="InstanceTabs.providerParams" tabs-api="InstanceTabs.tabsApi">\n</div>\n',controller:"DrdInstanceTabsController as InstanceTabs",scope:{definition:"=drdInstanceTabs",instance:"="}}}},{}],139:[function(e,n,t){"use strict";function i(e,n){n(e,this,["definition","instance"])}n.exports=["$scope","exposeScopeProperties",i],i.prototype.shouldDisplayName=function(){var e=this.definition;return e.name&&e.name!==e.key}},{}],140:[function(e,n,t){"use strict";var i=e("../plugin-apis/tabs-api");n.exports=["$scope",function(e){this.providerParams={component:"cockpit.drd.instance.tab"},this.tabsApi=i(e)}]},{"../plugin-apis/tabs-api":145}],141:[function(e,n,t){"use strict";function i(e,n,t,i,a){this.page=t,this.definition=e,this.instance=n,this.rootScope=i,this.overlayProviderParams={component:"cockpit.drd.instance.overlay"},this.translate=a,this.init()}n.exports=["definition","instance","page","$rootScope","$translate",i],i.prototype.init=function(){var e=this.definition,n=this.instance;this.rootScope.showBreadcrumbs=!0,this.page.breadcrumbsClear(),this.page.breadcrumbsAdd([{label:this.translate.instant("PLGN_DRD_DECISIONS"),href:"#/decisions"},{type:"decisionRequirement",label:e.name||e.key||e.id,href:"#/decision-requirement/"+e.id},{type:"decisionRequirementInstance",label:n.id,href:"#/decision-requirement/"+e.id+"/instance/"+n.id+"/history"}]),this.page.titleSet([e.name||e.key||e.id,this.translate.instant("PLGN_DRD_INSTANCE_VIEW")].join(" | "))}},{}],142:[function(g,h,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=g("../drd-common"),a=g("./tabs"),s=g("./overlay"),o=g("./route.config"),r=g("./components/drd-instance-sidebar"),c=g("./components/drd-instance-tabs"),l=g("./services/drd-instance"),d=g("./controllers/drd-instance"),u=g("./controllers/drd-instance-sidebar"),p=g("./controllers/drd-instance-tabs"),f=n.module("cockpit.plugin.drd.instance",[t.name,i.name,a.name,s.name]);f.config(o),f.directive("drdInstanceSidebar",r),f.directive("drdInstanceTabs",c),f.factory("drdInstance",l),f.controller("DrdInstanceController",d),f.controller("DrdInstanceSidebarController",u),f.controller("DrdInstanceTabsController",p),h.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../drd-common":131,"./components/drd-instance-sidebar":137,"./components/drd-instance-tabs":138,"./controllers/drd-instance":141,"./controllers/drd-instance-sidebar":139,"./controllers/drd-instance-tabs":140,"./overlay":143,"./route.config":146,"./services/drd-instance":147,"./tabs":150}],143:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./view-provider.config"),i=n.module("cockpit.plugin.drd.instance.overlay",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":144}],144:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.drd.instance.overlay",{id:"drd-definition-statistics",template:'<div drd-stats-overlay="diagramOverlayApi.getStatistics()"></div>'})}]},{}],145:[function(e,n,t){(function(e){"use strict";var i="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=function(t){return{getDefinition:function(){return t.definition},processParams:function(e){var n={rootDecisionInstanceId:t.instance.id};return i.extend(n,e)}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],146:[function(t,i,e){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,a=t("camunda-bpm-webapp/ui/common/scripts/util/routeUtil");i.exports=["$routeProvider",function(e){e.when("/decision-requirement/:id/instance/:rootId",{redirectTo:function(e,n,t){var i=n+"/history";return a.redirectTo(i,t,!0)}}).when("/decision-requirement/:id/instance/:rootId/history",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/drd/instance.html",authentication:"required",reloadOnSearch:!1,controller:"DrdInstanceController as DrdInstance",resolve:{definition:["$route","drdDefinition",function(e,n){return n.getDefinition(e.current.params.id)}],instance:["$route","drdInstance",function(e,n){return n.getDecisionInstance(e.current.params.rootId)}]}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/routeUtil":6}],147:[function(e,n,t){(function(e){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["$q","camAPI",function(t,e){var i=e.resource("history");return{getDecisionInstance:function(n){return i.decisionInstance({decisionInstanceId:n}).then(function(e){return a.isArray(e)&&0!==e.length?e[0]:t.reject("No decision instance with id "+n)})}}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],148:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=s("./view-provider.config"),a=n.module("cockpit.plugin.drd.instance.tabs.decision-instances",[t.name]);a.config(i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./view-provider.config":149}],149:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.drd.instance.tab",{id:"decision-instance-table",label:"PLGN_DRD_DECISION_INSTANCES",template:'<div drd-decision-instances="tabsApi.getDefinition()" process-params="tabsApi.processParams(params)"></div>'})}]},{}],150:[function(t,i,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;i.exports=n.module("cockpit.plugin.drd.instance.tabs",[t("./decision-instances").name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./decision-instances":148}],151:[function(e,n,t){n.exports=function(){return{restrict:"A",template:'\x3c!-- # EE - src/main/resources-plugin/cockpit/external-tasks/components/external-tasks-history-tab.html --\x3e\n<div external-tasks-tab="Tab.onLoad(pages, activityIds)"\n     process-data="Tab.processData">\n\n  <table class="history-job-log cam-table">\n    <thead sortable-table-head\n                     head-columns="Tab.headColumns"\n                     on-sort-change="Tab.onSortChange(Tab.sorting)"\n                     default-sort="Tab.sorting">\n  </thead>\n    <tbody>\n      <tr ng-repeat="task in Tab.tasks track by task.id">\n        <td class="id"\n            cam-widget-clipboard="task.externalTaskId">{{task.externalTaskId}}</td>\n        <td class="state">{{Tab.getTasksState(task)}}</td>\n        <td class="error-message">\n          <span cam-widget-clipboard="task.errorMessage">\n            <span ng-if="task.failureLog" external-task-error-message-link="task.id" historic="true">\n              <span ng-if="task.errorMessage">{{task.errorMessage}}</span>\n              <i ng-if="!task.errorMessage">{{ \'PLGN_EXT_MESSAGE_NULL\' | translate }}</i>\n            </span>\n          </span>\n        </td>\n        <td class="process-id"\n            ng-show="Tab.isDefinition"\n            cam-widget-clipboard="task.processInstanceId">\n            <a ng-href="#/process-instance/{{task.processInstanceId}}/history?tab=external-tasks-process-instance-history">\n              {{task.processInstanceId}}\n            </a>\n        </td>\n        <td class="activity">\n          <span external-task-activity-link="task.activityId"\n                search-query-type="Tab.isDefinition ? \'activityIdIn\' : null"\n                bpmn-elements="Tab.bpmnElements">\n          </span>\n        </td>\n        <td class="retries">{{task.retries}}</td>\n        <td class="worker-id">{{task.workerId}}</td>\n        <td class="topic">{{task.topicName}}</td>\n        <td class="priority">{{task.priority}}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / EE - src/main/resources-plugin/cockpit/external-tasks/components/external-tasks-history-tab.html --\x3e\n',controller:"ExternalTasksHistoryController as Tab",scope:{resource:"=",processData:"=",isDefinition:"="}}}},{}],152:[function(e,n,t){"use strict";function i(e,n,t,i,a,s,o){n(e,this,["resource","processData","isDefinition"]),i(e,this),this.externalTasksHistory=t,this.Uri=a,this.translate=s,this.localConf=o,this.query=null,this.pages=null,this.activityIds=null,this.sorting=this._loadLocal({sortBy:"activityId",sortOrder:"asc"}),this.headColumns=[{class:"id",request:"externalTaskId",sortable:!0,content:this.translate.instant("PLGN_EXT_TASK_ID")},{class:"state",request:"",sortable:!1,content:this.translate.instant("PLGN_EXT_STATE")},{class:"error-message",request:"",sortable:!1,content:this.translate.instant("PLGN_EXT_ERROR_MSG")},{class:"process-id",request:"processInstanceId",sortable:!0,content:this.translate.instant("PLGN_EXT_PROCESS_INSTANCE_ID"),condition:this.isDefinition},{class:"activity",request:"activityId",sortable:!1,content:this.translate.instant("PLGN_EXT_ACTIVITY")},{class:"retries",request:"retries",sortable:!0,content:this.translate.instant("PLGN_EXT_RETRIES")},{class:"worker-id",request:"workerId",sortable:!0,content:this.translate.instant("PLGN_EXT_WORKER_ID")},{class:"topic",request:"topicName",sortable:!0,content:this.translate.instant("PLGN_EXT_TOPIC")},{class:"priority",request:"priority",sortable:!0,content:this.translate.instant("PLGN_EXT_PRIORITY")}]}n.exports=["$scope","exposeScopeProperties","externalTasksHistory","observeBpmnElements","Uri","$translate","localConf",i],i.prototype._loadLocal=function(e){return this.localConf.get("sortExternalTaskHistoryTab",e)},i.prototype._saveLocal=function(e){return this.localConf.set("sortExternalTaskHistoryTab",e)},i.prototype.onSortChange=function(e){this.sorting=e,this._saveLocal(this.sorting),this.onLoad()},i.prototype.onLoad=function(e,n){this.pages=e||this.pages,this.activityIds=n||this.activityIds;var t=this.query||{};return t.sortBy=this.sorting.sortBy,t.sortOrder=this.sorting.sortOrder,n&&n.length&&(t.activityIdIn=n.join(",")),this.isDefinition?t.processDefinitionId=this.resource.id:t.processInstanceId=this.resource.id,this.externalTasksHistory.getExternalTasksLog(t,this.pages).then(function(e){return this.tasks=e.list,e}.bind(this))},i.prototype.getTasksState=function(e){return e.creationLog?this.translate.instant("PLGN_EXT_CREATED"):e.failureLog?this.translate.instant("PLGN_EXT_FAILED"):e.successLog?this.translate.instant("PLGN_EXT_SUCCESSFUL"):e.deletionLog?this.translate.instant("PLGN_EXT_DELETED"):void 0}},{}],153:[function(c,l,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=c("./components/external-tasks-history-tab"),a=c("./services/external-tasks-history"),s=c("./controllers/external-tasks-history-controller"),o=c("./view-provider.config"),r=n.module("cockpit.plugin.external-tasks",[t.name]);r.directive("externalTasksHistoryTab",i),r.factory("externalTasksHistory",a),r.controller("ExternalTasksHistoryController",s),r.config(o),l.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/external-tasks-history-tab":151,"./controllers/external-tasks-history-controller":152,"./services/external-tasks-history":154,"./view-provider.config":155}],154:[function(e,n,t){"use strict";n.exports=["camAPI","createListQueryFunction",function(e,n){var t=e.resource("history");return{getExternalTasksLog:n(t.externalTaskLogCount.bind(t),t.externalTaskLogList.bind(t))}}]},{}],155:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"external-tasks-process-instance-history",label:"PLGN_EXT_LOG",priority:2,template:'<div external-tasks-history-tab\n     resource="processInstance"\n     process-data="processData"\n     is-definition="false">\n</div>\n'}),e.registerDefaultView("cockpit.processDefinition.history.tab",{id:"external-tasks-process-defintion-history",label:"PLGN_EXT_LOG",priority:2,template:'<div external-tasks-history-tab\n     resource="processDefinition"\n     process-data="processData"\n     is-definition="true">\n</div>\n'})}]},{}],156:[function(i,a,e){(function(e){function f(e,n,t,i){if(t)for(var a=1;a<n.waypoints.length;a++)for(var s=n.waypoints[a-1],o=n.waypoints[a],r={x:o.x-s.x,y:o.y-s.y},c=r.x/(Math.abs(r.x)+Math.abs(r.y))*10,l=r.y/(Math.abs(r.x)+Math.abs(r.y))*10,d=Math.sqrt(r.x*r.x+r.y*r.y)/10,u=0;u<d;u++)e.push({x:s.x+c*u-i.x,y:s.y+l*u-i.y,value:.2*t,radius:30})}var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,g=i("../lib/heatmap");function t(e){e.registerDefaultView("cockpit.processDefinition.history.diagram.action",{id:"heatmap-action",url:n.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/heatmap/heatmap-action.html",controller:["$scope","$timeout",function(u,e){var p;u.toggled=!1,u.processData.observe(["historicActivityStatistics",function(e){p=e,u.toggled&&(t(),n())}]);var n=function(){u.isLoading=!0;var e=u.$parent.$parent.$parent.control,n=function(){var e=u.viewer.get("canvas").getDefaultLayer().getBBox();return{width:e.width+150,height:e.height+150,x:e.x-75,y:e.y-75}}(),t=document.createElement("div");t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="absolute",document.body.appendChild(t);var i=g.create({container:t});t.firstChild.setAttribute("width",n.width),t.firstChild.setAttribute("height",n.height);for(var a={},s=0;s<p.length;s++){var o=p[s],r=(o.instances||0)+(o.finished||0);a[o.id]=r}var c=function(e,n,t){var i,a=[],s=n.get("elementRegistry");for(var o in e){var r=s.get(o);if(r){if(!function(n,e){return"string"==typeof e&&(e=[e]),"label"!==n.type&&0<e.filter(function(e){return n.businessObject.$instanceOf("bpmn:"+e)}).length}(i=r,"SubProcess")||i.collapsed)for(var c=0;c<r.width+10;c+=20)for(var l=0;l<r.height+10;l+=20)a.push({x:r.x+c-t.x,y:r.y+l-t.y,value:.125*e[o],radius:60});for(c=0;c<r.incoming.length;c++)f(a,r.incoming[c],Math.min(e[o],e[r.incoming[c].source.id]),t)}}return a}(a,u.viewer,n),l=Math.max.apply(this,c.map(function(e){return e.value})),d=c.map(function(e){return{x:e.x,y:e.y,radius:e.radius,value:(.17+e.value/l*.83)/2.5}});i.setData({max:1,data:d}),document.body.removeChild(t),e.addImage(i.getDataURL(),n.x,n.y).then(function(e){(h=e).css("pointer-events","none"),h.css("opacity","0.8"),u.isLoading=!1})};var t=function(){h[0].parentNode.removeChild(h[0])};u.toggleHeatmap=function(){u.toggled=!u.toggled,h&&document.body.contains(h[0])?t():e(function(){n()})},u.hasHeatmap=function(){return h&&document.body.contains(h[0])},u.isLoading=!1,u.$on("$destroy",function(){h&&h[0].parentNode&&h[0].parentNode.contains(h[0])&&t()})}],priority:20})}var h;t.$inject=["ViewsProvider"],a.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/heatmap":158}],157:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./heatmap-action"),i=n.module("cockpit.plugin.heatmap.actions",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./heatmap-action":156}],158:[function(e,n,t){var i,a;i=this,a=function(){var d,i={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},a=(d=i.defaultRadius,e.prototype={_organiseData:function(e,n){var t=e[this._xField],i=e[this._yField],a=this._radi,s=this._data,o=this._max,r=this._min,c=e[this._valueField]||1,l=e.radius||this._cfgRadius||d;return s[t]||(s[t]=[],a[t]=[]),s[t][i]?s[t][i]+=c:(s[t][i]=c,a[t][i]=l),s[t][i]>o?(n?this.setDataMax(s[t][i]):this._max=s[t][i],!1):{x:t,y:i,value:c,radius:l,min:r,max:o}},_unOrganizeData:function(){var e=[],n=this._data,t=this._radi;for(var i in n)for(var a in n[i])e.push({x:i,y:a,radius:t[i][a],value:n[i][a]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(0<arguments[0].length)for(var e=arguments[0],n=e.length;n--;)this.addData.call(this,e[n]);else{var t=this._organiseData(arguments[0],!0);t&&this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[t]})}return this},setData:function(e){var n=e.data,t=n.length;this._data=[],this._radi=[];for(var i=0;i<t;i++)this._organiseData(n[i],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e);function e(e){this._coordinator={},this._data=[],this._radi=[],this._min=0,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)}var n=(t.prototype={renderPartial:function(e){this._drawAlpha(e),this._colorize()},renderAll:function(e){this._clear(),this._drawAlpha(function(e){for(var n=[],t=e.min,i=e.max,a=e.radi,s=(e=e.data,Object.keys(e)),o=s.length;o--;)for(var r=s[o],c=Object.keys(e[r]),l=c.length;l--;){var d=c[l],u=e[r][d],p=a[r][d];n.push({x:r,y:d,value:u,radius:p})}return{min:t,max:i,data:n}}(e)),this._colorize()},_updateGradient:function(e){this._palette=s(e)},updateConfig:function(e){e.gradient&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,n){this._width=e,this._height=n,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=n},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){for(var n=this._min=e.min,t=this._max=e.max,i=(e=e.data||[]).length,a=1-this._blur;i--;){var s,o=e[i],r=o.x,c=o.y,l=o.radius,d=Math.min(o.value,t),u=r-l,p=c-l,f=this.shadowCtx;this._templates[l]?s=this._templates[l]:this._templates[l]=s=g(l,a),f.globalAlpha=(d-n)/(t-n),f.drawImage(s,u,p),u<this._renderBoundaries[0]&&(this._renderBoundaries[0]=u),p<this._renderBoundaries[1]&&(this._renderBoundaries[1]=p),u+2*l>this._renderBoundaries[2]&&(this._renderBoundaries[2]=u+2*l),p+2*l>this._renderBoundaries[3]&&(this._renderBoundaries[3]=p+2*l)}},_colorize:function(){var e=this._renderBoundaries[0],n=this._renderBoundaries[1],t=this._renderBoundaries[2]-e,i=this._renderBoundaries[3]-n,a=this._width,s=this._height,o=this._opacity,r=this._maxOpacity,c=this._minOpacity,l=this._useGradientOpacity;e<0&&(e=0),n<0&&(n=0),a<e+t&&(t=a-e),s<n+i&&(i=s-n);for(var d=this.shadowCtx.getImageData(e,n,t,i),u=d.data,p=u.length,f=this._palette,g=3;g<p;g+=4){var h,m=u[g],v=4*m;v&&(h=0<o?o:m<r?m<c?c:m:r,u[g-3]=f[v],u[g-2]=f[1+v],u[g-1]=f[2+v],u[g]=l?f[3+v]:h)}d.data=u,this.ctx.putImageData(d,e,n),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var n=this.shadowCtx.getImageData(e.x,e.y,1,1).data[3],t=this._max,i=this._min;return Math.abs(t-i)*(n/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},t);function s(e){var n=e.gradient||e.defaultGradient,t=document.createElement("canvas"),i=t.getContext("2d");t.width=256,t.height=1;var a=i.createLinearGradient(0,0,256,1);for(var s in n)a.addColorStop(s,n[s]);return i.fillStyle=a,i.fillRect(0,0,256,1),i.getImageData(0,0,256,1).data}function g(e,n){var t=document.createElement("canvas"),i=t.getContext("2d"),a=e,s=e;if(t.width=t.height=2*e,1==n)i.beginPath(),i.arc(a,s,e,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{var o=i.createRadialGradient(a,s,e*n,a,s,e);o.addColorStop(0,"rgba(0,0,0,1)"),o.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=o,i.fillRect(0,0,2*e,2*e)}return t}function t(e){var n=e.container,t=this.shadowCanvas=document.createElement("canvas"),i=this.canvas=e.canvas||document.createElement("canvas"),a=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});i.className="heatmap-canvas",this._width=i.width=t.width=+a.width.replace(/px/,""),this._height=i.height=t.height=+a.height.replace(/px/,""),this.shadowCtx=t.getContext("2d"),this.ctx=i.getContext("2d"),i.style.cssText=t.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(i),this._palette=s(e),this._templates={},this._setStyles(e)}var o,r,c=(o=!1,"canvas2d"===i.defaultRenderer&&(o=n),o),l=function(){for(var e={},n=arguments.length,t=0;t<n;t++){var i=arguments[t];for(var a in i)e[a]=i[a]}return e},u=(p.prototype={on:function(e,n,t){var i=this.cStore;i[e]||(i[e]=[]),i[e].push(function(e){return n.call(t,e)})},emit:function(e,n){var t=this.cStore;if(t[e])for(var i=t[e].length,a=0;a<i;a++)(0,t[e][a])(n)}},r=p,f.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=l(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},f);function p(){this.cStore={}}function f(){var e=this._config=l(i,arguments[0]||{});if(this._coordinator=new r,e.plugin){var n=e.plugin;if(!i.plugins[n])throw new Error("Plugin '"+n+"' not found. Maybe it was not registered.");var t=i.plugins[n];this._renderer=new t.renderer(e),this._store=new t.store(e)}else this._renderer=new c(e),this._store=new a(e);!function(n){var e=n._renderer,t=n._coordinator,i=n._store;t.on("renderpartial",e.renderPartial,e),t.on("renderall",e.renderAll,e),t.on("extremachange",function(e){n._config.onExtremaChange&&n._config.onExtremaChange({min:e.min,max:e.max,gradient:n._config.gradient||n._config.defaultGradient})}),i.setCoordinator(t)}(this)}return{create:function(e){return new u(e)},register:function(e,n){i.plugins[e]=n}}},void 0!==n&&n.exports?n.exports=a():i.h337=a()},{}],159:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./actions/main");a.exports=n.module("cockpit.plugin.heatmap",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":157}],160:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.processInstance.history.action",{id:"cancel-historic-process-instance-action",label:"PLGN_HIST_CANCEL_PROCESS_INSTANCE_ACTION",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLGN_HIST_CANCEL_RUNNING_INSTANCES\' | translate }}"\n   tooltip-placement="left"\n   ng-hide="processInstance.endTime">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n<div uib-tooltip="{{ \'PLGN_HIST_CANCEL_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-show="processInstance.endTime">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-remove"></span>\n  </a>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-action.html --\x3e\n',controller:["$scope","$uibModal",function(e,n){e.openDialog=function(){n.open({resolve:{processData:function(){return e.processData},processInstance:function(){return e.processInstance}},controller:"HistoryCancelProcessInstanceController",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'PLGN_HIST_CANCEL_PROCESS_INSTANCE\' | translate }}</h3>\n</div>\n\n<div class="cancel-process-instance modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'beforeCancellation\' || status === \'loadingFailed\'">\n    <span class="glyphicon glyphicon-loading"></span>\n    {{ \'PLGN_HIST_LOADING\' | translate }}\n  </div>\n\n  <p ng-show="status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_NO_FURTHER_INFOS\' | translate }}\n  </p>\n\n  <div ng-show="status === \'beforeCancellation\'">\n    <div ng-show="subProcessInstances.length > 0">\n      <p>\n        {{ \'PLGN_HIST_SUBPROCESS_INSTANCES\' | translate }}\n      </p>\n\n      <table class="table cam-table">\n        <thead>\n          <tr>\n            <th class="instance-id uuid">ID</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="subProcessInstance in subProcessInstances">\n            <td class="instance-id uuid">\n              <a target="_blank"\n                 ng-href="#/process-instance/{{ subProcessInstance.id }}">\n                {{ subProcessInstance.id }}\n              </a>\n            </td>\n          </tr>\n\n          <tr>\n            <td ng-hide="subProcessInstances.length === subProcessInstancesCount"\n                translate="PLGN_HIST_OTHER_INSTANCES"\n                translate-values="{otherCount: (subProcessInstancesCount - subProcessInstances.length) }">\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <form class="form-horizontal"\n          name="cancelProcessInstanceForm"\n          novalidate\n          request-aware>\n      <div  ng-hide="hideSkipCustomListeners"\n            class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          {{ \'PLGN_HIST_SKIP_CUSTOM_LISTENER\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'PLGN_HIST_BUILT_IN_LISTENERS\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group skip-custom-listener" ng-hide="SKIP_IO_MAPPINGS.hidden">\n\n        <label class="control-label col-xs-5"\n               for="skipIoMappings">\n          {{ \'PLGN_HIST_SKIP_IO_MAPPINGS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'PLGN_HIST_SKIP_IO_MAPPINGS_INFO\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipIoMappings"\n                   type="checkbox"\n                   ng-model="options.skipIoMappings">\n          </label>\n        </div>\n\n      </div>\n    </form>\n\n    <p>{{ \'PLGN_HIST_SURE\' | translate }}</p>\n  </div>\n\n  <div ng-show="status === \'cancellationSuccess\'">\n    <p>{{ \'PLGN_HIST_CANCELED_SUCCESSFULLY\' | translate }}</p>\n    <p>{{ \'PLGN_HIST_REDIRECTION\' | translate }}</p>\n  </div>\n\n  <div ng-show="status === \'cancellationFailed\'">\n    <p>{{ \'PLGN_HIST_COULD_NOT_CANCELED\' | translate }}</p>\n    <p>{{ \'PLGN_HIST_REFRESH\' | translate }}</p>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close(status)"\n          ng-disabled="status === \'performCancellation\'"\n          ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_OK\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="cancelProcessInstance()"\n          ng-disabled="status !== \'beforeCancellation\'"\n          ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLGN_HIST_CANCEL_PROCESS_INSTANCE\' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/cancel-process-instance/cancel-process-instance-dialog.html --\x3e\n'}).result.catch(function(){})}}],priority:20})}i.$inject=["ViewsProvider"],n.exports=i},{}],161:[function(e,n,t){(function(e){"use strict";var f="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["$scope","$route","Notifications","ProcessInstanceResource","$uibModalInstance","processInstance","processData","configuration","$translate",function(t,n,i,e,a,s,o,r,c){var l="cancellationSuccess",d=r.getSkipCustomListeners(),u=t.SKIP_IO_MAPPINGS=r.getSkipIoMappings();t.processInstance=s;var p=o.newChild(t);t.options={skipCustomListeners:d.default,skipIoMappings:u.default},t.hideSkipCustomListeners=d.hidden,t.$on("$routeChangeStart",function(){a.close(t.status)}),p.provide("subProcessInstances",function(){return e.query({firstResult:0,maxResults:5},{superProcessInstance:s.id}).$promise}),p.provide("subProcessInstancesCount",function(){return e.count({superProcessInstance:s.id}).$promise}),p.observe(["subProcessInstancesCount","subProcessInstances"],function(e,n){t.subProcessInstancesCount=e.count,t.subProcessInstances=n,t.status="beforeCancellation"}),t.cancelProcessInstance=function(){t.status="performCancellation",e.delete(f.extend({id:s.id},t.options),function(){t.status=l,i.addMessage({status:c.instant("PLGN_HIST_CANCELED"),message:c.instant("PLGN_HIST_CANCELLATION_SUCCESSFUL")})},function(e){t.status="cancellationFailed",i.addError({status:c.instant("PLGN_HIST_FAILED"),message:c.instant("PLGN_HIST_CANCELLATION_FAILED",{err:e.data.message}),exclusive:["type"]})})},t.close=function(e){a.close(e),e===l&&n.reload()}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],162:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.processInstance.history.action",{id:"delete-process-variables-action",label:"PLGN_HIST_DELETE_PROCESS_VARIABLES_ACTION",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/actions/delete-process-variables/delete-process-variables-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLGN_HIST_DELETE_PROCESS_VARIABLES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-trash"></span>\n</a>\n\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/actions/delete-process-variables/delete-process-variables-action.html --\x3e\n',controller:["$scope","$uibModal",function(e,n){e.openDialog=function(){n.open({resolve:{processInstance:function(){return e.processInstance}},controller:"HistoryDeleteProcessVariablesController",template:"\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/actions/delete-process-variables/delete-process-variables-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ 'PLGN_HIST_DELETE_PROCESS_VARIABLES' | translate }}</h3>\n</div>\n\n<div class=\"modal-body\">\n  <div notifications-panel></div>\n\n\n  <div ng-show=\"status === 'beforeDeletion'\">\n    <p>{{ 'PLGN_HIST_DELETE_PROCESS_VARIABLES_DIALOG' | translate}}</p>\n  </div>\n\n  <div ng-show=\"status === 'deletionSuccess'\">\n    <p>{{ 'PLGN_HIST_DELETE_SUCCESSFULL' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'deletionFailed'\">\n    <p>{{ 'PLGN_HIST_COULD_NOT_DELETE' | translate }}</p>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performDeletion'\"\n          ng-hide=\"status === 'deletionSuccess' || status === 'deletionFailed'\">\n    {{ 'PLGN_HIST_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'deletionSuccess' || status === 'deletionFailed'\">\n    {{ 'PLGN_HIST_OK' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"deleteVariables()\"\n          ng-hide=\"status === 'deletionSuccess' || status === 'deletionFailed'\">\n    {{ 'PLGN_HIST_DELETE' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/actions/delete-process-variables/delete-process-variables-dialog.html --\x3e\n"}).result.catch(function(){})}}],priority:4})}i.$inject=["ViewsProvider"],n.exports=i},{}],163:[function(e,n,t){"use strict";n.exports=["$scope","$route","$rootScope","Notifications","camAPI","$uibModalInstance","processInstance","$translate",function(n,e,t,i,a,s,o,r){var c=a.resource("history");n.processInstance=o,n.$on("$routeChangeStart",function(){s.close(n.status)}),n.deleteVariables=function(){n.status="performDeletion",c.deleteAllVariables(n.processInstance.id,function(e){e?(i.addError({status:r.instant("PLGN_HIST_FINISHED"),message:r.instant("PLGN_HIST_DELETE_VARIABLES_FAILED")}),n.status="deletionFailed"):(i.addMessage({status:r.instant("PLGN_HIST_FINISHED"),message:r.instant("PLGN_HIST_DELETE_PROCESS_VARIABLES")}),n.status="deletionSuccess",t.$broadcast("history.variables.deleted"))})},n.close=function(e){s.close(e)},n.status="beforeDeletion"}]},{}],164:[function(e,i,n){(function(e){"use strict";function n(e){e.registerDefaultView("cockpit.processInstance.history.action",{id:"history-job-retry-action",label:"PLGN_HIST_JOB_RETRY_ACTION",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLGN_HIST_INCREMENT_RETRIES_FAILED_JOBS\' | translate }}"\n   tooltip-placement="left"\n   ng-if="!processInstance.endTime">\n  <span class="glyphicon glyphicon-repeat"></span>\n</a>\n<div uib-tooltip="{{ \'PLGN_HIST_INCREMENT_RETRIES_NOT_POSSIBLE\' | translate }}"\n     tooltip-placement="left"\n     ng-if="processInstance.endTime">\n  <a href class="btn btn-default btn-toolbar" disabled>\n    <span class="glyphicon glyphicon-repeat"></span>\n  </a>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-action.html --\x3e\n',controller:["$scope","$uibModal",function(n,e){n.openDialog=function(){e.open({resolve:{processData:function(){return n.processData},processInstance:function(){return n.processInstance}},controller:"HistoryJobRetriesController",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'PLGN_HIST_INCREMENT_RETRIES\' | translate }}</h3>\n</div>\n\n<div class="job-retry-bulk modal-body">\n  <div notifications-panel></div>\n\n  <form name="selectFailedJobsForm"\n        ng-hide="status === \'finished\' || status === \'performing\'">\n    <fieldset>\n      <p>{{ \'PLGN_HIST_SELECT_JOB\' | translate }}</p>\n      <div cam-widget-loader\n           loading-state="{{ loadingState }}"\n           text-empty="{{ \'PLGN_HIST_NO_FAILED_JOBS\' | translate }}">\n        <table class="cam-table">\n          <thead>\n            <tr>\n              <th class="row-select">\n                <input type="checkbox"\n                       title="Select all"\n                       ng-model="allJobsSelected"\n                       ng-change="selectAllJobs(allJobsSelected)">\n              </th>\n              <th class="job-id uuid">{{ \'PLGN_HIST_ID\' | translate }}</th>\n              <th class="scope">{{ \'PLGN_HIST_SCOPE\' | translate }}</th>\n              <th class="exception">{{ \'PLGN_HIST_EXCEPTION\' | translate }}</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr ng-repeat="job in failedJobs">\n              <td class="row-select">\n                <input type="checkbox"\n                       ng-model="job.selected"\n                       ng-change="selectFailedJob(job)">\n              </td>\n\n              <td class="job-id uuid">{{ job.id }}</td>\n\n              <td class="scope">{{ job.activityName }}</td>\n\n              <td class="exception">{{ job.exceptionMessage }}</td>\n            </tr>\n          </tbody>\n        </table>\n\n\n        <ul uib-pagination ng-if="jobPages.total > jobPages.size"\n                    class="pagination-sm"\n\n                    page="jobPages.current"\n                    ng-model="jobPages.current"\n\n                    total-items="jobPages.total"\n                    items-per-page="jobPages.size"\n\n                    max-size="7"\n                    boundary-links="true"></ul>\n      </div>\n    </fieldset>\n  </form>\n\n  <div ng-show="status === \'finished\' || status === \'performing\'">\n\n    <table class="cam-table">\n      <thead>\n        <tr>\n          <th class="job-id uuid">{{ \'PLGN_HIST_ID\' | translate }}</th>\n          <th class="status">{{ \'PLGN_HIST_STATUS\' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="job in showJobsRetried">\n          <td class="job-id uuid">{{ job.id }}</td>\n\n          <td class="status">\n            <span ng-show="job.status && job.status === \'performing\'">\n              <span class="glyphicon glyphicon-loading"></span>\n            </span>\n            <span ng-show="job.status && job.status === \'successful\'">\n              <span class="glyphicon glyphicon-ok"></span>{{ \'PLGN_HIST_SUCCESSFUL\' | translate }}\n            </span>\n            <span ng-show="job.status && job.status === \'failed\'">\n              <span class="glyphicon glyphicon-remove"></span>{{ \'PLGN_HIST_FAILED\' | translate }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n\n    <ul uib-pagination ng-if="summarizePages.total > summarizePages.size"\n                class="pagination-sm"\n\n                page="summarizePages.current"\n                ng-model="summarizePages.current"\n\n                total-items="summarizePages.total"\n                items-per-page="summarizePages.size"\n\n                max-size="7"\n                boundary-links="true"></ul>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()"\n          ng-hide="status === \'finished\' || status === \'performing\'">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="retryFailedJobs(selectedFailedJobIds)"\n          ng-disabled="!failedJobs || !failedJobs.length || !selectedFailedJobIds.length"\n          ng-hide="status === \'finished\' || status === \'performing\'">\n    {{ \'PLGN_HIST_RETRY\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-disabled="status === \'performing\'"\n          ng-show="status === \'performing\' || status === \'finished\'">\n    {{ \'PLGN_HIST_OK\' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/increment-job-retries-bulk/job-retry-bulk-dialog.html --\x3e\n'}).result.then(function(e){"finished"===e&&n.processData.set("filter",t.extend({},n.filter))}).catch(t.noop)}}],priority:15})}var t="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.$inject=["ViewsProvider"],i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],165:[function(e,n,t){(function(e){"use strict";var b="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["$scope","$q","Notifications","JobDefinitionResource","JobResource","$uibModalInstance","processData","processInstance","$translate",function(r,c,n,t,l,i,e,a,s){var o,d=e.newChild(r),u=r.jobPages={size:5,total:0},p=r.summarizePages={size:5,total:0},f={},g=r.selectedFailedJobIds=[],h={},m=!1;r.allJobsSelected=!1;var v="performing";d.provide("jobDefinitions",["processDefinition",function(e){return t.query({processDefinitionId:e.id}).$promise}]),d.observe(["jobDefinitions","bpmnElements"],function(e,i){o=e,h={},b.forEach(o,function(e){var n=e.activityId,t=i[n];e.activityName=t&&(t.name||t.id)||n,h[e.id]=e})}),r.$on("$routeChangeStart",function(){i.close(r.status)}),r.$watch("jobPages.current",function(e,n){e?e!==n&&function(e){r.failedJobs=null,r.allJobsSelected=!1,r.loadingState="LOADING";var n=u.size,t=(e-1)*n;l.query({firstResult:t,maxResults:n},{processInstanceId:a.id,withException:!0,noRetriesLeft:!0}).$promise.then(function(e){for(var n,t=0;n=e[t];t++){(f[n.id]=n).activityName=(h[n.jobDefinitionId]||{}).activityName;var i=g.indexOf(n.id);n.selected=-1!==i}r.failedJobs=e,r.loadingState=e.length?"LOADED":"EMPTY"}),l.count({processInstanceId:a.id,withException:!0}).$promise.then(function(e){u.total=e.count})}(u.current=e):u.current=1}),r.$watch("summarizePages.current",function(e){e&&function(e){for(var n=p.size,t=(e-1)*n,i=r.showJobsRetried=[],a=0;a<n;a++){var s=g[a+t],o=f[s];o&&i.push(o)}}(e)}),r.selectAllJobs=function(n){b.forEach(r.failedJobs,function(e){e.selected=n,y(e)})};var y=r.selectFailedJob=function(e){var n=g.indexOf(e.id);if(!0!==e.selected)return!1===e.selected?(g.splice(n,1),void(!0===r.allJobsSelected&&(r.allJobsSelected=!1))):void 0;-1===n&&g.push(e.id)};r.retryFailedJobs=function(e){r.status=v,p.total=e.length,p.current=1,function(e){var t=c.defer(),i=e.length;function n(n){n.status=v,l.setRetries({id:n.id},{retries:1},function(){n.status="successful",0===(i-=1)&&t.resolve()},function(e){m=!0,n.status="failed",n.retryError=e,0===(i-=1)&&t.resolve()})}for(var a,s=0;a=e[s];s++){var o=f[a];n(o)}return t.promise}(e).then(function(){m?n.addError({status:s.instant("PLGN_HIST_FINISHED"),message:s.instant("PLGN_HIST_FAILD"),exclusive:!0}):n.addMessage({status:s.instant("PLGN_HIST_FINISHED"),message:s.instant("PLGN_HIST_FINISHED_SUCCESSFUL"),exclusive:!0}),r.status="finished"})},r.close=function(e){i.close(e)}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],166:[function(u,p,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=u("./cancel-process-instance/cancelProcessInstanceAction"),i=u("./cancel-process-instance/cancelProcessInstanceDialog"),a=u("./increment-job-retries-bulk/jobRetryBulkAction"),s=u("./increment-job-retries-bulk/jobRetryBulkDialog"),o=u("./update-process-instance-suspension-state/updateSuspensionStateAction"),r=u("./update-process-instance-suspension-state/updateSuspensionStateDialog"),c=u("./delete-process-variables/deleteProcessVariablesAction"),l=u("./delete-process-variables/deleteProcessVariablesDialog"),d=n.module("cockpit.plugin.history.actions",[]);d.config(t),d.controller("HistoryCancelProcessInstanceController",i),d.config(a),d.controller("HistoryJobRetriesController",s),d.config(o),d.controller("HistoryUpdateProcessInstanceSuspensionStateController",r),d.config(c),d.controller("HistoryDeleteProcessVariablesController",l),p.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cancel-process-instance/cancelProcessInstanceAction":160,"./cancel-process-instance/cancelProcessInstanceDialog":161,"./delete-process-variables/deleteProcessVariablesAction":162,"./delete-process-variables/deleteProcessVariablesDialog":163,"./increment-job-retries-bulk/jobRetryBulkAction":164,"./increment-job-retries-bulk/jobRetryBulkDialog":165,"./update-process-instance-suspension-state/updateSuspensionStateAction":167,"./update-process-instance-suspension-state/updateSuspensionStateDialog":168}],167:[function(e,t,n){(function(e){"use strict";function n(e){e.registerDefaultView("cockpit.processInstance.history.action",{id:"history-update-process-instance-suspension-state-action",label:"PLGN_HIST_UPDATE_SUSPENSION_STATE",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-action.html --\x3e\n<div ng-if="!processInstance.endTime">\n  <a class="btn btn-default btn-toolbar btn-suspend-action"\n     href\n     ng-click="openDialog()"\n     uib-tooltip="{{ \'PLGN_HIST_SUSPEND_PROCESS_INSTANCE\' | translate }}"\n     tooltip-placement="left"\n     ng-show="!runningProcessInstance.suspended">\n    <span class="glyphicon glyphicon-pause"></span>\n  </a>\n  <a class="btn btn-default btn-toolbar"\n     href\n     ng-click="openDialog()"\n     uib-tooltip="{{ \'PLGN_HIST_ACTIVATE_PROCESS_INSTANCE\' | translate }}"\n     tooltip-placement="left"\n     ng-hide="!runningProcessInstance.suspended">\n    <span class="glyphicon glyphicon-play"></span>\n  </a>\n</div>\n<div ng-if="processInstance.endTime"\n      uib-tooltip="{{ \'PLGN_HIST_SUSPENSION_NOT_POSSIBLE\' | translate }}"\n      tooltip-placement="left">\n  <a class="btn btn-default btn-toolbar btn-suspend-action"\n     href\n     disabled>\n    <span class="glyphicon glyphicon-pause"></span>\n  </a>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-action.html --\x3e\n',controller:["$scope","$uibModal","ProcessInstanceResource",function(n,e,t){var i=n.processData.newChild(n);n.processInstance.endTime||(i.provide("runningProcessInstance",function(){return t.get({id:n.processInstance.id}).$promise}),i.observe("runningProcessInstance",function(e){n.runningProcessInstance=e})),n.openDialog=function(){e.open({resolve:{processData:function(){return n.processData},processInstance:function(){return n.runningProcessInstance}},controller:"HistoryUpdateProcessInstanceSuspensionStateController",template:"\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ (processInstance.suspended ? 'PLGN_HIST_ACTIVATE_PROCESS_INSTANCE' : 'PLGN_HIST_SUSPEND_PROCESS_INSTANCE') | translate }}</h3>\n</div>\n\n<div class=\"process-instance update-suspension-state modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <div ng-show=\"processInstance.suspended\">\n      \x3c!-- activation --\x3e\n      <p>\n        {{ 'PLGN_HIST_TOKE_STATE' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_TASKS' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_JOBS' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_HIERARCHY' | translate }}\n      </p>\n\n      <p>{{ 'PLGN_HIST_SURE_ACtIVATE' | translate }}</p>\n    </div>\n\n    <div ng-hide=\"processInstance.suspended\">\n      \x3c!-- suspension --\x3e\n      <p>\n        {{ 'PLGN_HIST_TASK_LIFECYCLE' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_TASKS_SUPSENDED' | translate }}\n        <ul>\n          <li>{{ 'PLGN_HIST_CLAIMING' | translate }}</li>\n          <li>{{ 'PLGN_HIST_COMPLETING' | translate }}</li>\n          <li>{{ 'PLGN_HIST_DELEGATION' | translate }}</li>\n          <li>{{ 'PLGN_HIST_CHANGES' | translate }}</li>\n        </ul>\n      {{ 'PLGN_HIST_CHANGING_PROPERTIES' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_SUSPENDED_JOBS' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLGN_HIST_SUSPENDED_HIERARCHY' | translate }}\n      </p>\n\n      <p>{{ 'PLGN_HIST_SURE_SUSPEND' | translate }}</p>\n    </div>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_ACTIVATION' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_SUSPENSION' | translate }}\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_ACTIVATION_FAILED' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLGN_HIST_SUSPENSION_FAILED' | translate }}\n    </p>\n  </div>\n\n</div>\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{ 'PLGN_HIST_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"updateSuspensionState()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\">\n    {{ (processInstance.suspended ? 'PLGN_HIST_ACTIVATE' : 'PLGN_HIST_SUSPEND') | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'PLGN_HIST_OK' | translate }}</button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/actions/update-process-instance-suspension-state/update-suspension-state-dialog.html --\x3e\n"}).result.then(function(e){"SUCCESS"===e.status&&(n.runningProcessInstance.suspended=e.suspended,n.processData.set("filter",a.extend({},n.filter)))}).catch(a.noop)}}],priority:5})}var a="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.$inject=["ViewsProvider"],t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],168:[function(e,n,t){"use strict";n.exports=["$scope","$http","Uri","Notifications","$uibModalInstance","processInstance","$translate",function(n,t,i,a,s,o,r){n.processInstance=o,n.status="BEFORE_UPDATE",n.$on("$routeChangeStart",function(){s.close(n.status)}),n.updateSuspensionState=function(){n.status="PERFORM_UDPATE";var e={};e.suspended=!o.suspended,t.put(i.appUri("engine://engine/:engine/process-instance/"+o.id+"/suspended/"),e).then(function(){n.status="SUCCESS",a.addMessage({status:r.instant("PLGN_HIST_FINISHED"),message:r.instant("PLGN_HIST_UPDATED"),exclusive:!0})}).catch(function(e){n.status="FAIL",a.addError({status:r.instant("PLGN_HIST_FINISHED"),message:r.instant("PLGN_HIST_UPDATE_FAILED",{msg:e.data.message}),exclusive:!0})})},n.close=function(e){var n={};n.status=e,n.suspended=!o.suspended,s.close(n)}}]},{}],169:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./userOperationsTable"),i=n.module("cockpit.plugin.history.components",[]);i.directive("userOperationsTable",t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./userOperationsTable":170}],170:[function(e,t,n){(function(e){"use strict";var l="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=["camAPI","$translate","localConf",function(o,r,c){return{restrict:"E",scope:{processDefinition:"=",processInstance:"="},template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/directives/user-operations-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NOT_AVAILABLE\' | translate }}">\n\n  <table class="user-operations-table cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n    <tr ng-repeat="operation in userOperations | orderBy:sortObj.sortBy:sortObj.sortReverse">\n      <td class="operation" >\n        <table ng-if="operation.operationTypes.length > 0">\n          <tr ng-repeat="operationType in operation.operationTypes track by $index">\n            <td>{{operationType || \'&nbsp;\' }}</td>\n          </tr>\n        </table>\n      </td>\n      <td ng-if="processDefinition && operation.processInstanceId"\n          class="process-instance"\n          cam-widget-clipboard="operation.processInstanceId">\n        <a href="#/process-instance/{{ operation.processInstanceId }}/history"\n           title="{{ operation.processInstanceId }}">\n          {{ operation.processInstanceId }}\n        </a>\n      </td>\n      <td ng-if="processDefinition && !operation.processInstanceId"\n          class="process-instance"></td>\n      <td class="user">{{ operation.user }}</td>\n      <td class="change-time" >{{ operation.timestamp | camDate }}</td>\n      <td class="property" >\n        <table ng-if="operation.properties.length > 0">\n          <tr ng-repeat="property in operation.properties">\n            <td>{{ property || \'&nbsp;\' }}</td>\n          </tr>\n        </table>\n      </td>\n      <td class="new-value" >\n        <table ng-if="operation.newValues.length > 0">\n          <tr ng-repeat="newValue in operation.newValues">\n            <td>{{ newValue || \'&nbsp;\' }}</td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/user-operations-table.html --\x3e\n',link:function(n){var e;n.headColumns=[{class:"operation",request:"operationType",sortable:!1,content:r.instant("PLGN_HIST_OPERATION")},{class:"process-instance",request:"processInstanceId",sortable:!0,content:r.instant("PLGN_HIST_PROCESS_INSTANCE"),condition:!!n.processDefinition},{class:"user",request:"user",sortable:!0,content:r.instant("PLGN_HIST_USER")},{class:"change-time",request:"timestamp",sortable:!0,content:r.instant("PLGN_HIST_CHANGE_TIME")},{class:"property",request:"",sortable:!1,content:r.instant("PLGN_HIST_PROPERTY")},{class:"new-value",request:"",sortable:!1,content:r.instant("PLGN_HIST_NEW_VALUE")}],n.sortObj=(e={sortBy:"user",sortOrder:"asc",sortReverse:!1},c.get("sortUserOperationTab",e)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(e){c.set("sortUserOperationTab",e)}(e),n.sortObj=e};var t={processInstanceId:n.processInstance&&n.processInstance.id,entityTypeIn:"ProcessInstance,Job,Variable"},i={processDefinitionId:n.processDefinition&&n.processDefinition.id},a=l.extend({},{sortBy:"timestamp",sortOrder:"desc"},n.processInstance?t:i);n.loadingState="LOADING";var s=[];o.resource("history").userOperation(a).then(function(e){if(0<e.length)return s=function(e){var t={};return e.sort(function(e,n){return e.operationType<n.operationType?-1:1}).forEach(function(e){var n=e.operationId;t[n]||(t[n]={operationTypes:[],userId:e.userId,timestamp:e.timestamp,processInstanceId:e.processInstanceId,properties:[],newValues:[]}),-1===t[n].operationTypes.indexOf(e.operationType)?t[n].operationTypes.push(e.operationType):t[n].operationTypes.push(null),t[n].properties.push(e.property),t[n].newValues.push(e.newValue)}),Object.keys(t).map(function(e){return l.extend({operationId:e},t[e])})}(e),o.resource("user").list({idIn:function(e){var n=[];return e.forEach(function(e){-1===n.indexOf(e.userId)&&n.push(e.userId)}),n}(s)})}).then(function(t){s&&0<s.length&&s.forEach(function(n){var e=t.filter(function(e){return e.id===n.userId})[0];n.user=e?e.firstName+" "+e.lastName:n.userId})}).finally(function(){0<(n.userOperations=s).length?n.loadingState="LOADED":n.loadingState="EMPTY"})}}}];t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],171:[function(o,r,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=o("./views/main"),i=o("./resources/main"),a=o("./actions/main"),s=o("./components/main");r.exports=n.module("cockpit.plugin.history",[t.name,i.name,a.name,s.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":166,"./components/main":169,"./resources/main":176,"./views/main":178}],172:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/detail/:action"),{},{count:{method:"GET",params:{action:"count"}}})}]},{}],173:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/job-log/:action"),{},{query:{method:"POST",isArray:!0},count:{method:"GET",params:{action:"count"}}})}]},{}],174:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("plugin://history/:engine/process-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},processInstances:{method:"POST",isArray:!0,params:{action:"called-process-instances"}},getCalledProcessInstances:{method:"POST",isArray:!0,params:{action:"called-process-instances"}}})}]},{}],175:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/task/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",params:{id:"count"}}})}]},{}],176:[function(c,l,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=c("./historicProcessInstance"),i=c("./historicDetail"),a=c("./historicTaskInstance"),s=c("./userOperationLog"),o=c("./historicJobLog"),r=n.module("cockpit.plugin.history.resources",[]);r.factory("PluginHistoricProcessInstanceResource",t),r.factory("HistoricDetailResource",i),r.factory("HistoricTaskInstanceResource",a),r.factory("UserOperationLogResource",s),r.factory("HistoricJobLogResource",o),l.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./historicDetail":172,"./historicJobLog":173,"./historicProcessInstance":174,"./historicTaskInstance":175,"./userOperationLog":177}],177:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/user-operation/:action"),{id:"@id"},{count:{method:"GET",params:{action:"count"}}})}]},{}],178:[function(E,S,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=E("./processDefinition/diagramPlugins"),a=E("./processInstance/diagramPlugins"),s=E("./processDefinition/processInstanceTable"),o=E("./processDefinition/historicJobLogTable"),r=E("./processDefinition/deleteHistoricProcessInstancesAction"),c=E("./processDefinition/incidentsTable"),l=E("./processDefinition/userOperationsTab.js"),d=E("./processInstance/variableInstancesTab"),u=E("./processInstance/variableInstanceLogDialog"),p=E("./processInstance/activityInstanceAuditLog"),f=E("./processInstance/calledProcessInstanceTable"),g=E("./processInstance/userTasksTable"),h=E("./processInstance/userTaskLogDialog"),m=E("./processInstance/userOperationsTab"),v=E("./processInstance/incidentsTab"),y=E("./processInstance/historicJobLogTable"),b=E("./processInstance/jobRetryDialog"),I=E("./processInstance/decisionInstancesTab"),_=n.module("cockpit.plugin.history.views",[t.name,i.name,a.name]);_.config(s),_.config(o),_.config(r),_.config(c),_.config(l),_.config(d),_.controller("VariableInstanceLogController",u),_.config(p),_.config(f),_.config(g),_.controller("TaskInstanceLogController",h),_.config(m),_.config(v),_.config(y),_.controller("HistoryJobRetryController",b),_.config(I),S.exports=_}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinition/deleteHistoricProcessInstancesAction":179,"./processDefinition/diagramPlugins":180,"./processDefinition/historicJobLogTable":182,"./processDefinition/incidentsTable":183,"./processDefinition/processInstanceTable":184,"./processDefinition/userOperationsTab.js":185,"./processInstance/activityInstanceAuditLog":186,"./processInstance/calledProcessInstanceTable":187,"./processInstance/decisionInstancesTab":188,"./processInstance/diagramPlugins":190,"./processInstance/historicJobLogTable":192,"./processInstance/incidentsTab":193,"./processInstance/jobRetryDialog":194,"./processInstance/userOperationsTab":195,"./processInstance/userTaskLogDialog":196,"./processInstance/userTasksTable":197,"./processInstance/variableInstanceLogDialog":198,"./processInstance/variableInstancesTab":199}],179:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.action",{id:"delete-process-instances",label:"PLGN_HIST_DELETE_HISTORIC_PROCESS_INSTANCES_ACTION",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processDefinition/delete-historic-process-instances-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   ng-click="openBatch()"\n   href=""\n   uib-tooltip="{{ \'PLGN_HIST_DELETE_FINISHED_PROCESS_INSTANCES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processDefinition/delete-historic-process-instances-action.html --\x3e\n',controller:["$scope","$uibModal","$location",function(e,n,s){e.openBatch=function(){s.path("/batch/operation").search({batchSearchQuery:function(e){var n=s.search().searchQuery,t=JSON.parse(n),i=[];t.forEach(function(e){switch(e.type){case"businessKey":e.type="PIprocessInstanceBusinessKey",i.push(e);break;case"startedDate":e.type="PIstartedDate",i.push(e);break;case"variables":e.type="PIvariables",i.push(e)}});var a={type:"PIprocessDefinitionId",operator:"eq",value:e.id,name:""};return i.push(a),JSON.stringify(i)}(e.processDefinition),operation:"DELETE_HISTORY"})}}],priority:20})}]},{}],180:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=s("./stats"),a=n.module("cockpit.plugin.history.views.definitionDiagramPlugins",[t.name]);a.config(i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./stats":181}],181:[function(e,n,t){(function(e){"use strict";var v="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.diagram.plugin",{id:"historic-activity-statistics-overlay",overlay:["$scope","control","processData","processDiagram","Loaders","get","$filter","$translate",function(l,e,d,o,n,t,i,a){var s=e.getViewer(),r=s.get("overlays"),c=s.get("elementRegistry"),u=n.startLoading(),p=v.element('<div class="activity-bottom-left-position ">\n  <span class="badge activity-instance-completed"></span>\n  <span class="badge activity-instance-canceled"></span>\n  <span class="badge activity-instance-running"></span>\n</div>\n'),f={};d.observe("historicActivityStatistics",function(e){u();var i=function(e){return e.reduce(function(e,n){return e[n.id]=n,e},{})}(e);Object.keys(f).forEach(function(e){if(!i[e]){var n=f[e];n.removeClickListeners(),n.deregisterDestroyListener();for(var t=0;t<n.overlays.length;t++)r.remove(n.overlays[t]);delete f[e]}});for(var n,t=0;n=e[t];t++){var a=c.get(n.id)&&o.bpmnElements[n.id];if(a){n.completed=(n.finished||0)-(n.canceled||0),a.isSelectable=!0;var s=f[a.id];s||((s=h(a)).overlays=[],s.overlays.push(r.add(a.id,{position:{bottom:0,left:0},show:{minZoom:-1/0,maxZoom:1/0},html:s.running})),s.overlays.push(r.add(a.id,{position:{bottom:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:s.finished})),f[a.id]=s),m(n,s)}}});var g=d.observe("filter",function(e){g=e});function h(e){var n=p.clone(),t=p.clone(),i=t.find(".activity-instance-running"),a=n.find(".activity-instance-completed"),s=n.find(".activity-instance-canceled"),o=function(e,n){var t=v.copy(g),i=n.ctrlKey,a=e.id,s=v.copy(t.activityIds)||[],o=s.indexOf(a),r=-1!==o;a?i?r?s.splice(o,1):s.push(a):s=[a]:s=null;t.activityIds=s,l.$apply(function(){d.set("filter",t)})}.bind(null,e);function r(){n.off("click",o),t.off("click",o)}i.on("click",o),a.on("click",o),s.on("click",o);var c=l.$on("$destroy",function(){r()});return{finished:n,running:t,runningBadge:i,completedBadge:a,canceledBadge:s,removeClickListeners:r,deregisterDestroyListener:c}}function m(e,n){e.instances?(n.running.show(),n.runningBadge.tooltip({container:"body",title:a.instant("PLGN_HIST_RUNNING_ACTIVITY_INSTANCES"),placement:"top",animation:!1}),n.runningBadge.text(i("abbreviateNumber")(e.instances))):n.running.hide(),e.finished?n.finished.show():n.finished.hide(),e.completed&&(n.completedBadge.tooltip({container:"body",title:a.instant("PLGN_HIST_COMPLETED_ACTIVITY_INSTANCES"),placement:"top",animation:!1}),n.completedBadge.text(i("abbreviateNumber")(e.completed))),e.canceled&&(n.canceledBadge.text(i("abbreviateNumber")(e.canceled)),n.canceledBadge.tooltip({container:"body",title:a.instant("PLGN_HIST_CANCELED_ACTIVITY_INSTANCES"),placement:"top",animation:!1}))}}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],182:[function(n,t,e){(function(e){"use strict";var h="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,r=n("camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils");t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.tab",{id:"historic-process-definition-job-log",label:"PLGN_HIST_JOB_LOG",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/historic-job-log-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_JOB_LOGS\' | translate }}">\n  <table class="history-job-log cam-table cam-fixed-layout">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n    <tbody>\n      <tr ng-repeat="log in logs">\n        <td class="state">\n          {{ getState(log) }}\n        </td>\n\n        <td class="message">\n          <span ng-show="log.failureLog">\n            <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n               target="_blank"\n               ng-show="log.jobExceptionMessage"\n               uib-tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n               tooltip-placement="top">\n              {{ log.jobExceptionMessage }}\n            </a>\n            <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n               target="_blank"\n               ng-hide="log.jobExceptionMessage"\n               uib-tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n               tooltip-placement="top">\n              <i>{{ \'PLGN_HIST_MESSAGE_NULL\' | translate }}</i>\n            </a>\n          </span>\n        </td>\n\n        <td class="timestamp"\n            cam-widget-clipboard="log.timestamp">\n          {{ log.timestamp | camDate }}\n        </td>\n\n        <td class="due"\n            ng-if="log.jobDueDate"\n            cam-widget-clipboard="log.jobDueDate">\n          {{ log.jobDueDate| camDate }}\n        </td>\n\n        <td class="due"\n            ng-if="!log.jobDueDate">\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="log.activityId">\n          <a ng-href="#/process-definition/{{ processDefinition.id }}/history?{{getSearchQueryForSearchType(log.activityId)}}&amp;detailsTab=historic-process-definition-job-log">\n            {{ log.activityName }}\n          </a>\n        </td>\n\n        <td class="process-instance"\n            cam-widget-clipboard="log.processInstanceId">\n          <a href="#/process-instance/{{ log.processInstanceId }}/history"\n             title="{{ log.processInstanceId }}">\n            {{ log.processInstanceId }}\n          </a>\n        </td>\n\n        <td class="job"\n            cam-widget-clipboard="log.jobId">\n          {{ log.jobId }}\n        </td>\n\n        <td class="type"\n            cam-widget-clipboard="log.jobDefinitionType">\n          {{ log.jobDefinitionType }}\n        </td>\n\n        <td class="configuration">\n          {{ log.jobDefinitionConfiguration }}\n        </td>\n\n        <td class="retries">\n          {{ log.jobRetries }}\n        </td>\n\n        <td class="priority">\n          {{ log.jobPriority }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/historic-job-log-table.html --\x3e\n',controller:["$scope","search","Uri","HistoricJobLogResource","$translate","localConf",function(u,t,n,p,e,i){var a;u.headColumns=[{class:"state",request:"suspended",sortable:!1,content:e.instant("PLGN_HIST_STATE")},{class:"message",request:"failureLog",sortable:!1,content:e.instant("PLGN_HIST_MESSAGE")},{class:"timestamp",request:"timestamp",sortable:!0,content:e.instant("PLGN_HIST_TIMESTAMPE")},{class:"due",request:"jobDueDate",sortable:!0,content:e.instant("PLGN_HIST_DUE_DATE")},{class:"activity",request:"activityName",sortable:!1,content:e.instant("PLGN_HIST_ACTIVITY")},{class:"process-instance uuid",request:"activityName",sortable:!1,content:e.instant("PLGN_HIST_PROCESS_INSTANCE_ID")},{class:"job uuid",request:"jobId",sortable:!0,content:e.instant("PLGN_HIST_JOB_ID")},{class:"type",request:"jobDefinitionType",sortable:!1,content:e.instant("PLGN_HIST_TYPE")},{class:"configuration",request:"jobDefinitionConfiguration",sortable:!1,content:e.instant("PLGN_HIST_CONFIGURATION")},{class:"retries",request:"jobRetries",sortable:!0,content:e.instant("PLGN_HIST_RETRIES")},{class:"priority",request:"jobPriority",sortable:!0,content:e.instant("PLGN_HIST_PRIORITY")}],u.sortObj=(a={sortBy:"timestamp",sortOrder:"asc"},i.get("sortJobLogTab",a)),u.onSortChange=function(e){u.sortObj=e||u.sortObj,function(e){i.set("sortJobLogTab",e)}(u.sortObj),o({sortObj:u.sortObj})};var s=u.processData.newChild(u),f=u.processDefinition;u.$on("$destroy",function(){t("page",null)});var g=u.pages=h.copy({size:50,total:0,current:1});function o(e,n,t){u.filter=e||u.filter,u.bpmnElements=n||u.bpmnElements,u.sortObj=t||u.sortObj;var i={sorting:[{sortBy:u.sortObj.sortBy,sortOrder:u.sortObj.sortOrder}]},a=g.current,s=g.size,o=(a-1)*s,r={processDefinitionId:f.id,activityIdIn:u.filter.activityIds},c=h.extend({},r),l=h.extend({},i,r),d={firstResult:o,maxResults:s};u.logs=null,u.loadingState="LOADING",p.query(d,l).$promise.then(function(e){u.logs=e,u.loadingState=e.length?"LOADED":"EMPTY",h.forEach(e,function(e){var n=e.activityId,t=u.bpmnElements[n];e.activityName=t&&(t.name||t.id)||n})}),p.count(c).$promise.then(function(e){g.total=e.count})}u.loadingState="INITIAL",u.$watch("pages.current",function(e,n){e!=n&&(t("page",e&&1!=e?e:null),o())}),s.observe(["filter","bpmnElements"],function(e,n){g.current=e.page||1,o(e,n)}),u.getState=function(e){return e.creationLog?"Created":e.failureLog?"Failed":e.deletionLog?"Deleted":e.successLog?"Successful":void 0},u.getHistoricJobLogStacktraceUrl=function(e){return n.appUri("engine://engine/:engine/history/job-log/"+e.id+"/stacktrace")},u.getSearchQueryForSearchType=r.getSearchQueryForSearchType.bind(null,"activityIdIn")}],priority:5})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils":7}],183:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.processDefinition.history.tab",{id:"incidents-table",label:"PLGN_HIST_INCIDENTS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processDefinition/incidents-table.html --\x3e\n<incidents-tab\n  process-data="processData"\n  process-definition="processDefinition"\n  incidents-context="history"/>\n',priority:9,controller:function(){}})}i.$inject=["ViewsProvider"],n.exports=i},{}],184:[function(e,n,t){(function(e){"use strict";var I="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,_="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,E=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PLGN_HIST_SEARCH_BUSINESS_KEY"\n      },\n      "default": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_HIST_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "finished",\n        "value": "PLGN_HIST_SEARCH_COMPLETED"\n      },\n      "basic": true,\n      "groups": ["Completed"]\n    },\n    {\n      "id": {\n        "key": "unfinished",\n        "value": "PLGN_HIST_SEARCH_RUNNING"\n      },\n      "basic": true,\n      "groups": ["Running"]\n    },\n    {\n      "id": {\n        "key": "startedDate",\n        "value": "PLGN_HIST_SEARCH_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_HIST_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_HIST_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "finishedDate",\n        "value": "PLGN_HIST_SEARCH_FINISHED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_HIST_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_HIST_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_HIST_SEARCH_VARIABLE"\n      },\n      "extended": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_HIST_SEARCH_LIKE"\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_HIST_SEARCH_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_HIST_SEARCH_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_HIST_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_HIST_SEARCH_INVALID",\n    "deleteSearch": "PLGN_HIST_SEARCH_REMOVE",\n    "type": "PLGN_HIST_SEARCH_TYPE",\n    "name": "PLGN_HIST_SEARCH_PROPERTY",\n    "operator": "PLGN_HIST_SEARCH_OPERATOR",\n    "value": "PLGN_HIST_SEARCH_VALUE"\n  }\n}\n');n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.tab",{id:"process-instances-table",label:"PLGN_HIST_PROCESS_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/process-instance-table.html --\x3e\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityIdIn\']"\n     variable-types="[\'variables\']"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     text-empty="{{ \'PLGN_HIST_SEARCH_NO_PROCESS_INSTANCES\' | translate }}"\n     storage-group="\'PDI\'">\n\n  <table class="history-process-instance cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(query, pages, sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="processInstance in processInstances">\n        <td class="state">{{ getState(processInstance) }}</td>\n\n        <td class="process-instance"\n            cam-widget-clipboard="processInstance.id">\n          <a ng-href="{{ getProcessInstanceUrl(processInstance) }}"\n             title="{{ processInstance.id }}">\n            {{ processInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="processInstance.startTime">{{ processInstance.startTime | camDate }}</td>\n\n        <td ng-if="processInstance.endTime"\n            class="end-time"\n            cam-widget-clipboard="processInstance.endTime">{{ processInstance.endTime | camDate }}</td>\n        <td ng-if="!processInstance.endTime"\n            class="end-time">{{ processInstance.endTime | camDate }}</td>\n\n        <td ng-if="processInstance.businessKey"\n            class="business-key"\n            cam-widget-clipboard="processInstance.businessKey">{{ processInstance.businessKey }}</td>\n        <td ng-if="!processInstance.businessKey"\n            class="business-key">{{ processInstance.businessKey }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processDefinition/process-instance-table.html --\x3e\n',controller:["$scope","$location","search","routeUtil","PluginHistoricProcessInstanceResource","localConf","$translate","configuration",function(u,i,e,a,p,f,t,n){var g,s=u.processData.newChild(u),h=u.processDefinition;s.provide("parentProcessDefinitionId",["filter",function(e){return e.parentProcessDefinitionId}]),u.searchConfig=I.copy(E),I.forEach(u.searchConfig.tooltips,function(e,n){u.searchConfig.tooltips[n]=t.instant(e)}),u.searchConfig.types.map(function(e){return e.id.value=t.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=t.instant(e.value),e})),e});var o,r=n.getHistoricProcessInstancesSearch();if(r){var c=JSON.parse((i.search()||{}).searchQuery||"[]");if(c.length<1){var l=null,d=r.event;d&&(l=function(e){try{return function(e){if("string"!=typeof e)throw'configuration error: specified "event" criterion must be a string';switch(e=e.toLowerCase()){case"started":return"startedDate";case"ended":return"finishedDate";default:throw'configuration error: specified criterion for "event" "'+e+'" is not allowed'}}(e)}catch(e){return console.error(e),null}}(d));var m=null,v=r.lastDays;!v&&0!==v||(m=function(e){try{return function(e,n){if("number"!=typeof n)throw'configuration error: "lastDays" must be a number';return _(e,_.ISO_8601).subtract(n,"days").format("YYYY-MM-DDT00:00:00")}(_(),e)}catch(e){return console.error(e),null}}(v)),null!=l&&null!=m&&(c.push({type:l,operator:"After",value:m,name:""}),o=c,e.updateSilently({searchQuery:JSON.stringify(o)},!0))}}u.loadingState="INITIAL",u.onSearchChange=b,u.onSortChange=b,u.headColumns=[{class:"state",request:"state",sortable:!1,content:t.instant("PLGN_HIST_STATE")},{class:"process-instance uuid",request:"instanceId",sortable:!1,content:t.instant("PLGN_HIST_ID")},{class:"start-time",request:"startTime",sortable:!0,content:t.instant("PLGN_HIST_START_TIME")},{class:"end-time",request:"endTime",sortable:!1,content:t.instant("PLGN_HIST_END_TIME")},{class:"business-key",request:"businessKey",sortable:!1,content:t.instant("PLGN_HIST_BUSINESS_KEY")}];var y;function b(e,n,t){u.queryObj=e||u.queryObj,u.pagesObj=n||u.pagesObj,function(e){f.set("sortHistProcInst",e)}(t=t||u.sortObj);var i=u.pagesObj.current,a=u.queryObj,s=u.pagesObj.size,o=(i-1)*s,r={processDefinitionId:h.id,parentProcessDefinitionId:g},c={firstResult:o,maxResults:s,sortBy:t.sortBy,sortOrder:t.sortOrder},l=I.extend({},r,a),d=I.extend({},l,c);return u.processInstances=null,u.loadingState="LOADING",p.count(l).$promise.then(function(e){var n=e.count;return p.query(c,d).$promise.then(function(e){return u.processInstances=e,u.loadingState=e.length?"LOADED":"EMPTY",n})})}u.sortObj=(y={sortBy:"startTime",sortOrder:"desc"},f.get("sortHistProcInst",y)),s.observe("parentProcessDefinitionId",function(e){g=e}),u.getState=function(e){return e.endTime?"completed":e.incidents.length?"has incidents":"running"},u.getProcessInstanceUrl=function(e){var n="#/process-instance/"+e.id+"/history",t=I.extend({},i.search()||{});return a.redirectTo(n,t,["viewbox"])}}],priority:10})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],185:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.tab",{id:"user-operations-table",label:"PLGN_HIST_USER_OPERATIONS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processDefinition/user-operations-tab.html --\x3e\n<user-operations-table process-definition="processDefinition" />\n\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processDefinition/user-operations-tab.html --\x3e\n\n',priority:3})}]},{}],186:[function(e,t,n){(function(e){"use strict";var m="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=["$scope","search","$http","Uri","$location","$translate","localConf",function(p,t,f,g,a,e,n){var i=p.processData.newChild(p);p.$on("$destroy",function(){t("page",null)});var s,h=p.pages=m.copy({size:50,total:0,current:1});function o(e){p.sortObj=e||p.sortObj;var o={processInstanceId:p.processInstance.id,sorting:[{sortBy:p.sortObj.sortBy,sortOrder:p.sortObj.sortOrder}]},r=((a.search()||{}).activityIds&&(a.search()||{}).activityIds.split(",")||[]).map(function(e){return{id:e}});if(0===r.length)f.post(g.appUri("engine://engine/:engine/history/activity-instance/count"),o).then(function(e){h.total=e.data.count}).catch(function(){p.loadingState="ERROR"}),f.post(g.appUri("engine://engine/:engine/history/activity-instance"),o,{params:{firstResult:(h.current-1)*h.size,maxResults:h.size}}).then(function(e){p.activityInstances=(e.data||[]).map(function(e){return e.name=e.activityName||e.activityType+" ("+e.activityId+")",e}),p.loadingState=p.activityInstances.length?"LOADED":"EMPTY"}).catch(function(){p.loadingState="ERROR"});else for(var c=0,n=0;n<r.length;n++)!function(n){var e=m.extend({activityId:r[n].id},o);f.post(g.appUri("engine://engine/:engine/history/activity-instance/count"),e).then(function(e){c+=e.data.count,r[n].count=e.data.count,t()}).catch(function(){p.loadingState="ERROR"})}(n);p.loadingState="LOADING";var l=r.length,t=function(){if(0==--l){h.total=c;for(var e=(h.current-1)*h.size,n=0;r[n].count<e&&n<r.length;)e-=r[n].count,n++;for(var t=h.size,i=0;0<t&&n<r.length;){var a=m.extend({activityId:r[n].id},o),s={firstResult:e,maxResults:t};!function(n){d++,f.post(g.appUri("engine://engine/:engine/history/activity-instance"),a,{params:s}).then(function(e){u(e.data,n)}).catch(function(){p.loadingState="ERROR"})}(i),t-=r[n].count-e,e=0,n++,i++}}},d=0,i=[],u=function(e,n){i[n]=e,0==--d&&(p.activityInstances=[].concat.apply([],i).map(function(e){return e.name=e.activityName||e.activityType+" ("+e.activityId+")",e}),p.loadingState=p.activityInstances.length?"LOADED":"EMPTY")}}p.loadingState="INITIAL",p.headColumns=[{class:"state",request:"",sortable:!1,content:e.instant("PLGN_HIST_STATE")},{class:"activity",request:"activityName",sortable:!0,content:e.instant("PLGN_HIST_ACTIVITY")},{class:"start-time",request:"startTime",sortable:!0,content:e.instant("PLGN_HIST_START_TIME")},{class:"end-time",request:"endTime",sortable:!0,content:e.instant("PLGN_HIST_END_TIME")},{class:"activity-instance",request:"activityId",sortable:!0,content:e.instant("PLGN_HIST_ACTIVITY_INSTANCE_ID")}],p.sortObj=(s={sortBy:"startTime",sortOrder:"asc"},n.get("sortAudiLogTab",s)),p.onSortChange=function(e){p.sortObj=e||p.sortObj,function(e){n.set("sortAudiLogTab",e)}(p.sortObj),o(p.sortObj)},p.$watch("pages.current",function(e,n){e!=n&&t("page",e&&1!=e?e:null)}),i.observe(["activityInstances","filter"],function(e,n){h.current=n.page||1,o()})}];t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"activity-instance-audit-log",label:"PLGN_HIST_AUDIT_LOG",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/activity-instance-audit-log.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_ACTIVITY_INSTANCES\' | translate }}"\n     text-error="{{ \'PLGN_HIST_FAILED_TO_LOAD\' | translate }}">\n  <table class="history-audit-log cam-table cam-fixed-layout">\n\n    <thead sortable-table-head\n       head-columns="headColumns"\n       on-sort-change="onSortChange(sortObj)"\n       default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="activityInstance in activityInstances">\n        <td class="state">\n          \x3c!-- running --\x3e\n          <span ng-if="!activityInstance.endTime"\n                class="glyphicon glyphicon-adjust"\n                uib-tooltip="{{ \'PLGN_HIST_RUNNING_ACTIVITY_INSTANCE\' | translate }}"\n                tooltip-placement="right"></span>\n\n          \x3c!-- completed --\x3e\n          <span ng-if="activityInstance.endTime && !activityInstance.canceled"\n                class="glyphicon glyphicon-ok-circle"\n                uib-tooltip="{{ \'PLGN_HIST_COMPLETED_ACTIVITY_INSTANCE\' | translate }}"\n                tooltip-placement="right"></span>\n\n          \x3c!-- canceled --\x3e\n          <span ng-if="activityInstance.endTime && activityInstance.canceled"\n                class="glyphicon glyphicon-ban-circle"\n                uib-tooltip="{{ \'PLGN_HIST_CANCELED_ACTIVITY_INSTANCE\' | translate }}"\n                tooltip-placement="right"></span>\n\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="activityInstance.id">\n          <a cam-select-activity-instance="activityInstance.id"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=activity-instance-audit-log&amp;activityInstanceIds={{ activityInstance.id }}"\n             title="{{ activityInstance.id }}">\n          {{ activityInstance.name }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="activityInstance.startTime">\n          {{ activityInstance.startTime | camDate }}\n        </td>\n\n        <td class="end-time"\n            ng-if="activityInstance.endTime"\n            cam-widget-clipboard="activityInstance.endTime">\n          {{ activityInstance.endTime | camDate }}\n        </td>\n        <td class="end-time"\n            ng-if="!activityInstance.endTime">\n        </td>\n\n        <td class="activity-instance"\n            cam-widget-clipboard="activityInstance.id">\n          {{ activityInstance.id }}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/activity-instance-audit-log.html --\x3e\n',controller:n,priority:40})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],187:[function(e,n,t){(function(e){"use strict";var l="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"called-process-instances-tab",label:"PLGN_HIST_CALLED_PROCESS_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/called-process-instance-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_CALLED_PROCESS_INSTANCES\' | translate }}">\n  <table class="called-process-instance cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sorting)"\n           default-sort="sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="calledProcessInstance in calledProcessInstances">\n        <td class="state">{{ getState(calledProcessInstance) }}</td>\n        <td class="called process-instance uuid"\n            cam-widget-clipboard="calledProcessInstance.id">\n          <a href="#/process-instance/{{ calledProcessInstance.id }}/history">\n            {{ calledProcessInstance.id }}\n          </a>\n        </td>\n\n        <td class="process-definition"\n            cam-widget-clipboard="calledProcessInstance.processDefinitionId">\n          <a href="#/process-definition/{{ calledProcessInstance.processDefinitionId }}/history?parentProcessDefinitionId={{ processInstance.processDefinitionId }}">\n            {{ calledProcessInstance.processDefinitionName }}\n          </a>\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="calledProcessInstance.instance.id">\n          <a cam-select-activity-instance="calledProcessInstance.instance.id"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?activityInstanceIds={{ calledProcessInstance.instance.id }}&detailsTab=called-process-instances-tab">\n            {{ calledProcessInstance.instance.name }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="calledProcessInstance.startTime">{{ calledProcessInstance.startTime | camDate }}</td>\n\n        <td ng-if="calledProcessInstance.endTime"\n            class="end-time"\n            cam-widget-clipboard="calledProcessInstance.endTime">{{ calledProcessInstance.endTime | camDate }}</td>\n\n        <td ng-if="!calledProcessInstance.endTime"\n            class="end-time"></td>\n\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/called-process-instance-table.html --\x3e\n',controller:["$scope","PluginHistoricProcessInstanceResource","$translate","localConf",function(i,a,e,n){var t,s=i.processData.newChild(i),o=i.processInstance,r=null;function c(e,n,t){i.newFilter=e||i.newFilter,i.sorting=t||i.sorting,i.instanceIdToInstanceMap=n||i.instanceIdToInstanceMap,delete(r=l.copy(e)).page,delete r.activityIds,delete r.scrollToBpmnElement,r.activityInstanceIdIn=r.activityInstanceIds,delete r.activityInstanceIds,r.sortBy=i.sorting.sortBy,r.sortOrder=i.sorting.sortOrder,i.calledProcessInstances=null,i.loadingState="LOADING",a.getCalledProcessInstances({id:o.id},r).$promise.then(function(e){l.forEach(e,function(e){var n=i.instanceIdToInstanceMap[e.callActivityInstanceId];e.instance=n}),i.calledProcessInstances=e,i.loadingState=e.length?"LOADED":"EMPTY"})}i.headColumns=[{class:"state",request:"",sortable:!1,content:e.instant("PLGN_HIST_STATE")},{class:"called process-instance uuid",equest:"",sortable:!1,content:e.instant("PLGN_HIST_CALLED_PROCESS_INSTANCE")},{class:"process-definition",request:"",sortable:!1,content:e.instant("PLGN_HIST_PROCESS_DEFINITION")},{class:"activity",request:"",sortable:!1,content:e.instant("PLGN_HIST_ACTIVITY")},{class:"start-time",request:"startTime",sortable:!0,content:e.instant("PLGN_HIST_START_TIME")},{class:"end-time",request:"",sortable:!1,content:e.instant("PLGN_HIST_END_TIME")}],i.sorting=(t={sortBy:"startTime",sortOrder:"desc"},n.get("sortprocessInstHistTabCalledProcessInstTab",t)),i.onSortChange=function(e){!function(e){n.set("sortprocessInstHistTabCalledProcessInstTab",e)}(e),c(e)},s.observe(["filter","instanceIdToInstanceMap"],function(e,n){c(e,n)}),i.getState=function(e){return e.endTime?"completed":"running"}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],188:[function(e,n,t){(function(e){"use strict";var m="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"decision-instances-tab",label:"PLGN_HIST_EXECUTED_DECISION_INSTANCES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/decision-instances-tab.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_DECISION_INSTANCES\' | translate }}">\n  <table class="decision-instances cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="decisionInstance in decisionInstances">\n        <td class="instance-id uuid"\n            cam-widget-clipboard="decisionInstance.id">\n          <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n            {{ decisionInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="decisionInstance.evaluationTime">\n          {{ decisionInstance.evaluationTime | camDate }}\n        </td>\n\n        <td class="decision-definition-key"\n            cam-widget-clipboard="decisionInstance.decisionDefinitionKey">\n          <a ng-href="{{ getDecisionDefinitionLink(decisionInstance) }}">\n            {{ decisionInstance.decisionDefinitionKey }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionInstance.decisionRequirementsDefinitionKey">\n          <a ng-href="#/decision-requirement/{{ decisionInstance.decisionRequirementsDefinitionId }}/history">\n            {{ decisionInstance.decisionRequirementsDefinitionKey }}\n          </a>\n        </td>\n\n        <td class="drd-definition"\n            ng-if="!decisionInstance.decisionRequirementsDefinitionId">\n        </td>\n\n        <td class="activity"\n            cam-widget-clipboard="decisionInstance.activityInstanceId">\n          <a cam-select-activity-instance="decisionInstance.activityInstanceId"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=decision-instances-tab&amp;activityInstanceIds={{ decisionInstance.activityInstanceId }}"\n             title="{{ activityInstance.id }}">\n            {{ decisionInstance.activityInstance.name || decisionInstance.activityId }}\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/decision-instances-tab.html --\x3e\n\n',controller:["$scope","$location","$translate","search","routeUtil","camAPI","localConf",function(c,e,n,t,i,a,s){var o,r=c.processData.newChild(c),l=c.sorting=(o={sortBy:"evaluationTime",sortOrder:"desc"},s.get("sortHPIExecutedDIsTab",o));c.headColumns=[{class:"instance-id uuid",request:"",sortable:!1,content:n.instant("PLGN_HIST_ID")},{class:"start-time",request:"evaluationTime",sortable:!0,content:n.instant("PLGN_HIST_EVALUATION_TIME")},{class:"decision-definition-key",request:"",sortable:!1,content:n.instant("PLGN_HIST_DECISION_DEFINITION_KEY")},{class:"drd-definition",request:"",sortable:!1,content:n.instant("PLGN_HIST_DECISION_REQUIREMENTS_DEFINITION")},{class:"activity",request:"",sortable:!1,content:n.instant("PLGN_HIST_ACTIVITY")}],c.getDecisionDefinitionLink=function(e){return"#/decision-definition/"+e.decisionDefinitionId+"/history"},c.$on("$routeChanged",function(){p.current=t().page||1});var d=a.resource("history"),u={size:50,total:0,current:t().page||1};c.$on("$destroy",function(){t("page",null)});var p=c.pages=m.copy(u),f=null,g=null;function h(e,a,n){f=e;var t=p.current,i=p.size,s=(t-1)*i;c.decisionInstances=null;var o={processInstanceId:c.processInstance.id,firstResult:s,maxResults:i,sortBy:n.sortBy,sortOrder:n.sortOrder},r={processInstanceId:c.processInstance.id};f.activityIds&&0<f.activityIds.length&&(o.activityIdIn=f.activityIds,r.activityIdIn=f.activityIds),c.loadingState="LOADING",d.decisionInstance(o,function(e,n){c.decisionInstances=n;for(var t,i=0;t=n[i];i++)t.activityInstance=a[t.activityInstanceId];c.loadingState=n.length?"LOADED":"EMPTY"}),d.decisionInstanceCount(r,function(e,n){p.total=n.count})}c.$watch("pages.current",function(e,n){e!=n&&t("page",e&&1!=e?e:null)}),c.onSortChange=function(e){(function(e){s.set("sortHPIExecutedDIsTab",e)})(l=e),h(f,g,l)},r.observe(["instanceIdToInstanceMap","filter"],function(e,n){p.current=n.page||1,h(n,g=e,l)})}],priority:17})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],189:[function(e,n,t){"use strict";var i=e("camunda-bpm-webapp/ui/cockpit/client/scripts/components/callActivityOverlay")("history");n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.diagram.plugin",{id:"historic-activity-call-activity-overlay",overlay:i})}]},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/callActivityOverlay":1}],190:[function(o,r,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=o("./stats"),a=o("./callActivity"),s=n.module("cockpit.plugin.history.views.instanceDiagramPlugins",[t.name]);s.config(i),s.config(a),r.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callActivity":189,"./stats":191}],191:[function(e,n,t){(function(e){"use strict";var y="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.diagram.plugin",{id:"historic-activity-statistics-overlay",overlay:["$scope","control","processData","processDiagram","Loaders","get","$filter","$translate",function(o,e,c,r,n,t,l,d){var i=e.getViewer(),u=i.get("overlays"),p=i.get("elementRegistry"),f=n.startLoading(),g={},h=y.element('<div class="activity-bottom-left-position instances-overlay">\n  <span class="badge instance-count"></span>\n  <span class="badge badge-important instance-incidents"></span>\n</div>\n'),m=y.element('<span class="activity-bottom-right-position">\n  <span class="badge badge-important closed-incidents">!</span>\n  <span class="badge activity-instance-canceled"></span>\n  <span class="badge activity-instance-completed"></span>\n</span>\n');c.observe(["activityIdToInstancesMap","activityIdToIncidentsMap"],function(a,s){f(),p.forEach(function(e){var n=r.bpmnElements[e.businessObject.id],t=function(e,n,t){var i=e.id,a=n[i]||n[i+"#multiInstanceBody"]||[],s=t[i]||t[i+"#multiInstanceBody"]||[],o=a.filter(function(e){return e.endTime&&e.canceled}),r=a.filter(function(e){return e.endTime&&!e.canceled}),c=a.filter(function(e){return!e.endTime}),l=s.filter(function(e){return e.open}),d=s.filter(function(e){return e.resolved||e.deleted});return{running:c,completed:r,canceled:o,openIncidents:l,endedIncidents:d}}(n,a,s);if(n.isSelectable=t.running.length||t.completed.length||t.canceled.length||t.openIncidents.length||t.endedIncidents.length,n.isSelectable){var i=g[n.id];i||(function(e,n){var t=function(e,n){var t=y.copy(v),i=n.ctrlKey,a=e.id,s=y.copy(t.activityIds)||[],o=s.indexOf(a),r=-1!==o;a?i?r?s.splice(o,1):s.push(a):s=[a]:s=null;t.activityIds=s,c.set("filter",t)}.bind(null,n);e.completed.on("click",t),e.running.on("click",t),o.$on("$destroy",function(){e.completed.off("click",t),e.running.off("click",t)})}(i=function(){var e=m.clone(),n=h.clone();return{completed:e,running:n,closedIncidents:e.find(".closed-incidents"),canceledInstances:e.find(".activity-instance-canceled"),completedInstances:e.find(".activity-instance-completed"),runningInstances:n.find(".instance-count"),openIncidents:n.find(".instance-incidents")}}(),n),u.add(n.id,{position:{bottom:0,left:0},show:{minZoom:-1/0,maxZoom:1/0},html:i.running}),u.add(n.id,{position:{bottom:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:i.completed}),g[n.id]=i),function(e,n){n.endedIncidents.length?(e.closedIncidents.show(),e.closedIncidents.tooltip({container:"body",title:d.instant("PLGN_HIST_CLOSED_INCIDENTS"),placement:"top",animation:!1})):e.closedIncidents.hide();n.canceled.length?(e.canceledInstances.show(),e.canceledInstances.text(l("abbreviateNumber")(n.canceled.length)),e.canceledInstances.tooltip({container:"body",title:d.instant("PLGN_HIST_CANCELED_ACTIVITY_INSTANCES"),placement:"top",animation:!1})):e.canceledInstances.hide();var t=n.completed.filter(function(e){return-1<e.activityId.indexOf("#multiInstanceBody")}),i=n.completed.filter(function(e){return e.activityId.indexOf("#multiInstanceBody")<=-1});i.length||t.length?(e.completedInstances.show(),e.completedInstances.text(l("abbreviateNumber")(i.length)||0),e.completedInstances.tooltip({container:"body",title:d.instant("PLGN_HIST_COMPLETED_ACTIVITY_INSTANCES"),placement:"top",animation:!1})):e.completedInstances.hide();n.running.length?(e.runningInstances.show(),e.runningInstances.text(l("abbreviateNumber")(n.running.length)),e.runningInstances.tooltip({container:"body",title:d.instant("PLGN_HIST_RUNNING_ACTIVITY_INSTANCES"),placement:"top",animation:!1})):e.runningInstances.hide();n.openIncidents.length?(e.openIncidents.show(),e.openIncidents.text(l("abbreviateNumber")(n.openIncidents.length)),e.openIncidents.tooltip({container:"body",title:d.instant("PLGN_HIST_OPEN_INCIDENTS"),placement:"top",animation:!1})):e.openIncidents.hide()}(i,t)}})});var v=c.observe("filter",function(e){v=e})}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],192:[function(e,n,t){(function(e){"use strict";var h="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"historic-process-instance-job-log",label:"PLGN_HIST_JOB_LOG",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/historic-job-log-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_JOB_LOGS\' | translate }}">\n  <table class="history-job-log cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="log in logs">\n        <td class="state">\n          {{ getState(log) }}\n        </td>\n\n        <td class="message">\n          <span ng-show="log.failureLog">\n          <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n             target="_blank"\n             ng-show="log.jobExceptionMessage"\n             uib-tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n             tooltip-placement="top">\n            {{ log.jobExceptionMessage }}\n          </a>\n          <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n             target="_blank"\n             ng-hide="log.jobExceptionMessage"\n             uib-tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n             tooltip-placement="top">\n            <i>Message is null.</i>\n          </a>\n          </span>\n        </td>\n\n        <td class="timestamp">\n          {{ log.timestamp | camDate }}\n        </td>\n\n        <td class="due">\n          {{ log.jobDueDate | camDate }}\n        </td>\n\n        <td class="activity">\n          <a ng-href="#/process-instance/{{ processInstance.id }}/history?activityIds={{ log.activityId }}&amp;detailsTab=historic-process-instance-job-log">\n            {{ log.activityName }}\n          </a>\n        </td>\n\n        <td class="job uuid">\n          {{ log.jobId }}\n        </td>\n\n        <td class="type">\n          {{ log.jobDefinitionType }}\n        </td>\n\n        <td class="configuration">\n          {{ log.jobDefinitionConfiguration }}\n        </td>\n\n        <td class="retries">\n          {{ log.jobRetries }}\n        </td>\n\n        <td class="priority">\n          {{ log.jobPriority }}\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/historic-job-log-table.html --\x3e\n',controller:["$scope","search","Uri","HistoricJobLogResource","$translate","localConf",function(u,t,n,p,e,i){var a;u.headColumns=[{class:"state",request:"suspended",sortable:!1,content:e.instant("PLGN_HIST_STATE")},{class:"message",request:"failureLog",sortable:!1,content:e.instant("PLGN_HIST_MESSAGE")},{class:"timestamp",request:"timestamp",sortable:!0,content:e.instant("PLGN_HIST_TIMESTAMPE")},{class:"due",request:"jobDueDate",sortable:!0,content:e.instant("PLGN_HIST_DUE_DATE")},{class:"activity",request:"activityName",sortable:!1,content:e.instant("PLGN_HIST_ACTIVITY")},{class:"job uuid",request:"jobId",sortable:!0,content:e.instant("PLGN_HIST_JOB_ID")},{class:"type",request:"jobDefinitionType",sortable:!1,content:e.instant("PLGN_HIST_TYPE")},{class:"configuration",request:"jobDefinitionConfiguration",sortable:!1,content:e.instant("PLGN_HIST_CONFIGURATION")},{class:"retries",request:"jobRetries",sortable:!0,content:e.instant("PLGN_HIST_RETRIES")},{class:"priority",request:"jobPriority",sortable:!0,content:e.instant("PLGN_HIST_PRIORITY")}],u.sortObj=(a={sortBy:"timestamp",sortOrder:"asc"},i.get("sortJobLogTab",a)),u.onSortChange=function(e){u.sortObj=e||u.sortObj,function(e){i.set("sortJobLogTab",e)}(u.sortObj),o({sortObj:u.sortObj})};var s=u.processData.newChild(u),f=u.processInstance,g=u.pages=h.copy({size:50,total:0,current:1});function o(e,n,t){u.filter=e||u.filter,u.bpmnElements=n||u.bpmnElements,u.sortObj=t||u.sortObj;var i=g.current,a=g.size,s=(i-1)*a,o={processInstanceId:f.id,activityIdIn:u.filter.activityIds},r={sorting:[{sortBy:u.sortObj.sortBy,sortOrder:u.sortObj.sortOrder}]},c=h.extend({},o),l=h.extend({},r,o),d={firstResult:s,maxResults:a};u.logs=null,u.loadingState="LOADING",p.query(d,l).$promise.then(function(e){u.logs=e,u.loadingState=e.length?"LOADED":"EMPTY",h.forEach(e,function(e){var n=e.activityId,t=u.bpmnElements[n];e.activityName=t&&(t.name||t.id)||n})}),p.count(c).$promise.then(function(e){g.total=e.count})}u.$on("$destroy",function(){t("page",1)}),u.loadingState="INITIAL",u.$watch("pages.current",function(e,n){e!=n&&t("page",e&&1!=e?e:null)}),s.observe(["filter","bpmnElements"],function(e,n){g.current=e.page||1,o(e,n)}),u.getState=function(e){return e.creationLog?"Created":e.failureLog?"Failed":e.deletionLog?"Deleted":e.successLog?"Successful":void 0},u.getHistoricJobLogStacktraceUrl=function(e){return n.appUri("engine://engine/:engine/history/job-log/"+e.id+"/stacktrace")}}],priority:2})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],193:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"incidents-tab",label:"PLGN_HIST_INCIDENTS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/history/app/views/processInstance/incidents-tab.html --\x3e\n<incidents-tab\n  process-data="processData"\n  process-instance="processInstance"\n  incidents-context="history"/>\n',controller:function(){},priority:15})}]},{}],194:[function(e,n,t){"use strict";n.exports=["$scope","Notifications","JobResource","$uibModalInstance","incident","$translate",function(n,t,e,i,a,s){n.$on("$routeChangeStart",function(){i.close(n.status)}),n.incrementRetry=function(){n.status="performing",e.setRetries({id:a.configuration},{retries:1},function(){n.status="finished",t.addMessage({status:s.instant("PLGN_HIST_FINISHED"),message:s.instant("PLGN_HIST_INCREMENTING_SUCCESSFUL"),exclusive:!0})},function(e){n.status="failed",t.addError({status:s.instant("PLGN_HIST_FINISHED"),message:s.instant("PLGN_HIST_INCREMENTING_FAILED",{err:e.data.message}),exclusive:!0})})},n.close=function(e){i.close(e)}}]},{}],195:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"user-operations-table",label:"PLGN_HIST_USER_OPERATION",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processInstance/user-operations-tab.html --\x3e\n<user-operations-table process-instance="processInstance" />\n\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/processInstance/user-operations-tab.html --\x3e\n\n',priority:3})}]},{}],196:[function(e,n,t){(function(e){"use strict";var c="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["$scope","$uibModalInstance","UserOperationLogResource","userTask",function(a,e,s,n){var o={taskId:n.id,sortBy:"timestamp",sortOrder:"asc"},r=a.pages={size:10,total:0};a.userTask=n,a.$on("$routeChangeStart",function(){e.close(a.status)}),a.$watch("pages.current",function(e,n){e?e!==n&&function(e){var n=r.size,t={firstResult:(e-1)*n,maxResults:n},i=c.extend({},t,o);a.loadingState="LOADING",s.query(i).$promise.then(function(e){a.userTaskLog=e,a.loadingState=e.length?"LOADED":"EMPTY"}),s.count(o).$promise.then(function(e){r.total=e.count})}(r.current=e):r.current=1}),a.close=function(){e.close()}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],197:[function(e,n,t){(function(e){"use strict";var v="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"user-tasks-tab",label:"PLGN_HIST_USER_TASKS",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/user-tasks-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLGN_HIST_NO_USER_TASKS\' | translate }}">\n  <table class="process-instance user-tasks cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="userTask in userTasks">\n        <td class="activity">\n          <a ng-show="userTask.instance"\n             cam-select-activity-instance="userTask.activityInstanceId"\n             ng-href="#/process-instance/{{ processInstance.id }}/history?detailsTab=user-tasks-tab&amp;activityInstanceIds={{ userTask.activityInstanceId }}">\n            {{ userTask.instance.name }}\n          </a>\n          <span ng-hide="userTask.instance">\n            {{ userTask.name }}\n          </span>\n        </td>\n\n        <td class="assignee"\n            ng-if="userTask.assignee"\n            cam-widget-clipboard="userTask.assignee">\n          {{ userTask.assignee }}\n        </td>\n        <td class="assignee"\n            ng-if="!userTask.assignee"></td>\n\n        <td class="owner"\n            ng-if="userTask.owner"\n            cam-widget-clipboard="userTask.owner">\n          {{ userTask.owner }}\n        </td>\n        <td class="owner"\n            ng-if="!userTask.owner"></td>\n\n        <td class="created"\n            cam-widget-clipboard="userTask.startTime">\n          {{ userTask.startTime | camDate }}\n        </td>\n\n        <td class="completion-date"\n            ng-if="userTask.endTime"\n            cam-widget-clipboard="userTask.endTime">\n          {{ userTask.endTime | camDate }}\n        </td>\n        <td class="completion-date"\n            ng-if="!userTask.endTime"></td>\n\n        <td class="duration"\n            ng-if="userTask.duration"\n            cam-widget-clipboard="userTask.duration">\n          {{ userTask.duration | duration }}\n        </td>\n        <td class="duration"\n            ng-if="!userTask.duration"></td>\n\n        <td class="due"\n            ng-if="userTask.due"\n            cam-widget-clipboard="userTask.due">\n          {{ userTask.due | camDate  }}\n        </td>\n        <td class="due"\n            ng-if="!userTask.due"></td>\n\n        <td class="follow-up-date"\n            ng-if="userTask.followUp"\n            cam-widget-clipboard="userTask.followUp">\n          {{ userTask.followUp | camDate  }}\n        </td>\n        <td class="follow-up-date"\n            ng-if="!userTask.followUp"></td>\n\n        <td class="priority">\n          {{ userTask.priority }}\n        </td>\n\n        <td class="task-id uuid"\n            cam-widget-clipboard="userTask.id">\n          {{ userTask.id }}\n        </td>\n\n        <td class="action">\n          <a class="btn btn-default action-button"\n             ng-click="openUserTaskLogDialog(userTask)"\n             uib-tooltip="{{ \'PLGN_HIST_SHOW_USER_TASK_LOG\' | translate }}"\n             tooltip-placement="left">\n            <span class="glyphicon glyphicon-list"></span>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/user-tasks-table.html --\x3e\n',controller:["$scope","$uibModal","$translate","search","Uri","localConf","camAPI",function(p,n,e,t,i,a,f){var s=p.processData.newChild(p),g=p.processInstance;p.$on("$destroy",function(){t("page",null)});var o,h=p.pages=v.copy({size:50,total:0,current:1}),m=null,r=null,c=p.sorting=(o={sortBy:"startTime",sortOrder:"desc"},a.get("sortHPIUserTaskTab",o));function l(e,a,n){var t=f.resource("history");delete(m=v.copy(e)).page,delete m.activityIds,delete m.scrollToBpmnElement;var i=h.current,s=h.size,o=(i-1)*s,r={processInstanceId:g.id,processDefinitionId:g.processDefinitionId},c={firstResult:o,maxResults:s,sorting:[{sortBy:n.sortBy,sortOrder:n.sortOrder}]};m.activityInstanceIds&&m.activityInstanceIds.length&&(m.activityInstanceIdIn=m.activityInstanceIds),delete m.activityInstanceIds;var l=v.extend({},m,r),d=v.extend({},m,r,c);function u(e){throw p.loadingError=e.message,p.loadingState="ERROR",e}p.userTasks=[],p.loadingState="LOADING",t.taskCount(l,function(e,n){if(e)return u(e);h.total=n.count,n.count?t.task(d,function(e,n){if(e)return u(e);for(var t,i=0;t=n[i];i++)t.instance=a[t.activityInstanceId];p.userTasks=n,p.loadingState="LOADED"}):p.loadingState="EMPTY"})}p.headColumns=[{class:"activity",request:"taskName",sortable:!0,content:e.instant("PLGN_HIST_ACTIVITY")},{class:"assignee",request:"assignee",sortable:!0,content:e.instant("PLGN_HIST_ASSIGNEE")},{class:"owner",request:"owner",sortable:!0,content:e.instant("PLGN_HIST_OWNER")},{class:"created",request:"startTime",sortable:!0,content:e.instant("PLGN_HIST_CREATION_DATE")},{class:"completion-date",request:"endTime",sortable:!0,content:e.instant("PLGN_HIST_COMPLETION_DATE")},{class:"duration",request:"duration",sortable:!0,content:e.instant("PLGN_HIST_DURATION")},{class:"due",request:"dueDate",sortable:!0,content:e.instant("PLGN_HIST_DUE_DATE")},{class:"follow-up-date",request:"followUpDate",sortable:!0,content:e.instant("PLGN_HIST_FOLLOW_UP_DATE")},{class:"priority",request:"priority",sortable:!0,content:e.instant("PLGN_HIST_PRIORITY")},{class:"task-id uuid",request:"taskId",sortable:!0,content:e.instant("PLGN_HIST_TASK_ID")},{class:"action",request:"",sortable:!1,content:e.instant("PLGN_HIST_ACTION")}],p.$watch("pages.current",function(e,n){e!=n&&t("page",e&&1!=e?e:null)}),s.observe(["filter","instanceIdToInstanceMap"],function(e,n){h.current=e.page||1,l(e,r=n,c)}),p.onSortChange=function(e){(function(e){a.set("sortHPIUserTaskTab",e)})(c=e),l(m,r,c)},p.openUserTaskLogDialog=function(e){n.open({resolve:{userTask:function(){return e}},controller:"TaskInstanceLogController",template:'\x3c!-- # EE - src/main/resources/plugin-webapp/history/app/views/processInstance/user-task-log.html --\x3e\n<div class="modal-header">\n  <h3 translate="PLGN_HIST_USER_LOG"\n      translate-values="{name: (userTask.instance.name || userTask.name)}"></h3>\n</div>\n\n<div class="process-instance user-task-log modal-body">\n  <div notifications-panel></div>\n\n  <p>{{ \'PLGN_HIST_CHANGES_TASKS\' | translate }}</p>\n\n  <div cam-widget-loader\n       loading-state="{{ loadingState }}"\n       text-empty="{{ \'PLGN_HIST_NO_USER_TASK_LOG\' | translate }}">\n\n    <table class="task-log cam-table">\n      <thead>\n        <tr>\n          <th class="operation">{{ \'PLGN_HIST_OPERATION\' | translate }}</th>\n          <th class="user">{{ \'PLGN_HIST_USER\' | translate }}</th>\n          <th class="change-time">{{ \'PLGN_HIST_CHANGE_TIME\' | translate }}</th>\n          <th class="property">{{ \'PLGN_HIST_PROPERTY\' | translate }}</th>\n          <th class="original-value">{{ \'PLGN_HIST_ORIGINAL_VALUE\' | translate }}</th>\n          <th class="new-value">{{ \'PLGN_HIST_NEW_VALUE\' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="log in userTaskLog">\n          <td class="operation">{{ log.operationType }}</td>\n          <td class="user">{{ log.userId }}</td>\n          <td class="change-time">{{ log.timestamp | camDate }}</td>\n          <td class="property">{{ log.property }}</td>\n          <td class="original-value">{{ log.orgValue }}</td>\n          <td class="new-value">{{ log.newValue }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n\n    <ul uib-pagination ng-if="pages.total > pages.size"\n                class="pagination-sm"\n\n                page="pages.current"\n                ng-model="pages.current"\n\n                total-items="pages.total"\n                items-per-page="pages.size"\n\n                max-size="7"\n                boundary-links="true"></ul>\n  </div>\x3c!-- / cam-widget-loader --\x3e\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - src/main/resources/plugin-webapp/history/app/views/processInstance/user-task-log.html --\x3e\n'}).result.catch(v.noop)}}],priority:5})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],198:[function(e,n,t){(function(e){"use strict";var _="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["$scope","$http","Uri","$uibModalInstance","HistoricDetailResource","variable","variableInstanceData",function(a,n,t,e,s,i,o){var r="showObjectDetail",c={variableInstanceId:i.id,variableUpdates:!0},l={sortBy:"occurrence",sortOrder:"asc"},d=a.pages={size:10,total:0};a.variable=i,a.state="default",a.selectedDetail=null,a.selectedTab="serialized";var u=o.observe("instanceIdToInstanceMap",function(e){u=e});a.$on("$routeChangeStart",function(){e.close(a.status)}),a.$watch("pages.current",function(e,n){e?e!==n&&function(e){var n=d.size,t={firstResult:(e-1)*n,maxResults:n,deserializeValues:!1},i=_.extend({},t,l,c);a.loadingState="LOADING",s.query(i).$promise.then(function(e){_.forEach(e,function(e){var n=u[e.activityInstanceId];e.instance=n}),a.variableDetails=e,a.loadingState=e.length?"LOADED":"EMPTY"}),s.count(c).$promise.then(function(e){d.total=e.count})}(d.current=e):d.current=1});var p=a.isBoolean=function(e){return"boolean"===e.variableType||"Boolean"===e.variableType},f=a.isInteger=function(e){return"integer"===e.variableType||"Integer"===e.variableType},g=a.isShort=function(e){return"short"===e.variableType||"Short"===e.variableType},h=a.isLong=function(e){return"long"===e.variableType||"Long"===e.variableType},m=a.isDouble=function(e){return"double"===e.variableType||"Double"===e.variableType},v=a.isFloat=function(e){return"float"===e.variableType||"Float"===e.variableType},y=a.isString=function(e){return"string"===e.variableType||"String"===e.variableType},b=a.isDate=function(e){return"date"===e.variableType||"Date"===e.variableType},I=a.isNull=function(e){return"null"===e.variableType||"Null"===e.variableType};a.isBinary=function(e){return"binary"===e.variableType||"Binary"===e.variableType},a.isObject=function(e){return"object"===e.variableType||"Object"===e.variableType},a.isJsonOrXml=function(e){return e.variableType&&-1<["json","xml","string"].indexOf(e.variableType.toLowerCase())},a.isPrimitive=function(e){return f(e)||g(e)||h(e)||m(e)||v(e)||y(e)||b(e)||p(e)||I(e)},a.getBinaryVariableDownloadLink=function(e){return t.appUri("engine://engine/:engine/history/detail/"+e.id+"/data")},a.showDetail=function(e){a.state="Object"===e.variableType?r:"showJsonXmlDetail",a.selectedDetail=e,a.state===r&&n({method:"GET",url:t.appUri("engine://engine/:engine/history/detail/"+e.id)}).then(function(e){e.data.errorMessage?a.deserializationError=e.data.errorMessage:a.selectedDetail.valueDeserialized=JSON.stringify(e.data.value)})},a.selectTab=function(e){a.selectedTab=e},a.closeDetail=function(){a.state="default",a.selectedDetail=null,a.deserializationError=null},a.close=function(){e.close()}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],199:[function(n,t,e){(function(e){"use strict";var E="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,r=n("camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog");t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.history.tab",{id:"variables-tab",label:"PLGN_HIST_VARIABLES",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instances-tab.html --\x3e\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityInstanceIdIn\']"\n     variable-types="[\'variableValue\']"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     text-empty="{{ \'PLGN_HIST_NO_PROCESS_VARIABLES\' | translate }}"\n     blocked="!instanceIdToInstanceMap"\n     storage-group="\'VI\'">\n\n  <div cam-widget-variables-table\n       on-download="downloadVariable"\n       cam-variables="variables"\n       on-edit="editVariable"\n       on-download="downloadVariable"\n       on-Sort-Change="onSortChange(query, pages,sortObj)"\n       default-sort = "sortObj"\n       cam-editable="[]"\n       cam-headers="headColumns">\n  </div>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instances-tab.html --\x3e\n',controller:["$scope","$uibModal","$q","Uri","searchWidgetUtils","Notifications","unfixDate","camAPI","$translate","localConf","escapeHtml",function(p,t,i,n,f,g,h,e,m,v,y){var b,a=p.processData.newChild(p),I=p.processInstance,_=e.resource("history");p.headColumns=[{class:"name",request:"variableName",sortable:!0,content:m.instant("PLUGIN_VARIABLE_NAME")},{class:"type",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_TYPE")},{class:"value",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_VALUE")},{class:"state",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_STATE")},{class:"scope",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_SCOPE")},{class:"action",request:"",sortable:!1,content:m.instant("PLUGIN_VARIABLE_ACTION")}];var s;p.sortObj=(s={sortBy:"variableName",sortOrder:"asc"},v.get("sortVarInstTab",s)),p.searchConfig=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "variableName",\n        "value": "PLGN_HIST_SEARCH_VARIABLE_NAME"\n      },\n      "default": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_HIST_SEARCH_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_HIST_SEARCH_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variableValue",\n        "value": "PLGN_HIST_SEARCH_VARIABLE_VALUE"\n      },\n      "extended": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_HIST_SEARCH_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_HIST_SEARCH_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_HIST_SEARCH_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_HIST_SEARCH_ADD_CRITERIA",\n    "invalid": "PLGN_HIST_SEARCH_INVALID",\n    "deleteSearch": "PLGN_HIST_SEARCH_REMOVE",\n    "type": "PLGN_HIST_SEARCH_TYPE",\n    "name": "PLGN_HIST_SEARCH_PROPERTY",\n    "operator": "PLGN_HIST_SEARCH_OPERATOR",\n    "value": "PLGN_HIST_SEARCH_VALUE"\n  }\n}\n'),E.forEach(p.searchConfig.tooltips,function(e,n){p.searchConfig.tooltips[n]=m.instant(e)}),p.searchConfig.types.map(function(e){return e.id.value=m.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=m.instant(e.value),e})),e}),p.total=0,p.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date"],p.downloadVariable=function(e){return n.appUri("engine://engine/:engine/history/variable-instance/"+e.variable.id+"/data")},p.onSearchChange=function(e,n,t){return p.query=e||p.query,p.pages=n||p.pages,p.instanceIdToInstanceMap?function(i,e,n,t){p.queryObj=e||p.queryObj,p.pagesObj=n||p.pagesObj,t=t||p.sortObj;var a=p.pagesObj.current,s=p.pagesObj.size,o=(a-1)*s,r={processInstanceId:I.id,includeDeleted:!0};t&&(r.sorting=[t],function(e){v.set("sortVarInstTab",e)}(t));var c={firstResult:o,maxResults:s,deserializeValues:!1},l=E.extend({},p.queryObj,r),d=E.extend({},c,l),u=d.variableValue;u&&u.length&&(d.variableValue=u[0].value,d.variableName=u[0].name);return p.variables=null,p.loadingState="LOADING",b={},_.variableInstanceCount(l).then(function(e){return p.total=e.count,_.variableInstance(d).then(function(e){var n=e,t=!1;return E.forEach(n,function(e){var n=i[e.activityInstanceId];e.instance=n}),p.variables=n.map(function(e){var n=i[e.activityInstanceId];return n||(t=!0,n={id:e.activityInstanceId,name:""}),e.instance=n,b[e.id]=E.copy(e),"Date"===e.type&&(e.value=h(e.value)),{variable:{id:e.id,name:e.name,type:e.type,value:e.value,valueInfo:e.valueInfo,executionId:e.executionId},original:e,additions:{state:{html:e.state},scope:{html:'<a ng-href="#/process-instance/'+I.id+"/history?detailsTab=variables-tab&"+f.getSearchQueryForSearchType("activityInstanceIdIn",n.id)+'" title="'+n.id+'">'+y.escape(n.name)+"</a>",scopeVariables:{processData:p.processData}},action:{html:'<a class="btn btn-sm btn-default action-button"   ng-click="openVariableDetailsDialog(variable)"   uib-tooltip="'+m.instant("PLGN_HIST_SHOW_VARIABLE_LOG")+'"   tooltip-placement="left">  <span class="glyphicon glyphicon-list"></span></a><a class="btn btn-sm btn-default action-button"   ng-click="deleteVariable(variable)"   uib-tooltip="'+m.instant("PLGN_HIST_DELETE_VARIABLE")+'"   tooltip-placement="left">  <span class="glyphicon glyphicon-trash"></span></a>',scopeVariables:{variable:e,openVariableDetailsDialog:p.openVariableDetailsDialog,deleteVariable:p.deleteVariable,processData:p.processData}}}}}),p.loadingState=n.length?"LOADED":"EMPTY",t&&g.addMessage({status:m.instant("PLGN_HIST_NOTIFICATION"),message:m.instant("PLGN_HIST_CANT_LOAD_SCOPE"),duration:5e3,exclusive:!0,type:"warning"}),p.total})})}(p.instanceIdToInstanceMap,p.query,p.pages,t):i.when(p.total)},p.onSortChange=p.onSearchChange,a.observe(["instanceIdToInstanceMap"],function(e){p.instanceIdToInstanceMap=e}),p.editVariable=function(e){return t.open({template:r.template,controller:r.controller,windowClass:"cam-widget-variable-dialog",resolve:{basePath:function(){return"engine://engine/:engine/execution/"+e.variable.executionId+"/localVariables/"+e.variable.name},history:function(){return!0},readonly:function(){return!0},variable:function(){return e.variable}}}).result};var o=p.$on("history.variables.deleted",function(){p.variables=[],p.loadingState="EMPTY"});p.$on("$destroy",function(){o()}),p.openVariableDetailsDialog=function(e){t.open({resolve:{variableInstanceData:function(){return a},variable:function(){return e}},size:"lg",controller:"VariableInstanceLogController",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instance-log-dialog.html --\x3e\n<div class="modal-header">\n  <h3 translate="PLGN_HIST_VARIABLE_LOG"\n      translate-values="{name: variable.name}"></h3>\n</div>\n\n<div class="process-instance variable-instance-log modal-body">\n  <div notifications-panel></div>\n\n  <div ng-if="state === \'default\'">\n    <p>{{ \'PLGN_HIST_CHANGES_VARIABLE\' | translate }}</p>\n\n    <div cam-widget-loader\n         loading-state="{{ loadingState }}"\n         text-empty="{{ \'PLGN_HIST_NO_VARIABLE_LOG\' | translate }}">\n      <table class="instance-log cam-table">\n        <thead>\n          <tr>\n            <th class="value">{{ \'PLGN_HIST_VALUE_COL\' | translate }}</th>\n            <th class="type">{{ \'PLGN_HIST_TYPE\' | translate }}</th>\n            <th class="change-time">{{ \'PLGN_HIST_CHANGE_TIME\' | translate }}</th>\n            <th class="activity">{{ \'PLGN_HIST_ACTIVITY\' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="details in variableDetails">\n            <td class="value">\n              <div ng-if="isPrimitive(details) && !isDate(details) && !isString(details)">\n                {{ details.value }}\n              </div>\n\n              <div ng-if="isDate(details)">\n                {{ details.value | camDate }}\n              </div>\n\n              \x3c!-- binary variable --\x3e\n              <div ng-if="isBinary(details)">\n                <a class="text-muted"\n                   href="{{getBinaryVariableDownloadLink(details)}}"\n                   target="_blank"\n                   uib-tooltip="{{ \'PLGN_HIST_DOWNLOAD\' | translate }}"\n                   tooltip-placement="right">\n                {{ \'PLGN_HIST_BINARY_CONTENT\' | translate }}\n                </a>\n              </div>\n\n              \x3c!-- object variable --\x3e\n              <div ng-if="isObject(details) || isJsonOrXml(details)">\n                <a class="text-muted"\n                   ng-click="showDetail(details)"\n                   href>\n                  <span ng-if="details.variableType === \'Object\'">{{details.valueInfo.objectTypeName}}</span>\n                  <span ng-if="isJsonOrXml(details)">\n                    {{details.value}}\n                  </span>\n                </a>\n              </div>\n            </td>\n\n            <td class="type">\n              {{ details.variableType }}\n            </td>\n\n            <td class="change-time">\n              {{ details.time | camDate }}\n            </td>\n\n            <td class="activity">\n              <a ng-href="#/process-instance/{{ details.processInstanceId }}/history?activityInstanceIds={{ details.instance.id }}"\n                 ng-show="details.instance"\n                 target="_blank">\n                {{ details.instance.name }}\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <ul uib-pagination ng-if="pages.total > pages.size"\n                  class="pagination-sm"\n\n                  page="pages.current"\n                  ng-model="pages.current"\n\n                  total-items="pages.total"\n                  items-per-page="pages.size"\n\n                  max-size="7"\n                  boundary-links="true"></ul>\n    </div>\n  </div>\n\n  <div ng-if="state == \'showObjectDetail\'">\n    <p>\n      <strong>{{ \'PLGN_HIST_VALUE_INFO\' | translate }}</strong>\n    </p>\n\n    <p>\n     <code>{{ \'PLGN_HIST_OBJECT_TYPE_NAME\' | translate }}{{selectedDetail.valueInfo.objectTypeName}}</code>\n    </p>\n\n    <p>\n     <code>{{ \'PLGN_HIST_SERIALIZATION\' | translate }}{{selectedDetail.valueInfo.serializationDataFormat}}</code>\n    </p>\n\n    <p>\n      <strong>{{ \'PLGN_HIST_VALUE\' | translate }}</strong>\n    </p>\n\n    <ul class="nav nav-tabs">\n      <li ng-class="{ active: selectedTab === \'serialized\' }">\n        <a href\n           ng-click="selectTab(\'serialized\')">{{ \'PLGN_HIST_SERIALIZED\' | translate }}</a>\n      </li>\n      <li ng-class="{ active: selectedTab === \'deserialized\' }">\n        <a href\n           ng-click="selectTab(\'deserialized\')">{{ \'PLGN_HIST_DESERIALIZED\' | translate }}</a>\n      </li>\n    </ul>\n\n    <div ng-show="selectedTab === \'serialized\'">\n      <textarea name="currentValue"\n                ng-model="selectedDetail.value"\n                rows="10"\n                class="form-control"\n                readonly>\n      </textarea>\n    </div>\n    <div ng-show="selectedTab === \'deserialized\'">\n      <div uib-alert class="alert alert-danger" ng-show="deserializationError">\n        <strong>{{ \'PLGN_HIST_DESERIALIZATION_ERROR\' | translate }}</strong>:\n        {{deserializationError}}\n      </div>\n      <div ng-show="!deserializationError">\n        <textarea name="currentValueDeserialized"\n                  ng-model="selectedDetail.valueDeserialized"\n                  rows="10"\n                  class="form-control"\n                  readonly>\n        </textarea>\n      </div>\n    </div>\n\n    <a href\n       ng-click="closeDetail()">{{ \'PLGN_HIST_BACK\' | translate }}</a>\n  </div>\n  <div ng-if="state == \'showJsonXmlDetail\'">\n    <p>\n      <strong>Value:</strong>\n    </p>\n    <textarea name="jsonXmlValue"\n              ng-model="selectedDetail.value"\n              rows="10"\n              class="form-control"\n              ng-readonly="true">\n    </textarea>\n    <a href\n       ng-click="closeDetail()">{{ \'PLGN_HIST_BACK\' | translate }}</a>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()">\n    {{ \'PLGN_HIST_CLOSE\' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/history/app/views/processInstance/variable-instance-log-dialog.html --\x3e\n'}).result.catch(E.noop)},p.deleteVariableHistory=function(n){var t=n.id;_.deleteVariable(t,function(e){e?g.addError({status:m.instant("PLGN_HIST_DELETE_VARIABLE"),message:m.instant("PLGN_HIST_DELETE_VARIABLE_ERROR_MSG",{name:n.name}),exclusive:!0,duration:5e3}):(g.addMessage({status:m.instant("PLGN_HIST_DELETE_VARIABLE"),message:m.instant("PLGN_HIST_DELETE_VARIABLE_SUCCESS_MSG",{name:n.name}),duration:5e3}),p.variables=p.variables.filter(function(e){return e.variable.id!==t}),0===p.variables.length&&(p.loadingState="EMPTY"))})},p.deleteVariable=function(n){t.open({resolve:{info:function(){return n},deleteVariableHistory:function(){return p.deleteVariableHistory}},controller:["$scope",function(e){e.body=m.instant("PLUGIN_VARIABLE_DELETE_DIALOGUE",{name:n.name}),e.submit=function(){e.$resolve.deleteVariableHistory(n),e.$close()},e.dismiss=function(){e.$close()}}],template:'\x3c!-- # EE - camunda-bpm-webapp/ui/cockpit/plugins/base/app/views/processInstance/variable-deletion-dialog.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLUGIN_VARIABLE_DELETE\' | translate  }}</h3>\n</div>\n\n<div class="modal-body">\n  {{ body }}\n</div>\n\n<div class="modal-footer">\n   <button ng-click="dismiss()"\n          class="btn btn-default">\n    {{ \'PLUGIN_VARIABLE_ABORT\' | translate }}\n  </button>\n  <button ng-click="submit()"\n          class="btn btn-primary"\n          ng-hide="status === \'DONE\'">\n   \n    {{ \'PLUGIN_VARIABLE_DELETE\' | translate }} \n  </button> \n</div>\n\x3c!-- / EE - camunda-bpm-webapp/ui/cockpit/plugins/base/app/views/processInstance/variable-deletion-dialog.html --\x3e\n'}).result.catch(E.noop)}}],priority:30})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-inspect-dialog":3}],200:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./views/main");a.exports=n.module("cockpit.plugin.jobRetry",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":203}],201:[function(e,n,t){"use strict";n.exports=["$scope","$uibModalInstance","Notifications","JobDefinitionResource","jobDefinition","$translate",function(n,t,i,e,a,s){n.$on("$routeChangeStart",function(){t.close(n.status)}),n.incrementJobRetries=function(){n.status="PERFORM",e.setRetries({id:a.id},{retries:1},function(){n.status="SUCCESS",i.addMessage({status:s.instant("PLGN_JRET_NOTIFICATION_FINISHED"),message:s.instant("PLGN_JRET_NOTIFICATION_FINISHED_MSG"),exclusive:!0})},function(e){n.status="FAILED",i.addError({status:s.instant("PLGN_JRET_NOTIFICATION_FAILED"),message:s.instant("PLGN_JRET_NOTIFICATION_FAILED_MSG",{msg:e.data.message}),exclusive:!0})})},n.close=function(e){var n={status:e};t.close(n)}}]},{}],202:[function(e,t,n){(function(e){"use strict";var i="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=["ViewsProvider",function(e){e.registerDefaultView("cockpit.jobDefinition.action",{id:"increment-job-retries",url:"plugin://cockpitEE/static/app/jobRetry/increment-retries-action.html",controller:["$scope","$uibModal",function(n,t){n.openDialog=function(e){t.open({resolve:{jobDefinition:function(){return e}},controller:"IncrementRetriesController",template:"\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/jobRetry/app/views/jobDefinition/increment-retries-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ 'PLGN_JRET_INCREMENT_RETRIES' | translate }}</h3>\n</div>\n\n<div class=\"job-definition increment-retries modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAILED'\">\n    <p>{{ 'PLGN_JRET_DIALOG_INCREMENT' | translate }}</p>\n    <p>{{ 'PLGN_JRET_DIALOG_INCREMENT_SURE' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    {{ 'PLGN_JRET_DIALOG_SUCCESS' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'FAILED'\">\n    {{ 'PLGN_JRET_DIALOG_SUCCESS' | translate }}\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAILED'\">\n    {{ 'PLGN_JRET_DIALOG_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"incrementJobRetries()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAILED'\"\n          ng-disabled=\"status === 'PERFORM'\">\n    {{ 'PLGN_JRET_DIALOG_RETRY' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAILED'\">\n    {{ 'PLGN_JRET_DIALOG_OK' | translate }}\n  </button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/jobRetry/app/views/jobDefinition/increment-retries-dialog.html --\x3e\n"}).result.then(function(e){"SUCCESS"===e.status&&n.processData.set("filter",i.extend({},n.filter))}).catch(i.noop)}}],priority:20})}];t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],203:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./jobDefinition/incrementRetriesAction"),i=s("./jobDefinition/incrementRetries"),a=n.module("cockpit.plugin.jobRetry.views",[]);a.config(t),a.controller("IncrementRetriesController",i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./jobDefinition/incrementRetries":201,"./jobDefinition/incrementRetriesAction":202}],204:[function(e,n,t){"use strict";function i(e,n,t,i,a){this._events=n,this._diagram=t,this._instructionBadge=i,this.arrows=[],this.activities={},this.plan={},this.mouseArrow=null,this.showAny=!1,this.setup(e),this.translate=a}var l="http://www.w3.org/2000/svg";i.prototype.toggleAll=function(){var t=this;this.showAny?this.plan&&this.plan.instructions&&this.plan.instructions.forEach(function(e){if(-1===e.sourceActivityIds[0].indexOf("#multiInstanceBody")){var n=t._diagram.source.getElement(e.sourceActivityIds[0]);t.calculateArrow("source",n)}}):this.arrows.slice().forEach(function(e){t.clearArrow(e)})},i.prototype.setup=function(e){var n=this.createCanvas();e.appendChild(n);var o=this;this._events.on("migrationPlan.updated",function(e){o.plan=e,o.repositionArrows(),o._events.emit("state.updated")}),this._events.on("element.click",function(e,n){o.calculateArrow(e,n),o._events.emit("state.updated")}),this._events.on("diagram.viewbox.changed",function(){o.resizeMarkers(),o.repositionArrows(),o._events.emit("state.updated")}),this._events.on("instructionBadges.updated",function(){o.repositionArrows(),o._events.emit("state.updated")}),this._events.on("diagram.rendered",function(){o.resizeMarkers(),o._events.emit("state.updated")}),this._events.on("overlays.show",function(){n.style.display="inherit"}),this._events.on("overlays.hide",function(){n.style.display="none"});function t(){o.showAny=!1,o.toggleAll()}this._events.on("version.updated",t),this._events.on("processDefinitionKey.updated",t),this._events.on("tab.changed",t),this._events.on("popover.opened",t),this._events.on("mapping.started",function(e,n){var t=o.activities["source_"+e.id];t&&o.clearArrow(t);var i=o._diagram.source.getViewer().get("canvas").viewbox(),a={x:(e.x-i.x+e.width)*i.scale,y:(e.y-i.y+e.height/2)*i.scale},s={x:n.pageX,y:n.pageY-220};o.mouseArrow=o.drawArrow(a,s,!0),o.arrows.splice(o.arrows.indexOf(o.mouseArrow),1)}),this._events.on("mapping.mouseMoved",function(e,n){var t=o.mouseArrow.startCoordinates;o.container.removeChild(o.mouseArrow),o.mouseArrow=o.drawArrow(t,{x:n.pageX,y:n.pageY-220},!0),o.arrows.splice(o.arrows.indexOf(o.mouseArrow),1)}),this._events.on("mapping.finished",function(e,n){if(o.container.removeChild(o.mouseArrow),n&&o.activities["target_"+n]){var t=o._diagram.target.getViewer().get("elementRegistry").get(n);o.calculateArrow("target",t)}}),this.container=n,this.setupMarkers(),this.resizeMarkers()},i.prototype.resizeMarkers=function(){if(this._diagram.loaded.source&&this._diagram.loaded.target){var e=this._diagram.source.getViewer().get("canvas").viewbox(),n=this._diagram.target.getViewer().get("canvas").viewbox(),t=Math.min(2*e.scale,4);this.container.querySelector("defs #startMarker").firstChild.setAttribute("r",t),this.container.querySelector("defs #startMarkerError").firstChild.setAttribute("r",t);var i=Math.min(3*n.scale,6);this.container.querySelector("defs #endMarker").firstChild.setAttribute("d","M"+(15-i)+","+(10-i)+" V"+(10+i)+" L15,10 Z"),this.container.querySelector("defs #endMarkerError").firstChild.setAttribute("d","M"+(15-i)+","+(10-i)+" V"+(10+i)+" L15,10 Z")}},i.prototype.setupMarkers=function(){var e=document.createElementNS(l,"defs");this.container.appendChild(e);var n=document.createElementNS(l,"marker");n.setAttribute("id","endMarker"),n.setAttribute("markerWidth",20),n.setAttribute("markerHeight",20),n.setAttribute("refX",14),n.setAttribute("refY",10),n.setAttribute("orient","auto");var t=document.createElementNS(l,"path");t.setAttribute("d","M5,5 V15 L15,10 Z"),t.setAttribute("style","fill: #338833;"),n.appendChild(t),e.appendChild(n);var i=document.createElementNS(l,"marker");i.setAttribute("id","startMarker"),i.setAttribute("markerWidth",20),i.setAttribute("markerHeight",20),i.setAttribute("refX",10),i.setAttribute("refY",10),i.setAttribute("orient","auto");var a=document.createElementNS(l,"circle");a.setAttribute("cx","10"),a.setAttribute("cy","10"),a.setAttribute("r","4"),a.setAttribute("style","stroke: #338833; fill:#338833;"),i.appendChild(a),e.appendChild(i);var s=document.createElementNS(l,"marker");s.setAttribute("id","endMarkerError"),s.setAttribute("markerWidth",20),s.setAttribute("markerHeight",20),s.setAttribute("refX",14),s.setAttribute("refY",10),s.setAttribute("orient","auto");var o=document.createElementNS(l,"path");o.setAttribute("d","M5,5 V15 L15,10 Z"),o.setAttribute("style","fill: #AA3333;"),s.appendChild(o),e.appendChild(s);var r=document.createElementNS(l,"marker");r.setAttribute("id","startMarkerError"),r.setAttribute("markerWidth",20),r.setAttribute("markerHeight",20),r.setAttribute("refX",10),r.setAttribute("refY",10),r.setAttribute("orient","auto");var c=document.createElementNS(l,"circle");c.setAttribute("cx","10"),c.setAttribute("cy","10"),c.setAttribute("r","4"),c.setAttribute("style","stroke: #AA3333; fill:#AA3333;"),r.appendChild(c),e.appendChild(r)},i.prototype.repositionArrows=function(){var n=this;this.arrows.slice().forEach(function(e){n.repositionArrow(e)})},i.prototype.repositionArrow=function(e){var n=e.sourceElement;this.clearArrow(e),n&&this.calculateArrow("source",e.sourceElement)},i.prototype.calculateArrow=function(e,n){if(!(this.plan&&this.plan.instructions&&this._diagram.loaded.source&&this._diagram.loaded.target))return null;var t="source"===e?[n]:this.findElement("source",n),i="target"===e?n:this.findElement("target",n)[0];if(0<t.length&&i)if("source"===e&&this.activities["source_"+n.id])this.clearArrow(this.activities["source_"+n.id]);else if("target"===e&&this.activities["target_"+i.id])for(;this.activities["target_"+i.id];)this.clearArrow(this.activities["target_"+i.id][0]);else for(var a=0;a<t.length;a++){var s=t[a],o=this._diagram.source.getViewer().get("canvas").viewbox(),r=this._diagram.target.getViewer().get("canvas").viewbox(),c={x:(s.x-o.x)*o.scale,y:(s.y-o.y)*o.scale},l={x:(i.x-r.x)*r.scale,y:(i.y-r.y)*r.scale};l.x+=o.width*o.scale,c.x+=s.width*o.scale,c.y+=s.height/2*o.scale,l.y+=i.height/2*r.scale;var d=this.drawArrow(c,l,this.isValid(s.id,i.id));d.sourceElement=s,d.targetElement=i,this.activities["source_"+s.id]=d,this.activities["target_"+i.id]=this.activities["target_"+i.id]||[],this.activities["target_"+i.id].push(d),(c.x>o.width*o.scale||l.x<o.width*o.scale)&&(d.style.display="none")}},i.prototype.isValid=function(e){return!this._instructionBadge._getErrorReportForActivityId(e,this._instructionBadge._validationReport)},i.prototype.findElement=function(n,t){var e=this.plan.instructions.filter(function(e){return e["source"===n?"targetActivityIds":"sourceActivityIds"][0]===t.id}),i=this._diagram[n];return e.map(function(e){return i.getElement(e[n+"ActivityIds"][0])})},i.prototype.createCanvas=function(){var e=document.createElementNS(l,"svg");return e.style.position="absolute",e.style.pointerEvents="none",e.style.top="40px",e.style.left="0",e.style.width="100%",e.style.height="calc(100% - 5px)",e},i.prototype.drawArrow=function(e,n,t){var i=this.container.getBoundingClientRect().height-200,a=i/2,s=e.y-a+n.y-a;s*=.2;var o=(n.x-e.x)/2,r="M"+e.x+" "+(e.y+100)+" C"+(e.x+o)+" "+(e.y+100+s)+", "+(n.x-o)+" "+(n.y+100+s)+", "+n.x+" "+(n.y+100),c=document.createElementNS(l,"path");return c.setAttribute("d",r),c.setAttribute("stroke","rgb(0, 0, 0)"),c.setAttribute("stroke-width","3"),c.setAttribute("stroke",t?"#338833":"#AA3333"),c.setAttribute("fill","transparent"),c.setAttribute("marker-start",t?"url(#startMarker)":"url(#startMarkerError)"),c.setAttribute("marker-end",t?"url(#endMarker)":"url(#endMarkerError)"),c.startCoordinates=e,c.targetCoordinates=n,this.container.appendChild(c),this.arrows.push(c),(e.y<0||n.y<0||n.y>i||e.y>i)&&(c.style.display="none"),this.showAny=!0,c},i.prototype.clearArrow=function(e){if(-1===this.arrows.indexOf(e))throw this.translate.instant("PLGN_MIG_COULD_NOT_REMOVE_ARROW");if(this.container.removeChild(e),this.arrows.splice(this.arrows.indexOf(e),1),e.sourceElement){this.activities["source_"+e.sourceElement.id]=null;var n=this.activities["target_"+e.targetElement.id];n.splice(n.indexOf(e),1),0===n.length&&(this.activities["target_"+e.targetElement.id]=null)}this.arrows.length||(this.showAny=!1)},n.exports=i},{}],205:[function(e,n,t){"use strict";n.exports=function(e,n){e.titleSet(["Migration"].join(" | ")),e.breadcrumbsClear(),n.showBreadcrumbs=!0,e.breadcrumbsAdd([{href:"#/processes",label:"PLGN_MIG_PROCESSES"},{label:"PLGN_MIG_MIGRATION"}])}},{}],206:[function(e,n,t){"use strict";n.exports=function(e,n,t){this.eventBus=e,this.migrationComponent=n,this.instancesComponent=t,this.payload={},this.async=!0;var i=window.camCockpitConf.skipIoMappings||{};this.skipIoMappings={default:"boolean"!=typeof i.default||i.default,hidden:"boolean"==typeof i.hidden&&i.hidden};var a=window.camCockpitConf.skipCustomListeners||{};this.skipCustomListeners={default:"boolean"!=typeof a.default||a.default,hidden:"boolean"==typeof a.hidden&&a.hidden};var s=this;this.buildPayload=function(){var e={migrationPlan:s.migrationComponent.plan,skipIoMappings:s.skipIoMappings.default,skipCustomListeners:s.skipCustomListeners.default};if(s.instancesComponent.selectedInstances.length)e.processInstanceIds=s.instancesComponent.selectedInstances;else{var n=s.instancesComponent.search.getParams();n.processDefinitionId=s.migrationComponent.migrationManager.processDefinition.source.id,e.processInstanceQuery=n}s.payload=e},this.eventBus.on("tab.changed",function(e){"confirm"===e&&s.buildPayload()})}},{}],207:[function(e,n,t){"use strict";function i(t){this.eventBus=t,this.source={},this.target={};var i=this;this.loaded={source:!1,target:!1},this.eventBus.on("version.updated",function(e){i.loaded[e.type]=!1}),this.eventBus.on("processDefinitionKey.updated",function(e){i.loaded[e.type]=!1}),this.eventBus.on("diagram.rendered",function(n){i.loaded[n]=!0,i[n].getViewer()._container.addEventListener("mousedown",function(e){t.emit("diagram.mousedown",{type:n,evt:e})},!0),i[n].getViewer()._container.addEventListener("mouseup",function(e){t.emit("diagram.mouseup",{type:n,evt:e})},!0),i[n].getViewer().get("eventBus").on("canvas.viewbox.changed",function(e){t.emit("diagram.viewbox.changed",{type:n,viewbox:e})}),i[n].getViewer().get("eventBus").on("overlays.show",function(){t.emit("overlays.show",{type:n})}),i[n].getViewer().get("eventBus").on("overlays.hide",function(){t.emit("overlays.hide",{type:n})})}),this.eventBus.on("migrationPlan.updated",function(e){i.plan=e})}i.prototype.highlight=function(n,t,e){if(this.plan&&this.loaded.source&&this.loaded.target)for(var i=this.plan.instructions.filter(function(e){return-1!==e[n+"ActivityIds"].indexOf(t.id)}),a=0;a<i.length;a++){for(var s=i[a],o=0;o<s.sourceActivityIds.length;o++)this.source[e?"clearHighlight":"highlight"](s.sourceActivityIds[o]);for(o=0;o<s.targetActivityIds.length;o++)this.target[e?"clearHighlight":"highlight"](s.targetActivityIds[o]),e?this.target.getViewer().get("canvas").removeMarker(s.targetActivityIds[o],"selectable"):this.target.getViewer().get("canvas").addMarker(s.targetActivityIds[o],"selectable")}},i.prototype.hover=function(e,n){this.highlight(e,n,!1),this[e].getViewer().get("canvas").addMarker(n.id,"hovered"),this.eventBus.emit("element.hovered",e,n)},i.prototype.unhover=function(e,n){this.highlight(e,n,!0),this[e].getViewer().get("canvas").removeMarker(n.id,"hovered"),this.eventBus.emit("element.unhovered",e,n)},i.prototype.click=function(e,n){this.eventBus.emit("element.click",e,n)},i.prototype.load=function(e){this.eventBus.emit("diagram.rendered",e)},i.prototype.getNameForId=function(e,n){if(!e||!n||!this.loaded[e])return n;var t=this[e].getViewer().get("elementRegistry").get(n);if(!t)return n;var i=(t=t.businessObject).name;return i||(i=t.$type.substr(5)+" ("+t.id+")"),i},i.prototype.canUpdateEventTrigger=function(e){var n=this.source.getViewer().get("elementRegistry").get(e).businessObject;return"bpmn:ReceiveTask"===n.$type||!(-1===["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"].indexOf(n.$type)||!n.eventDefinitions||!n.eventDefinitions.filter(function(e){return-1!==["bpmn:SignalEventDefinition","bpmn:TimerEventDefinition","bpmn:MessageEventDefinition"].indexOf(e.$type)}).length)&&("bpmn:StartEvent"!==n.$type||"bpmn:SubProcess"===n.$parent.$type)},n.exports=i},{}],208:[function(e,n,t){"use strict";n.exports=function(o,r){this.linked=!0;var c=this,l={source:!1,target:!1};o.on("diagram.rendered",function(a){var s,e=r[a].getViewer();e.get("eventBus").on("canvas.viewbox.changing",function(){s=e.get("canvas").viewbox()}),e.get("eventBus").on("canvas.viewbox.changed",function(e){if(c.linked&&!l[a]&&s){c.linked=!1;var n=e.viewbox,t=r["source"===a?"target":"source"].getViewer(),i={dx:(s.x-n.x)*n.scale,dy:(s.y-n.y)*n.scale};t.get("canvas").scroll(i),0!=n.scale-s.scale&&t.get("canvas").viewbox(n),l["source"===a?"target":"source"]=!0,window.setTimeout(function(){l["source"===a?"target":"source"]=!1},0),c.linked=!0,o.emit("state.updated")}})});var e=!0;o.on("mapping.started",function(){e=c.linked,c.linked=!1}),o.on("mapping.finished",function(){c.linked=e})}},{}],209:[function(e,n,t){"use strict";function i(s,e,n,t){this.eventBus=s,this.migrationComponent=e,this.instancesComponent=n,this.status="",this.error=null,this.failedInstructions=[],this.translate=t;var o=this;this.eventBus.on("migration.execute",function(e){o.batchId=null,o.statusIcon="glyphicon-refresh animate-spin",o.status=o.translate.instant("PLGN_MIG_INSTANCES_MIGRATED");var n={migrationPlan:o.migrationComponent.plan};if(o.instancesComponent.selectedInstances.length)n.processInstanceIds=o.instancesComponent.selectedInstances;else{var t=o.instancesComponent.search.getParams();t.processDefinitionId=o.migrationComponent.migrationManager.processDefinition.source.id,n.processInstanceQuery=t}var i=o.migrationComponent.migrationManager;o.migrationInProgress=!0,o.eventBus.emit("migration.started");function a(e,n){o.migrationInProgress=!1,e?(o.error=JSON.parse(e.response.text),o.failedInstructions=o._calculateFailedInstructions(),o.status=o.translate.instant("PLGN_MIG_MIGRATION_FAILED",{message:e.message}),o.statusIcon="glyphicon-warning-sign text-danger",s.emit("migration.failed",e.message)):(o.error=null,o.statusIcon="glyphicon-ok text-success",n.id?(o.status=o.translate.instant("PLGN_MIG_MIGRATION_EXECUTED",{id:n.id}),o.batchId=n.id):o.status=o.translate.instant("PLGN_MIG_MIGRATION_FINISHED"),s.emit("migration.finished",{source:o.migrationComponent.source,target:o.migrationComponent.target}))}e?i.executeMigrationPlanAsync(n,a):i.executeMigrationPlan(n,a)})}i.prototype._calculateFailedInstructions=function(){var n=[];if("instance"===this.getErrorType()){var e=function(e){n.push({sourceActivity:e.sourceScopeId,targetActivity:void 0,error:e.failures.join(". ")})};this.error.validationReport.activityInstanceValidationReports.forEach(e),this.error.validationReport.transitionInstanceValidationReports.forEach(e)}else"plan"===this.getErrorType()&&this.error.validationReport.instructionReports.forEach(function(e){n.push({sourceActivity:e.instruction.sourceActivityIds[0],targetActivity:e.instruction.targetActivityIds[0],error:e.failures.join(". ")})});return n},i.prototype.hasError=function(){return!!this.error},i.prototype.getErrorType=function(){switch(this.error.type){case"MigratingProcessInstanceValidationException":return"instance";case"MigrationPlanValidationException":return"plan";default:return"unknown"}},i.prototype.getErrorMessage=function(){return this.error.message},i.prototype.getFailedInstanceId=function(){return this.error.validationReport.processInstanceId},i.prototype.getFailedInstructions=function(){return this.failedInstructions},n.exports=i},{}],210:[function(e,n,t){"use strict";function i(e,n,t){this.eventBus=e,this.diagram=n,this.api=t,this.badges={source:[],target:[]};var i=this;this.statistics={source:!1,target:!1},this.loaded={source:!1,target:!1},this.eventBus.on("version.updated",function(e){i.loaded[e.type]=!1,i.statistics[e.type]=!1,i.updateDiagrams()}),this.eventBus.on("processDefinitionKey.updated",function(e){i.loaded[e.type]=!1,i.statistics[e.type]=!1,i.updateDiagrams()}),this.eventBus.on("diagram.rendered",function(e){i.loaded[e]=!0,i.updateDiagrams()}),this.eventBus.on("instructionBadges.updated",function(){i.updateDiagrams()}),this.eventBus.on("migration.finished",function(e){i.statistics.source=!1,i.statistics.target=!1,i.loadStatistics("source",e.source),i.loadStatistics("target",e.target)}),this.eventBus.on("diagram.loaded",function(e){i.loadStatistics(e.type,e.obj)})}i.prototype.updateDiagrams=function(){this.updateDiagram("source"),this.updateDiagram("target")},i.prototype.setupIsValid=function(e){return this.statistics[e]&&this.loaded[e]},i.prototype.loadStatistics=function(t,n){var i=this,e=n.availableDefinitions.filter(function(e){return e.version===n.version})[0];this.api.resource("process-definition").statistics({id:e.id},function(e,n){if(e)throw e;i.statistics[t]=n,i.eventBus.emit("statistics.loaded",{type:t,data:n}),i.updateDiagram(t)})},i.prototype.removeAllBadges=function(e){var n=this.diagram[e];this.badges[e].forEach(function(e){n.removeBadge(e)}),this.badges[e]=[]},i.prototype.updateDiagram=function(e){if(this.setupIsValid(e)){this.removeAllBadges(e);for(var n=this.statistics[e],t=0;t<n.length;t++){var i=document.createElement("span");i.innerHTML='<span class="badge-migration-instances badge" uib-tooltip="{{ \'PLGN_MIG_RUNNING_ACTIVITY_INSTANCES\' | translate }}"></span>\n',i.firstChild.textContent="{{ "+n[t].instances+" | abbreviateNumber }}";var a=n[t].id;-1!==a.indexOf("#multiInstanceBody")&&(a=a.substr(0,a.length-"#multiInstanceBody".length));var s=this.diagram[e].createBadge(a,{html:i,position:{bottom:12,left:-12}});i.bpmnJsId=n[t].id,this.badges[e].push(s)}this.eventBus.emit("instanceBadges.updated",e,n)}},n.exports=i},{}],211:[function(e,n,t){"use strict";function i(e,n,t,i){this.migrationComponent=n,this.eventBus=e,this.delegate=new s(e,n,t,i,this);var a=this;this.data=this.migrationComponent.source,this.eventBus.on("diagram.loaded",function(){a.loadInstances()}),this.eventBus.on("migration.finished",function(){a.loadInstances()}),this.loadInstances()}var s=e("../../../../common/batch/instancesList");i.prototype.setupIsValid=function(){return this.data.key&&this.data.version&&this.migrationComponent.migrationManager.processDefinition.source},i.prototype.updatePage=function(e){var t=this;this.delegate.selectAll=!1,e&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var n=this.delegate.search.getParams();n.processDefinitionId=this.migrationComponent.migrationManager.processDefinition.source.id,n.sortBy="instanceId",n.sortOrder="desc",n.firstResult=(this.delegate.currentPage-1)*this.delegate.pageSize,n.maxResults=this.delegate.pageSize;var i=JSON.stringify(n);if(this.currentParams!==i){this.currentParams=i,this.loadingState="LOADING";var a=function(){null!==t.delegate.instances&&null!==t.delegate.instancesCount&&(t.delegate.loadingState="LOADED",0===t.delegate.instancesCount&&(t.delegate.loadingState="EMPTY"),t.delegate.eventBus.emit("instanceList.updated"),t.delegate.eventBus.emit("state.updated"))};t.delegate.instances=t.delegate.instancesCount=null,t.delegate.api.resource("process-instance").list(n,function(e,n){t.delegate.instances=n,t.delegate.applySelection(),a()}),t.delegate.api.resource("process-instance").count(n,function(e,n){t.delegate.instancesCount=n.count,a()})}},i.prototype.loadInstances=function(){this.setupIsValid()&&this.updatePage(!0)},n.exports=i},{"../../../../common/batch/instancesList":84}],212:[function(e,n,t){"use strict";function i(e,n,t){this.eventBus=e,this.diagram=n,this._sdk=t,this.appliedBadges=[],this._openedPopovers=[],this.statistics=null,this.loaded={source:!1,target:!1};var i=this;this.eventBus.on("migrationPlan.updated",function(e){i.plan=e,i.updateDiagrams()}),this.eventBus.on("version.updated",function(e){i.loaded[e.type]=!1,i.updateDiagrams()}),this.eventBus.on("processDefinitionKey.updated",function(e){i.loaded[e.type]=!1,i.updateDiagrams()}),this.eventBus.on("diagram.rendered",function(e){i.loaded[e]=!0,i.updateDiagrams()}),this.eventBus.on("migration.finished",function(){i.updateDiagrams()}),this.eventBus.on("statistics.loaded",function(e){"source"===e.type&&(i.statistics=e.data,i.updateDiagrams())})}var u='<span class="badge-migration badge" uib-tooltip="{{ \'PLGN_MIG_MAPPED_ACTIVITY\' | translate }}">\n  <span class="glyphicon glyphicon-ok"></span>\n</span>\n<div class="popover right">\n  <div class="arrow"></div>\n\n  <h3 class="popover-title">{{ \'PLGN_MIG_MAPPING\' | translate }}</h3>\n\n  <div class="popover-content">\n    <div class="from">\n      <b>{{ \'PLGN_MIG_FROM\' | translate }}</b>{{sourceActivity}}\n    </div>\n    <div class="to">\n      <b>{{ \'PLGN_MIG_TO\' | translate }}</b>{{targetActivity}}<br />\n    </div>\n    <label>\n      <input type="checkbox" {{checked}} />{{ \'PLGN_MIG_UPDATE_EVENT_TRIGGER\' | translate }}\n    </label>\n  </div>\n</div>\n';i.prototype.hasInstances=function(e){if(this.statistics)for(var n=0;n<this.statistics.length;n++){var t=this.statistics[n],i=t.id;if(-1!==i.indexOf("#multiInstanceBody")&&(i=i.substr(0,i.length-"#multiInstanceBody".length)),i===e.id)return 0<t.instances}return!1},i.prototype.mapped=i.prototype.hasMapping=function(e){if(this.plan&&this.plan.instructions)for(var n=0;n<this.plan.instructions.length;n++)for(var t=this.plan.instructions[n],i=0;i<t.sourceActivityIds.length;i++)if(t.sourceActivityIds[i]===e)return t.targetActivityIds;return!1};function p(e){e.stopPropagation()}i.prototype.createBadge=function(e,n,t,i){var a,s="source"===e?n:t;if(this.loaded[e]){var o=this,r=document.createElement("span"),c=i;if(i===u){c=i.replace("{{sourceActivity}}",this.diagram.getNameForId("source",n)).replace("{{targetActivity}}",this.diagram.getNameForId("target",t)).replace("{{checked}}",this._shouldUpdateEventTrigger(n)?"checked":""),r.innerHTML=c;var l=r.querySelector("label");this.diagram.canUpdateEventTrigger(n)?r.querySelector("input").addEventListener("change",function(e){o.plan&&o.plan.instructions&&(o.plan.instructions.filter(function(e){return-1!==e.sourceActivityIds.indexOf(n)})[0].updateEventTrigger=e.target.checked,o.eventBus.emit("migrationPlan.updated",o.plan))}):l.parentNode.removeChild(l),a=r.querySelector(".popover"),r.querySelector(".badge").addEventListener("click",this._togglePopover(e,s)),a.addEventListener("click",p)}else-1!==i.indexOf("migration-error")?(r.innerHTML=c,a=r.querySelector(".popover"),r.querySelector(".badge").addEventListener("click",this._togglePopover(e,s)),a.addEventListener("click",p)):r.innerHTML=c;var d=this.diagram[e].createBadge(s,{html:r,position:{top:-12,right:8}});this.appliedBadges.push({type:e,id:d,activityId:s,html:r})}},i.prototype._getPopoverMarkup=function(n,t){var e=this.appliedBadges.filter(function(e){return e.type===n&&e.activityId===t})[0];return e&&e.html.querySelector(".popover")},i.prototype._isPopoverOpen=function(n,t){return!!this._openedPopovers.filter(function(e){return e.type===n&&e.id===t}).length},i.prototype._openPopover=function(e,n){var t=this._getPopoverMarkup(e,n);if(t){t.style.display="block";var i=this,a=function(){i._closePopover(e,n)};document.body.addEventListener("click",a),this._openedPopovers.push({type:e,id:n,closeFct:a}),i.eventBus.emit("popover.opened",e,n)}},i.prototype._closePopover=function(n,t){var e=this._openedPopovers.filter(function(e){return e.type===n&&e.id===t})[0],i=e.closeFct;document.body.removeEventListener("click",i),this._getPopoverMarkup(n,t).style.display="none",this._openedPopovers.splice(this._openedPopovers.indexOf(e),1)},i.prototype._togglePopover=function(n,t){var i=this;return function(e){e.stopPropagation(),i._isPopoverOpen(n,t)?i._closePopover(n,t):i._openPopover(n,t)}},i.prototype._shouldUpdateEventTrigger=function(n){return this.plan&&this.plan.instructions&&this.plan.instructions.filter(function(e){return-1!==e.sourceActivityIds.indexOf(n)})[0].updateEventTrigger},i.prototype.clearBadges=function(){for(var e=0;e<this.appliedBadges.length;e++){var n=this.appliedBadges[e];this.loaded[n.type]&&this.diagram[n.type].removeBadge(n.id),this._isPopoverOpen(n.type,n.activityId)&&this._closePopover(n.type,n.activityId)}this.appliedBadges=[],this._openedPopovers=[]},i.prototype._validatePlan=function(t){if(this.plan){if(JSON.stringify(this.plan)===this._cachedPlan||this._validationInProgress)return t(this._cachedValidation);var i=this,a=this.plan;this._validationInProgress=!0,this._sdk.resource("migration").validate(this.plan,function(e,n){i._validationInProgress=!1,i._cachedPlan=JSON.stringify(a),i._cachedValidation=n,t(n)})}else t(null)},i.prototype._getErrorReportForActivityId=function(n,e){if(e){var t=e.instructionReports.filter(function(e){return e.instruction.sourceActivityIds[0]===n});if(t.length)return t[0].failures.join(". ")}},i.prototype.updateDiagrams=function(){var s=this;this._validatePlan(function(a){s._validationReport=a;var e=JSON.parse(JSON.stringify(s._openedPopovers));(s.clearBadges(),s.loaded.source)&&(s.diagram.source.getElements(function(e){return e.businessObject.$instanceOf("bpmn:FlowNode")}).forEach(function(n){if(s.hasInstances(n)&&!s.hasMapping(n.id))s.createBadge("source",n.id,null,'<span class="badge-migration badge migration-unmapped"\n      uib-tooltip="{{ \'PLGN_MIG_NOT_MAPPED\' | translate }}">\n  <span class="glyphicon glyphicon-warning-sign"></span>\n</span>\n');else if(s.hasMapping(n.id)){var e=s.mapped(n.id),t=u,i=s._getErrorReportForActivityId(n.id,a);i&&(t='<span class="badge-migration badge migration-error" uib-tooltip="{{ \'PLGN_MIG_MAPPING_ERROR\' | translate }}">\n  <span class="glyphicon glyphicon-remove"></span>\n</span>\n<div class="popover right">\n  <div class="arrow"></div>\n\n  <h3 class="popover-title">{{ \'PLGN_MIG_MAPPING_ERROR\' | translate }}</h3>\n\n  <div class="popover-content">\n    {{errorReport}}\n  </div>\n</div>\n'.replace("{{errorReport}}",i)),s.createBadge("source",n.id,e[0],t),e.forEach(function(e){s.createBadge("target",n.id,e,t)})}}),e.forEach(function(e){s._openPopover(e.type,e.id)}),s.eventBus.emit("instructionBadges.updated"))})},n.exports=i},{}],213:[function(e,n,t){"use strict";n.exports=function(e,n,t,i){e.on("processDefinitions.loaded",function(){var e=i.search();n.source.key=e.sourceKey,n.target.key=e.targetKey,n.source.version=parseInt(e.sourceVersion,10),n.target.version=parseInt(e.targetVersion,10)}),e.on("loading.finished",function(e){var n={sourceKey:void 0,targetKey:void 0,sourceVersion:void 0,targetVersion:void 0};e.source.key&&(n.sourceKey=e.source.key),e.source.version&&(n.sourceVersion=e.source.version),e.target.key&&(n.targetKey=e.target.key),e.target.version&&(n.targetVersion=e.target.version),t.updateSilently(n,!0)})}},{}],214:[function(e,n,t){"use strict";function i(e,n){this.eventBus=e,this.diagram=n,this.overlays={},this.createModeActive=!1;var t=this;this.eventBus.on("migrationPlan.updated",function(e){t.plan=e}),this.eventBus.on("diagram.rendered",function(e){"source"===e&&t.createOverlays()}),this.eventBus.on("element.hovered",function(e,n){"source"===e&&t.overlays[n.businessObject.id]&&(t.overlays[n.businessObject.id].elementHovered=!0,t.updateOverlays())}),this.eventBus.on("element.unhovered",function(e,n){"source"===e&&t.overlays[n.businessObject.id]&&(t.overlays[n.businessObject.id].elementHovered=!1,t.updateOverlays())})}i.prototype.updateOverlays=function(){for(var e in this.overlays){var n=this.overlays[e];n.elementHovered||n.buttonHovered||Date.now()-n.lastHovered<200?(n.content.style.display="inline-block",this.hasMapping(n.element)?(n.content.querySelector(".create-mapping").style.display="none",n.content.querySelector(".remove-mapping").style.display="inline-block"):(n.content.querySelector(".create-mapping").style.display="inline-block",n.content.querySelector(".remove-mapping").style.display="none")):n.content.style.display="none"}},i.prototype.hasMapping=function(n){return this.setupIsValid()&&0<this.plan.instructions.filter(function(e){return-1!==e.sourceActivityIds.indexOf(n.id)}).length},i.prototype.setupIsValid=function(){return this.plan},i.prototype.createOverlays=function(){this.overlays={};var t=this.diagram.source.getViewer(),e=t.get("elementRegistry").filter(function(e){return e}),i=this;e.forEach(function(e){var n=e.businessObject;n.$instanceOf("bpmn:FlowNode")&&(i.createOverlayFor(n),t.get("canvas").addMarker(n.id,"selectable"))}),this.eventBus.emit("mappingOverlay.created")},i.prototype.setupHoveringListenersFor=function(e,n){var t=this;e.addEventListener("mouseenter",function(){t.overlays[n.id].buttonHovered=!0,t.updateOverlays()}),e.addEventListener("mouseleave",function(){t.overlays[n.id].buttonHovered=!1,t.overlays[n.id].lastHovered=Date.now(),t.updateOverlays(),window.setTimeout(function(){t.updateOverlays()},210)})},i.prototype.removeMapping=function(n){var e=this.plan.instructions.filter(function(e){return-1!==e.sourceActivityIds.indexOf(n.id)})[0];e&&(this.plan.instructions.splice(this.plan.instructions.indexOf(e),1),this.eventBus.emit("migrationPlan.updated",this.plan)),this.updateOverlays()};function a(u){return function(e){var i=this,n=i.diagram.source.getViewer().get("elementRegistry").get(u.id);this.createModeActive=!0,i.highlightDropTargets();function t(e){r=!0,o=0,c.x=e.screenX,c.y=e.screenY}function a(e){r&&(o+=Math.abs(c.x-e.screenX),o+=Math.abs(c.y-e.screenY)),i.eventBus.emit("mapping.mouseMoved",n,e)}function s(e){27===e.keyCode&&l()}var o=0,r=!1,c={x:0,y:0},l=function(e){document.body.removeEventListener("mousedown",t,!0),document.body.removeEventListener("mousemove",a,!0),document.body.removeEventListener("mouseup",d,!0),document.body.removeEventListener("keydown",s,!0),i.createModeActive=!1,i.clearDropTargets(),i.eventBus.emit("mapping.finished",n,e),i.eventBus.emit("state.updated")},d=function(e){if(10<o)r=!1;else{var n=function(e){for(var n=e,t="";n.parentNode;){if(n.getAttribute("data-element-id")){t=n.getAttribute("data-element-id");break}n=n.parentNode}return i.diagram.target.getViewer()._container.contains(n)?t:""}(e.target);if(l(n),n){var t=i.diagram.target.getViewer().get("elementRegistry").get(n).businessObject;t&&t.$instanceOf("bpmn:FlowNode")&&i.createMapping(u,t)}i.eventBus.emit("state.updated")}};document.body.addEventListener("mousedown",t,!0),document.body.addEventListener("mousemove",a,!0),document.body.addEventListener("mouseup",d,!0),document.body.addEventListener("keydown",s,!0),i.eventBus.emit("mapping.started",n,e),i.eventBus.emit("state.updated")}}i.prototype.highlightDropTargets=function(){var t=this.diagram.target.getViewer();t.get("elementRegistry").filter(function(e){return e}).forEach(function(e){var n=e.businessObject;n.$instanceOf("bpmn:FlowNode")&&t.get("canvas").addMarker(n.id,"drop-target")})},i.prototype.clearDropTargets=function(){var t=this.diagram.target.getViewer();t.get("elementRegistry").filter(function(e){return e}).forEach(function(e){var n=e.businessObject;n.$instanceOf("bpmn:FlowNode")&&t.get("canvas").removeMarker(n.id,"drop-target")})},i.prototype.createMapping=function(n,e){var t=this.plan.instructions.filter(function(e){return e.sourceActivityIds[0]===n.id})[0];t?t.targetActivityIds[0]=e.id:this.plan.instructions.push({sourceActivityIds:[n.id],targetActivityIds:[e.id],updateEventTrigger:!1}),this.eventBus.emit("migrationPlan.updated",this.plan)},i.prototype.createOverlayFor=function(e){var n=document.createElement("div");n.style.display="none",n.innerHTML='\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/migration/app/page/templates/mappingOverlay.html --\x3e\n<button class="btn btn-sm btn-default create-mapping" uib-tooltip="{{ \'PLGN_MIG_CREATE_MAPPING\' | translate }}">\n  <span class="glyphicon glyphicon-share-alt"></span>\n</button>\n<button class="btn btn-sm btn-default remove-mapping" uib-tooltip="{{ \'PLGN_MIG_REMOVE_MAPPING\' | translate }}">\n  <span class="glyphicon glyphicon-remove"></span>\n</button>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/migration/app/page/templates/mappingOverlay.html --\x3e\n',this.setupHoveringListenersFor(n,e),n.querySelector("button.remove-mapping").addEventListener("click",function(e){return function(){this.removeMapping(e)}}(e).bind(this)),n.querySelector("button.create-mapping").addEventListener("click",a(e).bind(this)),this.diagram.source.createBadge(e.id,{html:n,position:{bottom:18,right:18}}),this.overlays[e.id]={content:n,element:e}},n.exports=i},{}],215:[function(e,n,t){"use strict";function i(e,n){var t=this,i=new a(e);this.migrationManager=i,this.eventBus=n,this.hasValidPlan=!1,this.activateTab("mapping"),this.outstandingRequests=0,this.availableProcessDefinitions=[],this.source={key:"",loadedKey:"",version:0,loadedVersion:{key:"",version:0},availableDefinitions:[],diagramXml:""},this.target={key:"",loadedKey:"",version:0,loadedVersion:{key:"",version:0},availableDefinitions:[],diagramXml:""},this.startRequest(),i.getAllProcessDefinitions(function(e){t.availableProcessDefinitions=e,n.emit("processDefinitions.loaded",e),n.emit("state.updated"),t.endRequest()})}var a=e("./migrationManager");i.prototype.startRequest=function(){this.outstandingRequests++},i.prototype.endRequest=function(){this.outstandingRequests--,0===this.outstandingRequests&&this.eventBus.emit("loading.finished",{source:this.source,target:this.target})},i.prototype.getPageContentId=function(){return this.pageContentId},i.prototype.execute=function(e){this.eventBus.emit("migration.execute",e),this.activateTab("progress")},i.prototype.activateTab=function(e){this.pageContentId=e,this.eventBus.emit("tab.changed",e)},i.prototype.prefill=function(){if(!this.target.key&&this.source.key&&(this.target.key=this.source.key,this.updateProcDef("target")),!this.source.key&&this.target.key&&(this.source.key=this.target.key,this.updateProcDef("source")),!this.source.version&&this.source.availableDefinitions.length){var e=this.source.availableDefinitions;1<e.length?this.source.version=e[1].version:this.source.version=e[0].version,this.updateVersion("source")}!this.target.version&&this.target.availableDefinitions.length&&(this.target.version=this.target.availableDefinitions[0].version,this.updateVersion("target")),this.eventBus.emit("prefill.completed")},i.prototype.update=function(){this.updateProcDef("source"),this.updateProcDef("target"),this.updateVersion("source"),this.updateVersion("target")},i.prototype.updateProcDef=function(n){var t=this[n];if(t.version=parseInt(t.version,10),t.key===t.loadedKey)return!1;t.loadedKey=t.key;var i=this.eventBus,e=this.migrationManager,a=this;return i.emit("processDefinitionKey.updated",{type:n,key:t.key}),t.diagramXml=void 0,this.hasValidPlan=!1,this.migrationManager.setProcessDefinition(n,null),t.availableDefinitions=[],t.key?(this.startRequest(),e.getVersionsForProcessDefinitionKey(t.key,function(e){-1===(t.availableDefinitions=e).map(function(e){return e.version}).indexOf(t.version)?(t.version=void 0,i.emit("version.updated",{type:n,version:t.version})):a.updateVersion(n),i.emit("state.updated"),a.prefill(),a.endRequest()}),!0):(t.version=0,this.updateVersion(n),!1)},i.prototype.updateVersion=function(n){var t=this,i=this[n];if(i.version=parseInt(i.version,10),i.version===i.loadedVersion.version&&i.key===i.loadedVersion.key)return!1;var a=this.eventBus,s=this.migrationManager;a.emit("version.updated",{type:n,version:i.version}),i.diagramXml=void 0,this.hasValidPlan=!1;var e=i.availableDefinitions.filter(function(e){return e.version===i.version})[0];e?(i.loadedVersion.version=i.version,i.loadedVersion.key=i.key,s.setProcessDefinition(n,e),this.startRequest(),s.getMigrationPlan(function(e){t.hasValidPlan=!!e,t.plan=e,a.emit("migrationPlan.updated",e),a.emit("state.updated"),s.getDiagramXml(n,function(e){i.diagramXml=e,a.emit("diagram.loaded",{type:n,xml:e,obj:i}),t.endRequest()})})):(i.loadedVersion.version=0,i.loadedVersion.key="",i.version=null,this.migrationManager.setProcessDefinition(n,null),0===this.outstandingRequests&&this.eventBus.emit("loading.finished",{source:this.source,target:this.target}))},n.exports=i},{"./migrationManager":216}],216:[function(e,n,t){"use strict";function i(e){this.sdk=e,this.processDefinition={source:null,target:null}}i.prototype.getAllProcessDefinitions=function(t){this.sdk.resource("process-definition").list({latestVersion:!0},function(e,n){if(e)throw e;t(n.items)})},i.prototype.getVersionsForProcessDefinitionKey=function(e,t){this.sdk.resource("process-definition").list({key:e,sortBy:"version",sortOrder:"desc"},function(e,n){if(e)throw e;t(n.items)})},i.prototype.setProcessDefinition=function(e,n){this.processDefinition[e]=n},i.prototype.getDiagramXml=function(e,t){var n=this.processDefinition[e];n?this.sdk.resource("process-definition").xml({id:n.id},function(e,n){if(e)throw e;t(n.bpmn20Xml)}):t()},i.prototype.getMigrationPlan=function(t){if(this.processDefinition.source&&this.processDefinition.target){var i=this;this.sdk.resource("migration").generate({sourceProcessDefinitionId:this.processDefinition.source.id,targetProcessDefinitionId:this.processDefinition.target.id},function(e,n){if(e)throw e;i.migrationPlan=n,t&&t(n)})}else t()},i.prototype.executeMigrationPlan=function(e,n){this.sdk.resource("migration").execute(e,n)},i.prototype.executeMigrationPlanAsync=function(e,n){this.sdk.resource("migration").executeAsync(e,n)},i.prototype.getProcessInstancesForSourceDefinition=function(t){this.processDefinition.source&&this.sdk.resource("process-instance").list({processDefinitionId:this.processDefinition.source.id},function(e,n){if(e)throw e;t(n.items)})},n.exports=i},{}],217:[function(e,n,t){"use strict";function i(e,n){this.plan={},this.diagram=n;var t=this;e.on("migrationPlan.updated",function(e){t.plan=e,t.handleMultiInstance()}),e.on("diagram.rendered",function(){t.handleMultiInstance()})}i.prototype.handleMultiInstance=function(){if(this.plan&&this.plan.instructions.length&&this.diagram.loaded.source&&this.diagram.loaded.target){var n=this;this.plan.instructions.forEach(function(e){n.isMIActivity(e)&&!n.containsMIBodyForActivity(e)?n.addMIBodyForActivity(e):n.isMIBody(e)&&!n.containsMIActivity(e)&&n.removeMIBody(e)})}},i.prototype.isMIActivity=function(e){var n=this.diagram.source.getElement(e.sourceActivityIds[0]),t=this.diagram.target.getElement(e.targetActivityIds[0]);return n&&n.businessObject.loopCharacteristics&&t&&t.businessObject.loopCharacteristics},i.prototype.containsMIBodyForActivity=function(n){return this.plan.instructions.filter(function(e){return e.sourceActivityIds[0]===n.sourceActivityIds[0]+"#multiInstanceBody"&&e.targetActivityIds[0]===n.targetActivityIds[0]+"#multiInstanceBody"}).length},i.prototype.addMIBodyForActivity=function(e){this.plan.instructions.push({sourceActivityIds:[e.sourceActivityIds[0]+"#multiInstanceBody"],targetActivityIds:[e.targetActivityIds[0]+"#multiInstanceBody"],updateEventTrigger:!1})},i.prototype.isMIBody=function(e){return-1!==e.sourceActivityIds[0].indexOf("#multiInstanceBody")&&-1!==e.targetActivityIds[0].indexOf("#multiInstanceBody")},i.prototype.containsMIActivity=function(n){return this.plan.instructions.filter(function(e){return e.sourceActivityIds[0]+"#multiInstanceBody"===n.sourceActivityIds[0]&&e.targetActivityIds[0]+"#multiInstanceBody"===n.targetActivityIds[0]}).length},i.prototype.removeMIBody=function(e){this.plan.instructions.splice(this.plan.instructions.indexOf(e),1)},n.exports=i},{}],218:[function(h,n,e){(function(e){"use strict";var d="undefined"!=typeof window?window.events:void 0!==e?e.events:null,u=h("../components/migrationComponent"),p=h("../components/diagramInteraction"),f="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,g=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "processInstanceIds",\n        "value": "PLGN_MIG_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PLGN_MIG_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "superProcessInstance",\n        "value": "PLGN_MIG_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstance",\n        "value": "PLGN_MIG_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_MIG_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "active",\n        "value": "PLGN_MIG_ACTIVE"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "suspended",\n        "value": "PLGN_MIG_SUSPENDED"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "incidentId",\n        "value": "PLGN_MIG_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentType",\n        "value": "PLGN_MIG_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentMessage",\n        "value": "PLGN_MIG_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_MIG_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_MIG_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "PLGN_MIG_WITHOUT_TENANT_ID"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MIG_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_MIG_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_MIG_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_MIG_FILTER_INSTANCES",\n    "invalid": "PLGN_MIG_INVALUD",\n    "deleteSearch": "PLGN_MIG_REMOVE",\n    "type": "PLGN_MIG_TYPE",\n    "name": "PLGN_MIG_PROPERTY",\n    "operator": "PLGN_MIG_OPERATOR",\n    "value": "PLGN_MIG_VALUE"\n  },\n  "operationEvent": "migration",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn", "tenantIdIn"],\n  "nonSanitizedTypes": ["variables"]\n}\n');n.exports=["$scope","page","camAPI","$uibModal","search","$location","$translate","configuration",function(n,e,t,i,a,s,o,r){n.bpmnJsConf=r.getBpmnJs();var c=new d;c.on("state.updated",function(){var e=n.$root.$$phase;"$apply"!==e&&"$digest"!==e&&n.$apply()}),n.$on("$destroy",function(){c.removeAllListeners()}),n.$watch(function(){return s.search()||{}},function(e){n.ctrl.source.key=e.sourceKey,n.ctrl.source.version=e.sourceVersion,n.ctrl.target.key=e.targetKey,n.ctrl.target.version=e.targetVersion,n.ctrl.update()}),n.ctrl=new u(t,c),n.diagram=new p(c),new(h("../components/multiInstanceHandler"))(c,n.diagram),h("../components/locationStore")(c,n.ctrl,a,s),h("../components/breadcrumbs")(e,n.$root);var l=new(h("../components/instructionBadge"))(c,n.diagram,t);n.mappingBadge=new(h("../components/mappingBadge"))(c,n.diagram),new(h("../components/instancesBadge"))(c,n.diagram,t),f.forEach(g.tooltips,function(e,n){g.tooltips[n]=o.instant(e)}),g.types.map(function(e){return e.id.value=o.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=o.instant(e.value),e})),e}),n.instancesCtrl=new(h("../components/instancesList"))(c,n.ctrl,t,g),n.confirmCtrl=new(h("../components/confirmationComponent"))(c,n.ctrl,n.instancesCtrl.delegate),n.executionCtrl=new(h("../components/executionComponent"))(c,n.ctrl,n.instancesCtrl.delegate,o),n.arrows=new(h("../components/arrow"))(document.querySelector(".migration-page"),c,n.diagram,l),n.diagramLink=new(h("../components/diagramLink"))(c,n.diagram),n.$watch("instancesCtrl.delegate.search.searches",function(){n.instancesCtrl.loadInstances()})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/arrow":204,"../components/breadcrumbs":205,"../components/confirmationComponent":206,"../components/diagramInteraction":207,"../components/diagramLink":208,"../components/executionComponent":209,"../components/instancesBadge":210,"../components/instancesList":211,"../components/instructionBadge":212,"../components/locationStore":213,"../components/mappingBadge":214,"../components/migrationComponent":215,"../components/multiInstanceHandler":217}],219:[function(t,i,e){(function(e){"use strict";var n=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).module("cockpit.plugin.migration.page",[]);n.controller("migrationCtrl",t("./controllers/migration")),n.config(t("./routeConfig")),i.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./controllers/migration":218,"./routeConfig":220}],220:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;t.exports=["$routeProvider",function(e){e.when("/migration",{templateUrl:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/migration/index.html",authentication:"required",reloadOnSearch:!1})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],221:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./page/index");a.exports=n.module("cockpit.plugin.migration",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./page/index":219}],222:[function(e,n,t){(function(e){var l="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports.fetchTemplates=function(e,n,t){var i=l.element("base").attr("cockpit-api"),a=i+"plugin/cockpitEE/static/app/modification/diagramPlugins/tools.html",s=i+"plugin/cockpitEE/static/app/modification/diagramPlugins/badges.html";return e.all([n.get(a).then(o),n.get(s).then(o)]);function o(e){return t(e,["data"])}},n.exports.setupDragAndDrop=function(e,n,i,a){function s(e){var n=r.css("transform")||r.css("-ms-transform"),t=parseFloat(n.substr(7)),i=l.element(".badge-important:visible",o.parent()).length?0:20;o.css({left:(e.clientX-c.x)/t+"px",top:(e.clientY-c.y)/t-i+"px"}),e.stopImmediatePropagation()}var o=n.tools.parent().parent().find(e).first(),r=l.element(".djs-overlay-container"),c={};o.mousedown(function(e){c.x=e.clientX,c.y=e.clientY,l.element(document).mousemove("mousemove",s),o.addClass("drag"),e.stopPropagation()}).mouseup(function(e){l.element(document).unbind("mousemove",s),o.removeAttr("style").removeClass("drag"),e.stopPropagation();for(var n=document.elementFromPoint(e.clientX,e.clientY);n.parentNode!==document&&null===n.getAttribute("data-element-id");)n=n.parentNode;var t=i[n.getAttribute("data-element-id")];t&&t.$instanceOf("bpmn:FlowNode")&&a(t)})},n.exports.addHovers=function(t,i,e,n,a){function s(e){c=a(function(){t.tools.hide(),i.dropdownOpen&&(i.dropdownOpen=!1,t.dropdownToggle.dropdown("toggle"))},e)}function o(){return c&&a.cancel(c)}var r=document.querySelector('[data-element-id="'+i.id+'"]'),c=null;e.observe("modificationHighlight",function(e){var n=t.badgesContent;e&&e.id===i.id?n.addClass("hovered"):n.removeClass("hovered")}),r.addEventListener("mouseover",function(){t.tools.show(),e.set("modificationHighlight",i),o(),n.$apply()}),r.addEventListener("mouseout",function(){s(50),e.set("modificationHighlight",null)}),t.tools[0].addEventListener("mouseover",function(){t.tools.show(),o(),n.$apply()}),t.tools[0].addEventListener("mouseout",function(){s(100)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],223:[function(e,n,t){(function(e){"use strict";var p="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.diagram.plugin",{id:"activity-definition-modification-overlay",overlay:["$scope","modification","control","processData","pageData","processDiagram","search","$translate",function(e,n,t,r,i,a,s,o){var c,l,d={isModificationTab:function(e){return e&&"modification-process-instances"===e.detailsTab},observe:function(t){r.observe(["activityInstanceStatistics","modificationInstructions"],function(e,n){l=n,c=e.reduce(function(e,n){return e[n.id]=n.instances,e},{}),t()})},getDataForElement:function(e){return p.extend({instructionsContainElement:function(e,n){var t=n.map(function(e){return e.id});return-1!==t.indexOf(e.id)||-1!==t.indexOf(e.id+"#multiInstanceBody")}(e,l),offerMI:!!e.loopCharacteristics,isFlowNode:e.$instanceOf("bpmn:FlowNode"),offerCancel:c[e.id],offerCancelMI:!!e.loopCharacteristics&&c[e.id]},function(n){var e=l.filter(function(e){return e.id===n.id||e.id===n.id+"#multiInstanceBody"}),t=e.some(function(e){return"startBefore"===e.operation||"startAfter"===e.operation}),i=e.some(function(e){return"cancel"===e.operation});return{add:t,remove:i}}(e))},updateNodes:function(e,n){n.offerMI?(e.startBeforeMI.show(),e.startAfterMI.show()):(e.startBeforeMI.hide(),e.startAfterMI.hide());n.offerCancel?e.cancel.show():e.cancel.hide();n.offerCancelMI?e.cancelMI.show():e.cancelMI.hide();n.instructionsContainElement?(e.badges.show(),e.badgesContent.text((n.add?"+":"")+(n.add&&n.remove?", ":"")+(n.remove?"-":"")),e.badgesContent.tooltip({container:"body",title:o.instant("PLGN_MOD_PLANNED"),placement:"top",animation:!1})):e.badges.hide()},setActiveTabToModification:u,onDragAndDrop:function(e,n,t){var i,a;c[t.id]?(i=t.id,a=!1):c[t.id+"#multiInstanceBody"]&&(i=t.id+"#multiInstanceBody",a=!0);var s={operation:"startBefore",id:e.id,name:e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)",bpmnElement:e},o={operation:"cancel",id:i,name:(t.name||t.$type.substr(5)+" ("+i.substr(0,8)+"...)")+(a?" (Multi Instance Body)":""),bpmnElement:t};e.id===i?(l.push(o),l.push(s)):(l.push(s),l.push(o));r.set("modificationInstructions",p.copy(l))},selectOperation:function(e,n){var t;u(),"cancelMI"===n&&c[e.id]?(t={operation:"cancel",id:e.id+"#multiInstanceBody",name:(e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)")+" (Multi Instance Body)",bpmnElement:e},l.push(t)):("cancel"===n&&c[e.id]||"cancel"!==n)&&(t={operation:n,id:e.id,name:e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)",bpmnElement:e},"startBeforeMI"!==n&&"startAfterMI"!==n||(t.operation="startBeforeMI"===n?"startBefore":"startAfter",t.id+="#multiInstanceBody",t.name+=" (Multi Instance Body)"),l.push(t));r.set("modificationInstructions",p.copy(l))}};function u(){var e=p.copy(s());e.detailsTab="modification-process-instances",s.updateSilently(e)}n(e,t,r,i,a,d)}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],224:[function(e,n,t){(function(e){"use strict";var u="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.diagram.plugin",{id:"activity-definition-restart-overlay",overlay:["$scope","modification","control","processData","pageData","processDiagram","search","$translate",function(e,n,t,i,a,s,o,r){var c,l={isModificationTab:function(e){return e&&"restart-process-instances"===e.detailsTab},observe:function(n){i.observe(["modificationInstructions"],function(e){c=e,n()})},getDataForElement:function(e){return u.extend({instructionsContainElement:function(e,n){var t=n.map(function(e){return e.id});return-1!==t.indexOf(e.id)||-1!==t.indexOf(e.id+"#multiInstanceBody")}(e,c),offerMI:!!e.loopCharacteristics,isFlowNode:e.$instanceOf("bpmn:FlowNode")},function(n){return{add:c.filter(function(e){return e.id===n.id||e.id===n.id+"#multiInstanceBody"}).some(function(e){return"startBefore"===e.operation||"startAfter"===e.operation})}}(e))},updateNodes:function(e,n){n.offerMI?(e.startBeforeMI.show(),e.startAfterMI.show()):(e.startBeforeMI.hide(),e.startAfterMI.hide());e.cancel.hide(),e.cancelMI.hide(),n.instructionsContainElement?(e.badges.show(),e.badgesContent.text((n.add?"+":"")+(n.add&&n.remove?", ":"")+(n.remove?"-":"")),e.badgesContent.tooltip({container:"body",title:r.instant("PLGN_MOD_PLANNED"),placement:"top",animation:!1})):e.badges.hide()},setActiveTabToModification:d,selectOperation:function(e,n){var t;d(),"cancelMI"===n&&(void 0)[e.id]?(t={operation:"cancel",id:e.id+"#multiInstanceBody",name:(e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)")+r.instant("PLGN_MOD_MULTI_INSTANCE_BODY"),bpmnElement:e},c.push(t)):("cancel"===n&&(void 0)[e.id]||"cancel"!==n)&&(t={operation:n,id:e.id,name:e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)",bpmnElement:e},"startBeforeMI"!==n&&"startAfterMI"!==n||(t.operation="startBeforeMI"===n?"startBefore":"startAfter",t.id+="#multiInstanceBody",t.name+=r.instant("PLGN_MOD_MULTI_INSTANCE_BODY")),c.push(t));i.set("modificationInstructions",u.copy(c))}};function d(){var e=u.copy(o());e.detailsTab="restart-process-instances",o.updateSilently(e)}n(e,t,i,a,s,l)}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],225:[function(c,l,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=c("./instanceModification"),a=c("./definitionModification"),s=c("./definitionRestart"),o=c("./modificationService"),r=n.module("cockpit.plugin.modification.diagramPlugins",[t.name]);r.config(i),r.config(a),r.config(s),r.factory("modification",o),l.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./definitionModification":223,"./definitionRestart":224,"./instanceModification":226,"./modificationService":227}],226:[function(e,n,t){(function(e){"use strict";var y="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.diagram.plugin",{id:"activity-instance-modification-overlay",overlay:["$scope","control","processData","pageData","processDiagram","search","get","modification","$translate",function(e,n,r,t,i,a,s,o,c){var l,d,u,p,f={isModificationTab:function(e){return e&&"modification-process-instances"===e.tab},observe:function(a){r.observe(["activityIdToInstancesMap","instanceIdToInstanceMap","modificationInstructions","processInstance"],function(e,n,t,i){l=e,d=n,u=t,p=i,a()})},getDataForElement:function(e){return y.extend({instructionsContainElement:function(e,n){var t=n.map(function(e){return e.id});return-1!==t.indexOf(e.id)||-1!==t.indexOf(e.id+"#multiInstanceBody")}(e,u),offerMI:!!e.loopCharacteristics,isFlowNode:e.$instanceOf("bpmn:FlowNode"),offerCancel:l[e.id],offerCancelMI:l[e.id+"#multiInstanceBody"]},function(e){for(var n=0,t=0,i=0;i<u.length;i++)u[i].id!==e.id&&u[i].id!==e.id+"#multiInstanceBody"||("cancel"===u[i].operation?t+=Object.keys(u[i].instances).map(function(e){return u[i].instances[e]}).filter(function(e){return e}).length||Object.keys(u[i].instanceIds).length||1:"startBefore"!==u[i].operation&&"startAfter"!==u[i].operation||(n+=u[i].repeat));return{add:n,remove:t}}(e))},updateNodes:function(e,n){n.offerMI?(e.startBeforeMI.show(),e.startAfterMI.show()):(e.startBeforeMI.hide(),e.startAfterMI.hide());n.offerCancel?e.cancel.show():e.cancel.hide();n.offerCancelMI?e.cancelMI.show():e.cancelMI.hide();n.instructionsContainElement?(e.badges.show(),e.badgesContent.text((n.add?"+"+n.add:"")+(n.add&&n.remove?", ":"")+(n.remove?"-"+n.remove:"")),e.badgesContent.tooltip({container:"body",title:c.instant("PLGN_MOD_PLANNED"),placement:"top",animation:!1})):e.badges.hide()},setActiveTabToModification:v,onDragAndDrop:function(e,n,t){var i,a;l[t.id]?(i=t.id,a=!1):l[t.id+"#multiInstanceBody"]&&(i=t.id+"#multiInstanceBody",a=!0);var s={};(l[e.id]||[]).forEach(function(e){s[e.id]=!1}),u.push({operation:"startBefore",id:e.id,name:e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)",instanceIds:l[e.id]||[],instances:s,instanceInfo:{},variables:[],ancestors:g(e),bpmnElement:e,repeat:Object.keys(l[i]).length});var o={};(l[i]||[]).forEach(function(e){o[e.id]=!0}),u.push({operation:"cancel",id:i,name:t.name+(a?c.instant("PLGN_MOD_MULTI_INSTANCE_BODY"):"")||t.$type.substr(5)+" ("+i.substr(0,8)+"...)",instanceIds:l[i]||[],instances:o,instanceInfo:{},variables:[],ancestors:g(t),bpmnElement:t,repeat:1}),r.set("modificationInstructions",y.copy(u))},selectOperation:function(e,n){var t,i;v(),"cancelMI"===n&&l[e.id+"#multiInstanceBody"]?(t={},(l[e.id+"#multiInstanceBody"]||[]).forEach(function(e){t[e.id]=!0}),i={operation:"cancel",id:e.id+"#multiInstanceBody",name:e.name+c.instant("PLGN_MOD_MULTI_INSTANCE_BODY")||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)",instanceIds:l[e.id+"#multiInstanceBody"]||[],instances:t,instanceInfo:{},variables:[],ancestors:g(e),bpmnElement:e,repeat:1},u.push(i)):("cancel"===n&&l[e.id]||"cancel"!==n)&&(t={},(l[e.id]||[]).forEach(function(e){t[e.id]=!0}),i={operation:n,id:e.id,name:e.name||e.$type.substr(5)+" ("+e.id.substr(0,8)+"...)",instanceIds:l[e.id]||[],instances:t,instanceInfo:{},variables:[],ancestors:g(e),bpmnElement:e,repeat:1},"startBeforeMI"!==n&&"startAfterMI"!==n||(i.operation="startBeforeMI"===n?"startBefore":"startAfter",i.id+="#multiInstanceBody",i.name+=c.instant("PLGN_MOD_MULTI_INSTANCE_BODY")),u.push(i));r.set("modificationInstructions",y.copy(u))}};function g(e){var n,t,i,a=[];if(!e||!e.$parent)return a;for(!function(e){return e.loopCharacteristics}(e)||(s=l[e.id+"#multiInstanceBody"],a=a.concat(h(s)));(e=e.$parent)&&"bpmn:Process"!==e.$type;){var s=(t=void 0,t=l[(n=e).id]||[],i=l[n.id+"#multiInstanceBody"]||[],t.concat(i).filter(function(e){return e.id&&!e.isTransitionInstance}));a=a.concat(h(s))}var o=d[p.id];return a.push(m(o)),a}function h(e){return(e||[]).map(m)}function m(e){return{id:e.id,name:e.name||e.id,type:e.activityType}}function v(){var e=y.copy(a());e.tab="modification-process-instances",a.updateSilently(e)}o(e,n,r,t,i,f)}]})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],227:[function(n,t,e){(function(e){"use strict";var S="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,w=n("./common");t.exports=["$timeout","$rootScope","search","$http","$q","get","$translate",function(m,v,y,b,I,_,E){return function(a,e,n,t,i,s){var o,r,c=e.getViewer(),l=c.get("overlays"),d=c.get("elementRegistry"),u={},p=[],f=!1,g=v.$on("cockpit.plugin.base.views:diagram-plugins:instance-plugin-loaded",function(){f=!0,p.forEach(function(e){e()}),p=[],g()});function h(){d.forEach(function(e){!function(e){var n=s.getDataForElement(e);n.isFlowNode&&(u[e.id]||(u[e.id]=function(){var n=S.element(o),e=S.element(r);n.hide();return S.forEach([".modification-start-before",".modification-start-after",".modification-start-before-mi",".modification-start-after-mi",".modification-cancel",".modification-cancel-mi"],function(e){n.find(e)[0].text=E.instant(n.find(e)[0].text)}),{tools:n,badges:e,startBefore:n.find(".modification-start-before"),startAfter:n.find(".modification-start-after"),startBeforeMI:n.find(".modification-start-before-mi"),startAfterMI:n.find(".modification-start-after-mi"),cancel:n.find(".modification-cancel"),cancelMI:n.find(".modification-cancel-mi"),badgesContent:e.find(".badge"),dropdownToggle:n.find('[data-toggle="dropdown"]')}}(),l.add(e.id,{position:{bottom:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:u[e.id].tools}),l.add(e.id,{position:{top:0,left:0},show:{minZoom:-1/0,maxZoom:1/0},html:u[e.id].badges}),function(n,t){["startBefore","startBeforeMI","startAfter","startAfterMI","cancel","cancelMI"].forEach(function(e){!function(e,n,t){var i=function(){a.$apply(function(){s.selectOperation(n,t)})};e.on("click",i),a.$on("$destroy",function(){e.off("click",i)})}(n[e],t,e)}),n.tools.on("shown.bs.dropdown",function(){t.dropdownOpen=!0}),n.tools.on("hide.bs.dropdown",function(){t.dropdownOpen=!1}),function(e){f?e():p.push(e)}(function(){!function(n,t){w.setupDragAndDrop(".instance-count",n,i.bpmnElements,function(e){s.setActiveTabToModification(),s.onDragAndDrop(e,n,t)})}(n,t)})}(u[e.id],e),w.addHovers(u[e.id],e,t,a,m)),s.updateNodes(u[e.id],n))}(i.bpmnElements[e.businessObject.id])})}a.$on("$destroy",function(){g(),p=[]}),w.fetchTemplates(I,b,_).then(function(e){o=e[0],r=e[1],o&&r&&s.observe(function(){var e=s.isModificationTab(y());e&&h(),a.$on("$locationChangeSuccess",function(){e||(e=s.isModificationTab(y()))&&h()})})})}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common":222}],228:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./views/main"),i=a("./diagramPlugins");s.exports=n.module("cockpit.plugin.modification",[t.name,i.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./diagramPlugins":225,"./views/main":234}],229:[function(e,n,t){"use strict";function i(e,n,t,i){this.definitionId=n,this.eventBus=e,this.delegate=new a(e,null,t,i,this),this.loadInstances()}var a=e("../../../../common/batch/instancesList");i.prototype.updatePage=function(e){var t=this;this.delegate.selectAll=!1,e&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var n=this.delegate.search.getParams();n.processDefinitionId=this.definitionId,n.finished=!0,n.sortBy="instanceId",n.sortOrder="desc",n.firstResult=(this.delegate.currentPage-1)*this.delegate.pageSize,n.maxResults=this.delegate.pageSize;var i=JSON.stringify(n);if(this.currentParams!==i){this.currentParams=i,this.loadingState="LOADING";var a=function(){null!==t.delegate.instances&&null!==t.delegate.instancesCount&&(t.delegate.loadingState="LOADED",0===t.delegate.instancesCount&&(t.delegate.loadingState="EMPTY"),t.delegate.eventBus.emit("instanceList.updated"),t.delegate.eventBus.emit("state.updated"))};t.delegate.instances=t.delegate.instancesCount=null,t.delegate.api.resource("history").processInstance(n,function(e,n){t.delegate.instances=n,t.delegate.applySelection(),a()}),t.delegate.api.resource("history").processInstanceCount(n,function(e,n){t.delegate.instancesCount=n.count,a()})}},i.prototype.loadInstances=function(){this.updatePage(!0)},n.exports=i},{"../../../../common/batch/instancesList":84}],230:[function(e,n,t){"use strict";function i(e,n,t,i){this.definitionId=n,this.eventBus=e,this.delegate=new a(e,null,t,i,this),this.loadInstances()}var a=e("../../../../common/batch/instancesList");i.prototype.updatePage=function(e){var t=this;this.delegate.selectAll=!1,e&&(this.delegate.currentPage=1,this.delegate.selectedInstances=[],this.delegate.applySelection());var n=this.delegate.search.getParams();n.processDefinitionId=this.definitionId,n.sortBy="instanceId",n.sortOrder="desc",n.firstResult=(this.delegate.currentPage-1)*this.delegate.pageSize,n.maxResults=this.delegate.pageSize;var i=JSON.stringify(n);if(this.currentParams!==i){this.currentParams=i,this.loadingState="LOADING";var a=function(){null!==t.delegate.instances&&null!==t.delegate.instancesCount&&(t.delegate.loadingState="LOADED",0===t.delegate.instancesCount&&(t.delegate.loadingState="EMPTY"),t.delegate.eventBus.emit("instanceList.updated"),t.delegate.eventBus.emit("state.updated"))};t.delegate.instances=t.delegate.instancesCount=null,t.delegate.api.resource("process-instance").list(n,function(e,n){t.delegate.instances=n,t.delegate.applySelection(),a()}),t.delegate.api.resource("process-instance").count(n,function(e,n){t.delegate.instancesCount=n.count,a()})}},i.prototype.loadInstances=function(){this.updatePage(!0)},n.exports=i},{"../../../../common/batch/instancesList":84}],231:[function(h,t,e){(function(e){"use strict";var d="undefined"!=typeof window?window.events:void 0!==e?e.events:null,p="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,u=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "processInstanceIds",\n        "value": "PLGN_MOD_SEARCH_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PLGN_MOD_SEARCH_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "superProcessInstance",\n        "value": "PLGN_MOD_SEARCH_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstance",\n        "value": "PLGN_MOD_SEARCH_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_MOD_SEARCH_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "active",\n        "value": "PLGN_MOD_SEARCH_ACTIVE"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "suspended",\n        "value": "PLGN_MOD_SEARCH_SUSPENDED"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "withIncident",\n        "value": "PLGN_MOD_SEARCH_WITH_INCIDENTS"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "incidentId",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentType",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentMessage",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_MOD_SEARCH_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_MOD_SEARCH_PLACEHOLDER",\n    "invalid": "PLGN_MOD_SEARCH_INVALID",\n    "deleteSearch": "PLGN_MOD_SEARCH_DELETE_SEARCH",\n    "type": "PLGN_MOD_SEARCH_TYPE",\n    "name": "PLGN_MOD_SEARCH_NAME",\n    "operator": "PLGN_MOD_SEARCH_OPERATOR",\n    "value": "PLGN_MOD_SEARCH_VALUE"\n  },\n  "operationEvent": "migration",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn", "tenantIdIn"],\n  "nonSanitizedTypes": ["variables"]\n}\n'),f=h("../patchScope"),g=["$scope","$uibModalInstance","requestPayload","instructions","camAPI","hideSkipCustomListeners","$translate","SKIP_IO_MAPPINGS",function(t,e,n,i,a,s,o,r){var c;t.requestPayload=n,t.instructions=i,t.showInstanceSelection=!0,t.async=!0,t.hideSkipCustomListeners=s,t.SKIP_IO_MAPPINGS=r,t.cancelInstructionPresent=(c=!1,t.requestPayload.instructions.forEach(function(e){"cancel"===e.type&&(c=!0)}),c),t.gotoConfirmScreen=function(){if(delete t.requestPayload.processInstanceIds,delete t.requestPayload.processInstanceQuery,t.instancesCtrl.delegate.selectedInstances.length)t.requestPayload.processInstanceIds=t.instancesCtrl.delegate.selectedInstances;else{var e=t.instancesCtrl.delegate.search.getParams();t.requestPayload.processInstanceQuery=e,t.requestPayload.processInstanceQuery.processDefinitionId=t.requestPayload.processDefinitionId}t.showInstanceSelection=!1},t.goBack=function(){t.showInstanceSelection=!0},t.ok=function(){e.close({payload:n,async:t.async})},t.cancel=function(){e.dismiss("cancel")},t.changeNewActivityInstance=function(n){t.requestPayload.instructions.forEach(function(e){"cancel"===e.type&&(e.cancelCurrentActiveActivityInstances=!n)})};var l=new d;p.forEach(u.tooltips,function(e,n){u.tooltips[n]=o.instant(e)}),u.types.map(function(e){return e.id.value=o.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=o.instant(e.value),e})),e}),t.instancesCtrl=new(h("./instancesList"))(l,n.processDefinitionId,a,u),t.$watch("instancesCtrl.delegate.search.searches",function(){t.instancesCtrl.loadInstances()})}],n=["$scope","$uibModal","$timeout","camAPI","Notifications","configuration","$translate",function(t,e,n,i,a,s,o){var r=t.processData.newChild(t),c=t.pageData.newChild(t),l=i.resource("modification"),d=s.getSkipCustomListeners(),u=t.SKIP_IO_MAPPINGS=s.getSkipIoMappings();f(t,r,c,n,p),r.observe("processDefinition",function(e){t.requestPayload={processDefinitionId:e.id,skipCustomListeners:d.default,skipIoMappings:u.default,instructions:[]}}),t.hideSkipCustomListeners=d.hidden,t.$watch("instructions",function(){t.requestPayload.instructions=[],t.instructions.forEach(function(e){switch(e.operation){case"cancel":t.requestPayload.instructions.push({type:"cancel",activityId:e.id,cancelCurrentActiveActivityInstances:!0});break;case"startBefore":case"startAfter":var n={startAfter:"startAfterActivity",startBefore:"startBeforeActivity"}[e.operation];t.requestPayload.instructions.push({type:n,activityId:e.id})}})},!0),t.selectInstances=function(){e.open({template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/modification-confirmation-dialog.html --\x3e\n<div ng-show="showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_DIALOG_TITLE\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="section-content row">\n      <div class="col-xs-12">\n        <div cam-widget-search\n             cam-widget-search-id="modification"\n             cam-widget-search-total="instancesCtrl.delegate.instancesCount"\n             cam-widget-search-valid-searches="instancesCtrl.delegate.search.searches"\n             cam-widget-search-translations="instancesCtrl.delegate.search.translations"\n             cam-widget-search-types="instancesCtrl.delegate.search.types"\n             cam-widget-search-operators="instancesCtrl.delegate.search.operators"\n             cam-widget-search-storage-group="\'PI\'"\n             cam-widget-search-mode="filter"></div>\n        <div cam-widget-loader\n             loading-state="{{ instancesCtrl.delegate.loadingState }}"\n             text-empty="{{ \'PLGN_MOD_DIALOG_LOADER_EMPTY\' | translate }}">\n          <table class="process-instances cam-table">\n            <thead>\n              <tr>\n                <th class="migrate">\n                  <input type="checkbox"\n                         ng-model="instancesCtrl.delegate.selectAll"\n                         ng-change="instancesCtrl.delegate.toggleAll()"></input></th>\n                <th class="instance-id uuid">{{ \'PLGN_MOD_DIALOG_ID\' | translate }}</th>\n                <th class="business-key">{{ \'PLGN_MOD_DIALOG_BUSINESS_KEY\' | translate }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="processInstance in instancesCtrl.delegate.instances"\n                  ng-class="{selected: processInstance.selected}">\n                <td class="migrate">\n                  <input type="checkbox"\n                         ng-model="processInstance.selected"\n                         ng-change="instancesCtrl.delegate.updateSelectedInstances()"></input>\n                </td>\n\n                <td class="instance-id uuid">\n                  <a ng-href="#/process-instance/{{ processInstance.id }}"\n                     title="{{ processInstance.id }}"\n                     target="_blank">\n                    {{ processInstance.id }}\n                  </a>\n                </td>\n\n                <td class="business-key">\n                  {{ processInstance.businessKey }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <ul uib-pagination ng-if="instancesCtrl.delegate.instancesCount > instancesCtrl.delegate.pageSize"\n                        class="pagination-sm"\n\n                        page="instancesCtrl.delegate.currentPage"\n                        ng-model="instancesCtrl.delegate.currentPage"\n                        ng-change="instancesCtrl.updatePage()"\n\n                        total-items="instancesCtrl.delegate.instancesCount"\n                        items-per-page="instancesCtrl.delegate.pageSize"\n\n                        max-size="7"\n                        boundary-links="true"></ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button class="btn btn-link"\n            ng-click="cancel()">{{ \'PLGN_MOD_DIALOG_CANCLE\' | translate }}</button>\n\n    <button class="btn btn-primary"\n            ng-click="gotoConfirmScreen()"\n            ng-disabled="instancesCtrl.delegate.instancesCount === 0">\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length > 0"\n            translate="PLGN_MOD_DIALOG_SELECTED"\n            translate-values="{instancesCount: instancesCtrl.delegate.selectedInstances.length}"></span>\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length === 0"\n            translate="PLGN_MOD_DIALOG_ALL"\n            translate-values="{instancesCount: instancesCtrl.delegate.instancesCount}"></span>\n    </button>\n  </div>\n</div>\n\n\n<div ng-show="!showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_DIALOG_TITLE_CONFIRM\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="help-block text-center">\n      {{ \'PLGN_MOD_DIALOG_PLAYING\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.\n      {{ \'PLGN_MOD_DIALOG_REVIEW\' | translate }}\n    </div>\n    <div class="h3">{{ \'PLGN_MOD_DIALOG_OPTIONS\' | translate }}</div>\n    <div class="row">\n      <div class="col-sm-6">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="async" />\n            {{ \'PLGN_MOD_DIALOG_ASYNC\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_ASYNC_HELP\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-6" ng-if="cancelInstructionPresent">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="cancelCurrentActiveActivityInstances"\n                   ng-init="cancelCurrentActiveActivityInstances = true"\n                   ng-click="changeNewActivityInstance(cancelCurrentActiveActivityInstances)"\n            />\n\n            {{ \'PLGN_MOD_DIALOG_ONLY_CANCEL_CURRENT\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_CANCEL_INSTRUCTIONS\' | translate }}</div>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div ng-hide="hideSkipCustomListeners"\n           class="col-sm-6">\n        <div  class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.skipCustomListeners" />\n            {{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS_HELP\' | translate }}</div>\n        </div>\n      </div>\n      <div ng-hide="SKIP_IO_MAPPINGS.hidden"\n           class="col-sm-6">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.skipIoMappings"\n            />\n            {{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS_HELP\' | translate }}</div>\n        </div>\n      </div>\n    </div>\n    <div>\n      <div class="h3">{{ \'PLGN_MOD_DIALOG_SUMMARY\' | translate }}</div>\n      {{ \'PLGN_MOD_DIALOG_ABOUT_TO_MODIFY\' | translate }}\n      <b ng-if="instancesCtrl.delegate.selectedInstances.length > 0">{{instancesCtrl.delegate.selectedInstances.length}}</b>\n      <b ng-if="!(instancesCtrl.delegate.selectedInstances.length > 0)">{{instancesCtrl.delegate.instancesCount}}</b>\n      {{ \'PLGN_MOD_DIALOG_INSTANCE\' | translate }}<span ng-if="instancesCtrl.delegate.selectedInstances.length > 1 || (instancesCtrl.delegate.selectedInstances.length === 0 && instancesCtrl.delegate.instancesCount > 1)">{{ \'PLGN_MOD_DIALOG_S\' | translate }}</span>\n      {{ \'PLGN_MOD_DIALOG_FOLLOWING_WAY\' | translate }}\n      <div class="instruction"\n          ng-repeat="instruction in instructions"\n          ng-class="instruction.operation">\n        <div class="type">{{ instruction.operation }}</div>\n        <div class="target">{{ instruction.name }}</div>\n      </div>\n\n    </div>\n\n    <div cam-widget-debug\n         debugged="requestPayload"\n         display-name="{{ \'PLGN_MOD_DIALOG_PAYLOAD\' | translate }}"\n         class="row"\n         cam-widget-debug-tooltip="{{ \'PLGN_MOD_DIALOG_SHOW_PAYLOAD\' | translate }}"></div>\n  </div>\x3c!-- .modal-body --\x3e\n\n\n  <div class="modal-footer with-back">\n    <button class="btn btn-default"\n            ng-click="goBack()">{{ \'PLGN_MOD_DIALOG_BACK\' | translate }}</button>\n    <div>\n      <button class="btn btn-link"\n              ng-click="cancel()">{{ \'PLGN_MOD_DIALOG_CANCEL\' | translate }}</button>\n\n      <button class="btn btn-primary"\n              ng-click="ok()">{{ \'PLGN_MOD_DIALOG_PROCEED\' | translate }}</button>\n    </div>\n  </div>\n</div>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/modification-confirmation-dialog.html --\x3e\n',controller:g,windowClass:"modification-confirmation-dialog",size:"lg",resolve:{requestPayload:function(){return t.requestPayload},hideSkipCustomListeners:function(){return t.hideSkipCustomListeners},instructions:function(){return t.instructions},SKIP_IO_MAPPINGS:function(){return t.SKIP_IO_MAPPINGS}}}).result.then(function(e){var n=e.async?"executeAsync":"execute";l[n](e.payload,function(e){e?a.addError({status:o.instant("PLGN_MOD_NOTIFICATION_ERROR"),message:e.message}):(t.instructions=[],location.reload())})}).catch(p.noop)}}];t.exports=function(e){e.config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.runtime.tab",{id:"modification-process-instances",label:"PLGN_MOD_MODIFY",url:p.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/modification/views/definition/modification.html",controller:n,priority:-1,initialize:function(e){e.processData.provide("modificationInstructions",[]),e.pageData.provide("modificationHighlight",null)}})}])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../patchScope":235,"./instancesList":230}],232:[function(u,t,e){(function(e){"use strict";var l="undefined"!=typeof window?window.events:void 0!==e?e.events:null,p="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,d=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "processInstanceIds",\n        "value": "PLGN_MOD_SEARCH_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceBusinessKey",\n        "value": "PLGN_MOD_SEARCH_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "superProcessInstanceId",\n        "value": "PLGN_MOD_SEARCH_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "subProcessInstanceId",\n        "value": "PLGN_MOD_SEARCH_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n\n    {\n      "id": {\n        "key": "variables",\n        "value": "PLGN_MOD_SEARCH_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "incidentType",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "incidentMessage",\n        "value": "PLGN_MOD_SEARCH_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_MOD_SEARCH_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "startedBy",\n        "value": "PLGN_MOD_SEARCH_STARTED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "startedDate",\n        "value": "PLGN_MOD_SEARCH_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "finishedDate",\n        "value": "PLGN_MOD_SEARCH_FINISHED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_MOD_SEARCH_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_MOD_SEARCH_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_MOD_SEARCH_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_MOD_SEARCH_PLACEHOLDER",\n    "invalid": "PLGN_MOD_SEARCH_INVALID",\n    "deleteSearch": "PLGN_MOD_SEARCH_DELETE_SEARCH",\n    "type": "PLGN_MOD_SEARCH_TYPE",\n    "name": "PLGN_MOD_SEARCH_NAME",\n    "operator": "PLGN_MOD_SEARCH_OPERATOR",\n    "value": "PLGN_MOD_SEARCH_VALUE"\n  },\n  "operationEvent": "restart",\n  "arrayTypes": ["variables", "processInstanceIds", "activityIdIn", "tenantIdIn"],\n  "nonSanitizedTypes": ["variables"]\n}\n'),f=u("../patchScope"),g=["$scope","$uibModalInstance","requestPayload","instructions","camAPI","hideSkipCustomListeners","$translate","SKIP_IO_MAPPINGS",function(n,e,t,i,a,s,o,r){n.requestPayload=t,n.instructions=i,n.showInstanceSelection=!0,n.async=!0,n.hideSkipCustomListeners=s,n.SKIP_IO_MAPPINGS=r,n.gotoConfirmScreen=function(){if(delete n.requestPayload.processInstanceIds,delete n.requestPayload.historicProcessInstanceQuery,n.requestPayload.withoutBusinessKey=!1,n.requestPayload.initialVariables=!1,n.instancesCtrl.delegate.selectedInstances.length)n.requestPayload.processInstanceIds=n.instancesCtrl.delegate.selectedInstances;else{var e=n.instancesCtrl.delegate.search.getParams();n.requestPayload.historicProcessInstanceQuery=e,n.requestPayload.historicProcessInstanceQuery.processDefinitionId=n.requestPayload.processDefinitionId,n.requestPayload.historicProcessInstanceQuery.finished=!0}n.showInstanceSelection=!1},n.goBack=function(){n.showInstanceSelection=!0},n.ok=function(){e.close({processDefinitionId:n.requestPayload.processDefinitionId,payload:t,async:n.async})},n.cancel=function(){e.dismiss("cancel")};var c=new l;p.forEach(d.tooltips,function(e,n){d.tooltips[n]=o.instant(e)}),d.types.map(function(e){return e.id.value=o.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=o.instant(e.value),e})),e}),n.instancesCtrl=new(u("./historicInstancesList"))(c,t.processDefinitionId,a,d),n.$watch("instancesCtrl.delegate.search.searches",function(){n.instancesCtrl.loadInstances()})}],n=["$scope","$uibModal","$timeout","camAPI","Notifications","configuration","$translate",function(t,e,n,i,a,s,o){var r=t.processData.newChild(t),c=t.pageData.newChild(t),l=s.getSkipCustomListeners(),d=t.SKIP_IO_MAPPINGS=s.getSkipIoMappings(),u=i.resource("process-definition");f(t,r,c,n,p),r.observe("processDefinition",function(e){t.requestPayload={processDefinitionId:e.id,skipCustomListeners:l.default,skipIoMappings:d.default,instructions:[]}}),t.$watch("instructions",function(){t.requestPayload.instructions=[],t.instructions.forEach(function(e){var n={startAfter:"startAfterActivity",startBefore:"startBeforeActivity"}[e.operation];t.requestPayload.instructions.push({type:n,activityId:e.id})})},!0),t.hideSkipCustomListeners=l.hidden,t.selectInstances=function(){e.open({template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/restart-confirmation-dialog.html --\x3e\n<div ng-show="showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_RESTART_DIALOG_SELECT_INSTANCES\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="section-content row">\n      <div class="col-xs-12">\n        <div cam-widget-search\n             cam-widget-search-id="modification"\n             cam-widget-search-total="instancesCtrl.delegate.instancesCount"\n             cam-widget-search-valid-searches="instancesCtrl.delegate.search.searches"\n             cam-widget-search-translations="instancesCtrl.delegate.search.translations"\n             cam-widget-search-types="instancesCtrl.delegate.search.types"\n             cam-widget-search-operators="instancesCtrl.delegate.search.operators"\n             cam-widget-search-storage-group="\'PI\'"\n             cam-widget-search-mode="filter"></div>\n        <div cam-widget-loader\n             loading-state="{{ instancesCtrl.delegate.loadingState }}"\n             text-empty="{{ \'PLGN_MOD_RESTART_DIALOG_NO_INSTANCES\' | translate }}">\n          <table class="process-instances cam-table">\n            <thead>\n              <tr>\n                <th class="migrate">\n                  <input type="checkbox"\n                         ng-model="instancesCtrl.delegate.selectAll"\n                         ng-change="instancesCtrl.delegate.toggleAll()"></input></th>\n                <th class="instance-id uuid">{{ \'PLGN_MOD_RESTART_DIALOG_ID\' | translate }}</th>\n                <th class="business-key">{{ \'PLGN_MOD_RESTART_DIALOG_BUSINESS_KEY\' | translate }}</th>\n                <th class="start-time">{{ \'PLGN_MOD_RESTART_DIALOG_START_TIME\' | translate }}</th>\n                <th class="end-time">{{ \'PLGN_MOD_RESTART_DIALOG_END_TIME\' | translate }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="processInstance in instancesCtrl.delegate.instances"\n                  ng-class="{selected: processInstance.selected}">\n                <td class="migrate">\n                  <input type="checkbox"\n                         ng-model="processInstance.selected"\n                         ng-change="instancesCtrl.delegate.updateSelectedInstances()"></input>\n                </td>\n\n                <td class="instance-id uuid">\n                  <a ng-href="#/process-instance/{{ processInstance.id }}"\n                     title="{{ processInstance.id }}"\n                     target="_blank">\n                    {{ processInstance.id }}\n                  </a>\n                </td>\n\n                <td class="business-key">\n                  {{ processInstance.businessKey }}\n                </td>\n\n                <td class="start-time">\n                  {{ processInstance.startTime | camDate }}\n                </td>\n\n                <td class="end-time">\n                  {{ processInstance.endTime | camDate }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <ul uib-pagination ng-if="instancesCtrl.delegate.instancesCount > instancesCtrl.delegate.pageSize"\n                        class="pagination-sm"\n\n                        page="instancesCtrl.delegate.currentPage"\n                        ng-model="instancesCtrl.delegate.currentPage"\n                        ng-change="instancesCtrl.updatePage()"\n\n                        total-items="instancesCtrl.delegate.instancesCount"\n                        items-per-page="instancesCtrl.delegate.pageSize"\n\n                        max-size="7"\n                        boundary-links="true"></ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button class="btn btn-link"\n            ng-click="cancel()">{{ \'PLGN_MOD_RESTART_DIALOG_CANCEL\' | translate }}</button>\n\n    <button class="btn btn-primary"\n            ng-click="gotoConfirmScreen()"\n            ng-disabled="instancesCtrl.delegate.instancesCount === 0">\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length > 0"\n            translate="PLGN_MOD_RESTART_DIALOG_SELECTED_INSTANCES"\n            translate-values="{instancesCount: instancesCtrl.delegate.selectedInstances.length}"></span>\n      <span ng-if="instancesCtrl.delegate.selectedInstances.length === 0"\n            translate="PLGN_MOD_RESTART_DIALOG_ALL_INSTANCES"\n            translate-values="{instancesCount: instancesCtrl.delegate.instancesCount}"></span>\n    </button>\n  </div>\n</div>\n\n\n<div ng-show="!showInstanceSelection">\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'PLGN_MOD_RESTART_DIALOG_CONFIRM\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="help-block text-center">\n      {{ \'PLGN_MOD_RESTART_DIALOG_PLAYING_WITH\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.\n      {{ \'PLGN_MOD_RESTART_DIALOG_REVIEW_OPERATIONS\' | translate }}\n    </div>\n    <div class="h3">{{ \'PLGN_MOD_RESTART_DIALOG_OPTIONS\' | translate }}</div>\n    <div class="row">\n      <div class="col-sm-4">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="async" />\n            {{ \'PLGN_MOD_RESTART_DIALOG_ASYNC\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-4">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.initialVariables" />\n            {{ \'PLGN_MOD_RESTART_DIALOG_INITIAL_VARIABLES\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_VARIABLES\' | translate }}</div>\n        </div>\n      </div>\n      <div class="col-sm-4">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox"\n                   ng-model="requestPayload.withoutBusinessKey" />\n            {{ \'PLGN_MOD_RESTART_DIALOG_WITHOUT_BUSINESS_KEY\' | translate }}\n          </label>\n          <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_WITHOUT_BUSINESS_KEY\' | translate }}</div>\n        </div>\n      </div>\n    </div>\n      <div class="row">\n        <div ng-hide="hideSkipCustomListeners"\n             class="col-sm-4">\n          <div  class="checkbox">\n            <label>\n              <input type="checkbox"\n                     ng-model="requestPayload.skipCustomListeners" />\n              {{ \'PLGN_MOD_RESTART_DIALOG_SKIP_CUSTOM_LISTENERS\' | translate }}\n            </label>\n            <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_SKIP_CUSTOM_LISTENERS\' | translate }}</div>\n          </div>\n        </div>\n        <div class="col-sm-4"\n             ng-hide="SKIP_IO_MAPPINGS.hidden">\n          <div class="checkbox">\n            <label>\n              <input type="checkbox"\n                     ng-model="requestPayload.skipIoMappings" />\n              {{ \'PLGN_MOD_RESTART_DIALOG_SKIP_IO_MAPPINGS\' | translate }}\n            </label>\n            <div class="help-block">{{ \'PLGN_MOD_RESTART_DIALOG_HELP_SKIP_IO_MAPPINGS\' | translate }}</div>\n          </div>\n        </div>\n\n      </div>\n    <div>\n      <div class="h3">{{ \'PLGN_MOD_RESTART_DIALOG_SUMMARY\' | translate }}</div>\n      {{ \'PLGN_MOD_RESTART_DIALOG_YOU_ARE_ABOUT\' | translate }}\n      <b ng-if="instancesCtrl.delegate.selectedInstances.length > 0">{{instancesCtrl.delegate.selectedInstances.length}}</b>\n      <b ng-if="!(instancesCtrl.delegate.selectedInstances.length > 0)">{{instancesCtrl.delegate.instancesCount}}</b>\n      {{ \'PLGN_MOD_RESTART_DIALOG_INSTANCE\' | translate }}<span ng-if="instancesCtrl.delegate.selectedInstances.length > 1 || (instancesCtrl.delegate.selectedInstances.length === 0 && instancesCtrl.delegate.instancesCount > 1)">{{ \'PLGN_MOD_RESTART_DIALOG_S\' | translate }}</span>\n      {{ \'PLGN_MOD_RESTART_FOLLOWING_WAY\' | translate }}\n      <div class="instruction"\n          ng-repeat="instruction in instructions"\n          ng-class="instruction.operation">\n        <div class="type">{{ instruction.operation }}</div>\n        <div class="target">{{ instruction.name }}</div>\n      </div>\n\n    </div>\n\n    <div cam-widget-debug\n         display-name="{{ \'PLGN_MOD_RESTART_REQUEST_PAYLOAD\' | translate }}"\n         debugged="requestPayload"\n         class="row"\n         cam-widget-debug-tooltip="{{ \'PLGN_MOD_RESTART_SHOW_REQUEST_PAYLOAD\' | translate }}"></div>\n  </div>\x3c!-- .modal-body --\x3e\n\n\n  <div class="modal-footer with-back">\n    <button class="btn btn-default"\n            ng-click="goBack()">{{ \'PLGN_MOD_RESTART_BACK\' | translate }}</button>\n    <div>\n      <button class="btn btn-link"\n              ng-click="cancel()">{{ \'PLGN_MOD_RESTART_CANCEL\' | translate }}</button>\n\n      <button class="btn btn-primary"\n              ng-click="ok()">{{ \'PLGN_MOD_RESTART_PROCEED\' | translate }}</button>\n    </div>\n  </div>\n</div>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/definition/restart-confirmation-dialog.html --\x3e\n',controller:g,windowClass:"modification-confirmation-dialog",size:"lg",resolve:{requestPayload:function(){return t.requestPayload},hideSkipCustomListeners:function(){return t.hideSkipCustomListeners},instructions:function(){return t.instructions},SKIP_IO_MAPPINGS:function(){return t.SKIP_IO_MAPPINGS}}}).result.then(function(e){var n=e.async?"restartAsync":"restart";u[n](e.processDefinitionId,e.payload,function(e){e?a.addError({status:o.instant("PLGN_MOD_RESTART_NOTFICATION_STATUS"),message:e.message}):(t.instructions=[],location.reload())})}).catch(p.noop)}}];t.exports=function(e){e.config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.history.tab",{id:"restart-process-instances",label:"PLGN_MOD_RESTART",url:p.element("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/modification/views/definition/restart.html",controller:n,priority:1,initialize:function(e){e.processData.provide("modificationInstructions",[]),e.pageData.provide("modificationHighlight",null)}})}])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../patchScope":235,"./historicInstancesList":229}],233:[function(i,a,e){(function(e){"use strict";var h="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=h.element,m=i("../patchScope"),v=["$scope","$uibModalInstance","requestPayload","instructions","instructionSelectedInstancesCount","hideSkipCustomListeners","SKIP_IO_MAPPINGS",function(e,n,t,i,a,s,o){e.requestPayload=t,e.async=!1,e.hideSkipCustomListeners=s,e.instructions=i,e.instructionSelectedInstancesCount=a,e.SKIP_IO_MAPPINGS=o,e.instructionsHaveVariables=function(){for(var e=0;e<i.length;e++){var n=i[e];if(n.variables&&0<n.variables.length)return!0}return!1},e.ok=function(){n.close({payload:t,async:e.async})},e.cancel=function(){n.dismiss("cancel")}}],t=["$scope","$uibModal","$timeout","camAPI","Notifications","fixDate","configuration","$translate",function(s,e,n,t,a,i,o,r){var c=s.processData.newChild(s),l=s.pageData.newChild(s),d=t.resource("variable"),u=t.resource("process-instance"),p=o.getSkipCustomListeners(),f=s.SKIP_IO_MAPPINGS=o.getSkipIoMappings();m(s,c,l,n,h),s.hideSkipCustomListeners=p.hidden,s.instructionSelectedInstancesCount=function(e){var n=0;for(var t in e.instances)e.instances[t]&&n++;return n},s.assignAncestor=function(e,n){n&&(s.instructions[e].ancestorActivityInstanceId=n)},s.instructionAddInstance=function(e,n){n&&(s.instructions[e].instances[n]=!0)},s.instructionSelectAllInstances=function(e){for(var n in s.instructions[e].instances)n||delete s.instructions[e].instances[n],s.instructions[e].instances[n]=!1},s.expandInstruction=function(e){for(var n=s.instructions[e].repeat,t=s.instructions[e].repeat=1;t<n;t++)s.instructions.splice(e,0,h.copy(s.instructions[e]))},s.canCollapse=function(e){if(e===s.instructions.length-1)return!1;if("cancel"===s.instructions[e].operation)return!1;var n=h.copy(s.instructions[e]);delete n.repeat;var t=h.copy(s.instructions[e+1]);return delete t.repeat,h.equals(n,t)},s.collapseInstruction=function(e){var n=h.copy(s.instructions[e]);delete n.repeat;var t=h.copy(s.instructions[e+1]);for(delete t.repeat;h.equals(n,t)&&(s.instructions[e].repeat+=s.instructions[e+1].repeat,s.instructions.splice(e+1,1),e!==s.instructions.length-1);)delete(t=h.copy(s.instructions[e+1])).repeat},s.instructionHasInstance=function(e,n){return-1<e.allInstanceIds.map(function(e){return e.id}).indexOf(n)},s.openAncestorDropdown=function(a){if(!s.instructions[a].ancestorVariablesLoaded){s.instructions[a].ancestorVariablesLoaded=!0;var e=s.instructions[a].ancestors.map(function(e){return e.id});d.instances({activityInstanceIdIn:e},function(e,n){for(var t=0;t<n.length;t++){var i=s.instructions[a].ancestors.filter(function(e){return e.id===n[t].activityInstanceId})[0];i.variables=i.variables||[],i.variables.push(n[t])}})}},s.info={},s.instructionInstanceInfo=function(e,t){s.info[t]=s.info[t]||{},"LOADING"!==s.info[t].loadingState&&("LOADED"!==s.info[t].loadingState&&"EMPTY"!==s.info[t].loadingState?(s.info[t]={loadingState:"LOADING",data:[],show:!0},d.instances({activityInstanceIdIn:[t]},function(e,n){s.info[t]={loadingState:e?"ERROR":n.length?"LOADED":"EMPTY",data:n,show:!0}})):s.info[t].show=!s.info[t].show)},s.instructionHasVariables=function(e){return-1<["startBefore","startAfter"].indexOf(e.operation)},s.instructionVariableValue=function(){return"TODO: $scope.instructionVariableValue()"},s.editInstructionVariableValue=function(){},s.addInstructionVariable=function(e,n){var t="String"===(n=n||"String")?"":null;s.instructions[e].variables.push({name:null,type:n,value:t})},s.complexVariableType=function(e){return"String"===e},s.removeInstructionVariable=function(e,n){var t=s.instructions[e].variables;t=t.slice(0,n).concat(t.slice(n+1)),s.instructions[e].variables=t},c.observe("processInstance",function(e){s.requestPayload={id:e.id,skipCustomListeners:p.default,skipIoMappings:f.default,instructions:[]}});function g(e){for(var n={},t=0;t<e.length;t++)n[e[t].name]={type:e[t].type,value:e[t].value},"Object"===e[t].type&&(n[e[t].name].valueInfo=e[t].valueInfo),"Date"===e[t].type&&(n[e[t].name].value=i(e[t].value));return n}s.$watch("instructions",function(){s.requestPayload.instructions=[],s.instructions.forEach(function(e){for(var n=0;n<e.repeat;n++)switch(e.operation){case"cancel":0===s.instructionSelectedInstancesCount(e)?s.requestPayload.instructions.push({type:"cancel",activityId:e.id}):Object.keys(e.instances).forEach(function(n){e.instances[n]&&(e.instanceIds.filter(function(e){return e.id===n})[0].isTransitionInstance?s.requestPayload.instructions.push({type:"cancel",transitionInstanceId:n}):s.requestPayload.instructions.push({type:"cancel",activityInstanceId:n}))});break;case"startBefore":case"startAfter":var t={startAfter:"startAfterActivity",startBefore:"startBeforeActivity"}[e.operation];s.requestPayload.instructions.push({type:t,activityId:e.id,variables:g(e.variables),ancestorActivityInstanceId:e.ancestorActivityInstanceId})}})},!0),s.confirmModification=function(){e.open({template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/instance/modification-confirmation-dialog.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLGN_MOD_DIALOG_CONFIRM\' | translate }}</h3>\n</div>\n\n<div class="modal-body">\n\n  <div class="help-block text-center">\n    {{ \'PLGN_MOD_DIALOG_PLAYING\' | translate }}<span title="fire" class="glyphicon glyphicon-fire"></span>.\n    {{ \'PLGN_MOD_DIALOG_REVIEW\' | translate }}\n  </div>\n  <div class="h3">{{ \'PLGN_MOD_DIALOG_OPTIONS\' | translate }}</div>\n  <div class="row">\n    <div class="col-sm-6">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="async" />\n          {{ \'PLGN_MOD_DIALOG_ASYNC\' | translate }}\n        </label>\n        <div class="help-block">{{ \'PLGN_MOD_DIALOG_ASYNC_SINGLE_HELP\' | translate }}</div>\n      </div>\n    </div>\n    <div  ng-hide="hideSkipCustomListeners"\n          class="col-sm-6">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="requestPayload.skipCustomListeners" />\n          {{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS\' | translate }}\n        </label>\n        <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_CUSTOM_LISTENERS_HELP\' | translate }}</div>\n      </div>\n    </div>\n    <div class="col-sm-6"\n         ng-hide="SKIP_IO_MAPPINGS.hidden">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="requestPayload.skipIoMappings"\n          />\n          {{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS\' | translate }}\n        </label>\n        <div class="help-block">{{ \'PLGN_MOD_DIALOG_SKIP_IO_MAPPINGS_HELP\' | translate }}</div>\n      </div>\n    </div>\n  </div>\n  <div>\n\n  <div class="h3">{{ \'PLGN_MOD_DIALOG_SUMMARY\' | translate }}</div>\n    <div ng-if="async && instructionsHaveVariables()" uib-alert class="alert alert-warning">\n      {{ \'PLGN_MOD_DIALOG_ASYNC_VARIABLES\' | translate }}\n    </div>\n\n    {{ \'PLGN_MOD_DIALOG_ABOUT_TO_MODIFY_INSTANCES\' | translate }}\n\n    <div class="instruction"\n         ng-repeat="instruction in instructions"\n         ng-class="instruction.operation">\n      <div class="type">{{ instruction.operation }}\n        <span class="badge instructions-count"\n              ng-if="instruction.repeat > 1">{{instruction.repeat}} &#215;</span>\n        <span class="badge instructions-count"\n              ng-if="instruction.instanceIds.length > 1\n              && instruction.instanceIds.length !== instructionSelectedInstancesCount(instruction)\n              && instructionSelectedInstancesCount(instruction) !== 0"\n              translate="PLGN_MOD_OUT_OF"\n              translate-values="{selectedInstancesCount: instructionSelectedInstancesCount(instruction), instancesCount: instruction.instanceIds.length}"></span>\n      </div>\n\n      <div class="target">\n        {{ instruction.name }}\n      </div>\n    </div>\n\n    <div cam-widget-debug\n         display-name="{{ \'PLGN_MOD_REQUEST_PAYLOAD\' | translate }}"\n         debugged="requestPayload"\n         class="row"\n         cam-widget-debug-tooltip="{{ \'PLGN_MOD_SHOW_REQUEST_PAYLOAD\' | translate }}"></div>\n  </div>\n\n\n</div>\x3c!-- .modal-body --\x3e\n\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="cancel()">{{ \'PLGN_MOD_DIALOG_CANCEL\' | translate }}</button>\n\n  <button class="btn btn-primary"\n          ng-click="ok()">{{ \'PLGN_MOD_DIALOG_PROCEED\' | translate }}</button>\n</div>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/modification/app/views/instance/modification-confirmation-dialog.html --\x3e\n',controller:v,windowClass:"modification-confirmation-dialog",size:"lg",resolve:{requestPayload:function(){return s.requestPayload},hideSkipCustomListeners:function(){return s.hideSkipCustomListeners},instructions:function(){return s.instructions},instructionSelectedInstancesCount:function(){return s.instructionSelectedInstancesCount},processInstanceService:function(){return u},SKIP_IO_MAPPINGS:function(){return s.SKIP_IO_MAPPINGS}}}).result.then(function(e){var n=e.payload,t=h.copy(n),i=e.async?"modifyAsync":"modify";u[i](t,function(e){e?a.addError({status:r.instant("PLGN_MOD_COULD_NOT_APPLY"),message:e.message}):(s.instructions=[],location.reload())})}).catch(h.noop)},s.filterSelectedInstances=function(e){var t=[];return h.forEach(e,function(e,n){e||t.push(n)}),t},s.translate=function(e,n){return r.instant(e,n)}}];a.exports=function(e){e.config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"modification-process-instances",label:"PLGN_MOD_MODIFY",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/modification/views/instance/modification.html",controller:t,priority:-1,initialize:function(e){e.processData.provide("modificationInstructions",[]),e.pageData.provide("modificationHighlight",null)}})}])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../patchScope":235}],234:[function(o,r,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=o("./instance/modification"),i=o("./definition/modification"),a=o("./definition/restart"),s=n.module("cockpit.plugin.modification.views",[]);t(s),i(s),a(s),r.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./definition/modification":231,"./definition/restart":232,"./instance/modification":233}],235:[function(e,n,t){n.exports=function(i,e,n,t,a){i.nameValue=["name","value"],i.instructions=[],i.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date"],e.observe("modificationInstructions",function(e){i.instructions=e,s()}),i.highlight=null,n.observe("modificationHighlight",function(e){i.highlight=e}),i.isHighlighted=function(e){return i.highlight&&i.highlight.id===e},i.highlightInstruction=function(e){n.set("modificationHighlight",e)},i.unhighlightInstruction=function(){n.set("modificationHighlight",null)};var s=function(){i.refreshed?i.refreshed=!1:t(function(){var e=a.element(".ctn-tabbed-content");e.animate({scrollTop:e[0].scrollHeight-e.height()})})};i.removeInstruction=function(e){i.instructions.splice(e,1),i.refreshInstructions()},i.swapInstructions=function(e,n){var t=i.instructions[e];i.instructions[e]=i.instructions[n],i.instructions[n]=t,i.refreshInstructions()},i.instructionChangeOperation=function(e,n){i.instructions[n].operation=a.element(e.target).val(),i.refreshInstructions()},i.refreshInstructions=function(){i.refreshed=!0,e.set("modificationInstructions",a.copy(i.instructions))}}},{}],236:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./views/main");a.exports=n.module("cockpit.plugin.processActionsEE",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":237}],237:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./processActionsEE/deleteProcessDefinitionsAction"),i=s("./processActionsEE/deleteProcessDefinitions"),a=n.module("cockpit.plugin.processActionsEE.views",[]);a.config(t),a.controller("DeleteProcessDefinitionsController",i),o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processActionsEE/deleteProcessDefinitions":238,"./processActionsEE/deleteProcessDefinitionsAction":239}],238:[function(e,n,t){"use strict";n.exports=["$scope","$uibModalInstance","Notifications","processDefinition","$rootScope","camAPI","configuration","$translate","$location",function(n,e,t,i,a,s,o,r,c){var l=o.getSkipCustomListeners(),d=n.SKIP_IO_MAPPINGS=o.getSkipIoMappings();n.processDefinition=i,n.instancesCount=i.instances;var u=n.options={cascade:!1,skipCustomListeners:l.default,skipIoMappings:d.default};n.hideSkipCustomListeners=l.hidden,n.$on("$routeChangeStart",function(){e.close()}),n.deleteProcessDefinitions=function(){n.status="PERFORM";var e={key:i.key,tenantId:i.tenantId,skipCustomListeners:u.skipCustomListeners,cascade:u.cascade,skipIoMappings:u.skipIoMappings};s.resource("process-definition").delete(e).then(function(){n.status="SUCCESS",t.addMessage({status:r.instant("PLGN_PACT_NOTIFICATIONS_FINISHED"),message:r.instant("PLGN_PACT_NOTIFICATIONS_MSG_FINISHED",{key:i.key}),exclusive:!0}),a.$broadcast("processes.action.delete",i.id)}).catch(function(e){n.status="FAILED",t.addError({status:r.instant("PLGN_PACT_ERROR"),message:e,exclusive:!0})})},n.redirectToBatchOperation=function(){var e=[];null===i.tenantId?e.push({type:"PIwithoutTenantId",operator:"eq",value:""}):e.push({type:"PItenantIdIn",operator:"eq",value:i.tenantId}),e.push({type:"PIprocessDefinitionKey",operator:"eq",value:i.key}),c.path("/batch/operation").search({batchSearchQuery:JSON.stringify(e),operation:"DELETE_RUNTIME"})}}]},{}],239:[function(e,n,t){(function(e){"use strict";var i="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processes.action",{id:"delete-process-definitions",label:"PLGN_PACT_LABEL",url:i("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/processActions/delete-process-definitions-action.html",controller:["$scope","$uibModal","$translate",function(e,n,t){e.openDialog=function(e){n.open({resolve:{processDefinition:function(){return e}},controller:"DeleteProcessDefinitionsController",templateUrl:i("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/processActions/delete-process-definitions-dialog.html"}).result.catch(function(){})},e.translate=function(e,n){return t.instant(e,n)}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],240:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./views/main");a.exports=n.module("cockpit.plugin.processDefinitionEE",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":241}],241:[function(o,r,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=o("./processDefinitionEE/cancelProcessInstancesAction"),i=o("./processDefinitionEE/deleteProcessDefinitionAction"),a=o("./processDefinitionEE/deleteProcessDefinition"),s=n.module("cockpit.plugin.processDefinitionEE.views",[]);s.config(t),s.config(i),s.controller("DeleteProcessDefinitionController",a),r.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinitionEE/cancelProcessInstancesAction":242,"./processDefinitionEE/deleteProcessDefinition":243,"./processDefinitionEE/deleteProcessDefinitionAction":244}],242:[function(e,n,t){"use strict";n.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.runtime.action",{id:"delete-running-instances",label:"Delete Running Process Instances Action",url:"plugin://cockpitEE/static/app/processDefinitionEE/cancel-process-instances-action.html",controller:["$scope","$uibModal","$location",function(e,n,s){e.openBatch=function(){s.path("/batch/operation").search({batchSearchQuery:function(e){var n=s.search().searchQuery,t=JSON.parse(n),i=[];t.forEach(function(e){switch(e.type){case"businessKey":e.type="PIprocessInstanceBusinessKey",i.push(e);break;case"startedDate":e.type="PIstartedDate",i.push(e);break;case"variables":e.type="PIvariables",i.push(e)}});var a={type:"PIprocessDefinitionId",operator:"eq",value:e.id,name:""};return i.push(a),JSON.stringify(i)}(e.processDefinition),operation:"DELETE_RUNTIME"})}}],priority:20})}]},{}],243:[function(e,n,t){"use strict";n.exports=["$scope","$uibModalInstance","Notifications","processDefinition","processDefinitions","processInstances","$location","camAPI","configuration","$translate",function(t,e,i,a,s,n,o,r,c,l){var d=c.getSkipCustomListeners(),u=t.SKIP_IO_MAPPINGS=c.getSkipIoMappings();t.processDefinition=a,t.instancesCount=n.count;var p=t.options={cascade:!1,skipCustomListeners:d.default,skipIoMappings:u.default};t.hideSkipCustomListeners=d.hidden,t.$on("$routeChangeStart",function(){e.close()}),t.redirect=function(){t.latestProcessDefinitionId?o.path("/process-definition/"+t.latestProcessDefinitionId+"/runtime"):o.path("/processes")},t.deleteProcessDefinition=function(){var e={id:a.id,skipCustomListeners:p.skipCustomListeners,cascade:p.cascade,skipIoMappings:p.skipIoMappings};r.resource("process-definition").delete(e).then(function(){var e;t.status="SUCCESS";for(var n=0;n<s.length;n++)if(s[n].id===a.id){e=n;break}s.splice(e,1),0<s.length&&(t.latestProcessDefinitionId=s[0].id),i.addMessage({status:l.instant("PLGN_PDEF_NOTIFICATION_FINISHED"),message:l.instant("PLGN_PDEF_NOTIFICATION_MSG_FINISHED",{id:a.id}),exclusive:!0})}).catch(function(e){t.status="FAILED",i.addError({status:l.instant("PLGN_PDEF_NOTIFICATION_ERROR"),message:e,exclusive:!0})}),t.status="PERFORM"},t.redirectToBatchOperation=function(){o.path("/batch/operation").search({batchSearchQuery:JSON.stringify([{type:"PIprocessDefinitionId",operator:"eq",value:a.id}]),operation:"DELETE_RUNTIME"})}}]},{}],244:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.runtime.action",{id:"delete-process-definition",label:"PLGN_PDEF_DELETE_ACTION",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/processDefinitionEE/delete-process-definition-action.html",controller:["$scope","$uibModal","$translate",function(e,i,t){e.openDialog=function(e,n,t){i.open({resolve:{processDefinition:function(){return e},processDefinitions:function(){return n},processInstances:function(){return t}},controller:"DeleteProcessDefinitionController",template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/processDefinitionEE/app/views/processDefinitionEE/delete-process-definition-dialog.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title"\n      translate="PLGN_PDEF_DELETE_ID"\n      translate-values="{id: processDefinition.id}"></h3>\n</div>\n\n<div class="modal-body delete-process-definition-dialog">\n  <div notifications-panel\n       class="notifications-panel"></div>\n\n  <div ng-if="status !== \'SUCCESS\'">\n    {{ \'PLGN_PDEF_DELETE_STATUS\' | translate }}\n\n    <div uib-alert\n         class="alert alert-info"\n         ng-if="!options.cascade && instancesCount > 0">\n      <span ng-if="instancesCount === 1">\n        {{ \'PLGN_PDEF_MODAL_INFO_SINGULAR\' | translate }}\n      </span>\n\n      <span ng-if="instancesCount > 1"\n            translate="PLGN_PDEF_MODAL_INFO_PLURAL"\n            translate-values="{instancesCount: instancesCount}"></span>\n    </div>\n\n    <div class="alert alert-warning"\n         ng-if="options.cascade">\n      <strong>{{ \'PLGN_PDEF_MODAL_CASCADE_HINT_HEADS_UP\' | translate }}</strong> <br>\n      {{ \'PLGN_PDEF_MODAL_CASCADE_HINT_DELETE_HIGH_AMOUNTS\' | translate }}\n      <a ng-click="redirectToBatchOperation()">{{ \'PLGN_PDEF_MODAL_CASCADE_HINT_BATCH_OPERATION\' | translate }}</a>.\n    </div>\n\n    <form class="form-horizontal"\n          name="deleteProcessDefinitionForm"\n          novalidate\n          request-aware>\n\n        <div class="form-group cascade">\n\n          <label class="control-label col-xs-5"\n                 for="cascade">\n            {{ \'PLGN_PDEF_MODAL_CASCADE\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLGN_PDEF_MODAL_CASCADE_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-7">\n            <label class="checkbox">\n              <input id="cascade"\n                     type="checkbox"\n                     ng-model="options.cascade">\n            </label>\n          </div>\n\n        </div>\n\n      <div  ng-hide="hideSkipCustomListeners"\n            class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          {{ \'PLGN_PDEF_MODAL_SKIP_CUSTOM_LISTENERS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'PLGN_PDEF_MODAL_SKIP_CUSTOM_LISTENERS_TOOLTIP\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input id="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group"\n           ng-hide="SKIP_IO_MAPPINGS.hidden">\n        <label class="control-label col-xs-5"\n               for="skipIoMappings">\n          {{ \'PLGN_PDEF_MODAL_SKIP_IO_MAPPINGS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'PLGN_PDEF_MODAL_SKIP_IO_MAPPINGS_TOOLTIP\' | translate }}"\n                tooltip-placement="right">\n            </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input id="skipIoMappings"\n                   type="checkbox"\n                   ng-model="options.skipIoMappings">\n          </label>\n        </div>\n      </div>\n\n    </form>\n    {{ \'PLGN_PDEF_MODAL_SURE\' | translate }}\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button ng-if="status !== \'SUCCESS\'"\n          class="btn btn-link"\n          ng-click="$dismiss()"\n          ng-disabled="status === \'PERFORM\'">{{ \'PLGN_PDEF_MODAL_CLOSE\' | translate }}</button>\n\n  <button ng-if="status !== \'SUCCESS\'"\n          type="submit"\n          class="btn btn-primary"\n          ng-click="deleteProcessDefinition()"\n          ng-disabled="status === \'PERFORM\' || (!options.cascade && instancesCount > 0)">{{ \'PLGN_PDEF_MODAL_DELETE\' | translate }}</button>\n\n  <button ng-if="status === \'SUCCESS\'"\n          type="submit"\n          class="btn btn-primary"\n          ng-click="redirect()">{{ \'PLGN_PDEF_MODAL_OK\' | translate }}</button>\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/cockpit/processDefinitionEE/app/views/processDefinitionEE/delete-process-definition-dialog.html --\x3e\n',backdrop:"static",keyboard:!1}).result.catch(function(){})},e.translate=function(e,n){return t.instant(e,n)}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],245:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.repository.deployment.action",{id:"redeploy-deployment",template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/deployment/actions/redeploy-deployment.html --\x3e\n<a class="redeploy-deployment"\n   ng-click="openRedeployDialog($event, deployment)"\n   uib-tooltip="{{ \'PLGN_REDE\' | translate }}">\n  <span class="glyphicon glyphicon-open"></span>\n</a>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/deployment/actions/redeploy-deployment.html --\x3e\n',controller:a,priority:500})}var a=["$scope","$uibModal","$rootScope","Uri",function(e,t,i,a){var s=e.deploymentData.newChild(e),f=e.control,o=["$scope","$uibModalInstance","$timeout","$location","camAPI","Notifications","routeUtil","redeployDeploymentData","deployment","$translate",function(i,a,n,s,e,o,r,t,c,l){var d=e.resource("deployment");i.deployment=c;var u=[];i.$on("$destroy",function(){for(var e;e=u.pop();)"function"==typeof e&&n(e)}),i.$on("$routeChangeStart",function(){i.$dismiss()});function p(e){var n=l.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS"),t=l.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS_MSG",{deployment:e.name||e.id})+'<br/><a href="'+function(e){var n={deployment:e.id,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e.id}])},t=s.search()||{};return t.deploymentsSortBy&&(n.deploymentsSortBy=t.deploymentsSortBy),t.deploymentsSortOrder&&(n.deploymentsSortOrder=t.deploymentsSortOrder),r.redirectTo("#/repository",n,["deployment","deploymentsQuery","deploymentsSortBy","deploymentsSortOrder"])}(e)+'">'+l.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS_MSG_SEE")+"</a>";f.addMessage(n,t,!0)}i.redeploy=function(t){i.status="LOADING";var e={id:t.id,tenantId:t.tenantId,source:"cockpit"};d.redeploy(e,function(e,n){if(i.status=null,e)return function(e,n){o.addError({status:l.instant("PLGN_REDE_NOTIFICATIONS_FAILED"),message:l.instant("PLGN_REDE_NOTIFICATIONS_FAILED_MSG",{deployment:n.name||n.id,err:e.message}),exclusive:!0,scope:i})}(e,t);u.push(function(){p(n)}),a.close(n)})}}];e.openRedeployDialog=function(e,n){e.stopPropagation(),t.open({controller:o,templateUrl:a.appUri("cockpit://plugin/cockpitEE/static/app/redeploy/redeploy-deployment-modal.html"),windowClass:"redeploy-deployment-modal",resolve:{redeployDeploymentData:function(){return s},deployment:function(){return n}}}).result.then(function(){i.$broadcast("cam-common:cam-searchable:query-force-change")}).catch(function(){})}}];i.$inject=["ViewsProvider"],n.exports=i},{}],246:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./actions/redeploy-deployment"),i=n.module("cockpit.plugin.redeploy.deployment",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/redeploy-deployment":245}],247:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./deployment/main"),i=a("./resource/main");s.exports=n.module("cockpit.plugin.redeploy",[t.name,i.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./deployment/main":246,"./resource/main":249}],248:[function(e,n,t){"use strict";function i(e){e.registerDefaultView("cockpit.repository.resource.action",{id:"redeploy-resource",controller:a,template:'\x3c!-- EE # webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/resource/actions/redeploy-resource.html --\x3e\n<a class="redeploy-resource"\n   ng-click=" openRedeployDialog(deployment, resource)"\n   ng-if="!control.isImageResource(resource) && !control.isUnkownResource(resource)">\n  <span class="glyphicon glyphicon-open"></span>{{ \'PLGN_REDE_REDEPLOY_RES\' | translate }}\n</a>\n\x3c!-- EE / webapps/camunda-webapp/plugins/src/main/resources-plugin/redeploy/app/resource/actions/redeploy-resource.html --\x3e\n',priority:200})}var a=["$scope","$uibModal","$rootScope","Uri",function(g,t,i,a){var s=g.resourceDetailsData.newChild(g),h=g.control,o=["$scope","$uibModalInstance","$timeout","$location","camAPI","Notifications","routeUtil","redeployResourceData","resource","deployment","$translate",function(i,a,n,s,e,o,r,t,c,l,d){var u=e.resource("deployment");i.deployment=l,i.resource=c,i.control=h;var p=[];i.$on("$destroy",function(){for(var e;e=p.pop();)"function"==typeof e&&n(e)}),i.$on("$routeChangeStart",function(){i.$dismiss()});function f(e,n){o.addMessage({status:d.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS"),message:d.instant("PLGN_REDE_RES_NOTIFICATIONS_SUCCESS_MSG",{resource:n.name||n.id})+'<br/><a href="'+function(e,n){var t={deployment:e.id,resourceName:n.name,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e.id}])},i=s.search()||{};return i.deploymentsSortBy&&(t.deploymentsSortBy=i.deploymentsSortBy),i.deploymentsSortOrder&&(t.deploymentsSortOrder=i.deploymentsSortOrder),r.redirectTo("#/repository",t,["deployment","resourceName","deploymentsQuery","deploymentsSortBy","deploymentsSortOrder"])}(e,n)+'">'+d.instant("PLGN_REDE_NOTIFICATIONS_SUCCESS_MSG_SEE")+"</a>",scope:g,unsafe:!0})}i.redeploy=function(e,t){i.status="LOADING";var n={id:e.id,tenantId:e.tenantId,source:"cockpit",resourceIds:[t.id]};u.redeploy(n,function(e,n){if(i.status=null,e)return function(e,n){o.addError({status:d.instant("PLGN_REDE_NOTIFICATIONS_FAILED"),message:d.instant("PLGN_REDE_RES_NOTIFICATIONS_FAILED_MSG",{resource:n.name||n.id,err:e.message}),exclusive:!0,scope:i})}(e,t);p.push(function(){f(n,t)}),a.close(n)})}}];g.openRedeployDialog=function(e,n){t.open({controller:o,templateUrl:a.appUri("cockpit://plugin/cockpitEE/static/app/redeploy/redeploy-resource-modal.html"),windowClass:"redeploy-resource-modal",resolve:{redeployResourceData:function(){return s},resource:function(){return n},deployment:function(){return e}}}).result.then(function(){i.$broadcast("cam-common:cam-searchable:query-force-change")}).catch(function(){})}}];i.$inject=["ViewsProvider"],n.exports=i},{}],249:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./actions/redeploy-resource"),i=n.module("cockpit.plugin.redeploy.resource",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/redeploy-resource":248}],250:[function(e,n,t){"use strict";var i=e("chart.js");function a(e,n){return e.map(function(e){return e[n]})}i.defaults.MinMaxAvgBar=i.defaults.bar;var s=i.controllers.bar.extend({initialize:function(e,n){var t=e.config.data;this.options=e.config.options,this.minimas=a(t.datasets,"mins")[0],this.maximas=a(t.datasets,"maxs")[0],this.states=a(t.datasets,"states")[0],i.controllers.bar.prototype.initialize.call(this,e,n)},draw:function(e){i.controllers.bar.prototype.draw.call(this,e);var l=this.chart,d=this.chart.ctx,u=this,p=this.options;this.getMeta().data.forEach(function(e){var n=e._model,t=e._index;if("no data"!==u.states[t]){var i=l.scales["x-axis-0"],a=l.scales["y-axis-0"],s=a.getPixelForValue(u.minimas[t],t),o=a.getPixelForValue(u.maximas[t],t),r=i.getPixelForValue(void 0,t),c=n.width/2;d.beginPath(),d.strokeStyle=p.maxStrokeColor,d.moveTo(r-.75*c,o),d.lineTo(r+.75*c,o),d.stroke(),d.beginPath(),d.strokeStyle=p.minStrokeColor,d.moveTo(r-.75*c,s),d.lineTo(r+.75*c,s),d.stroke(),d.beginPath(),d.strokeStyle=p.pointColor,d.moveTo(r,o),d.lineTo(r,s),d.stroke(),d.beginPath(),d.fillStyle="#fff",d.arc(r,n.y,4,0,2*Math.PI),d.fill(),d.stroke()}})}});i.controllers.MinMaxAvgBar=s,n.exports=i},{"chart.js":12}],251:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./views/process-instance-duration-report-main"),i=s("./views/completed-tasks-main"),a=n.module("cockpit.plugin.reporting",[t.name,i.name]);o.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/completed-tasks-main":253,"./views/process-instance-duration-report-main":259}],252:[function(e,i,n){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,a="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,t=["$scope","$q","camAPI","search",function(e,n,t,i){function s(e){return(i()||{})[e]||null}var o=e.reportData=e.reportPluginData.newChild(e),r=s("groupBy"),c=s("before"),l=s("after"),d=s("year"),u=s("period");e.$on("$routeChanged",function(){var e=r,n=c,t=l,i=d,a=u;r=s("groupBy"),c=s("before"),l=s("after"),d=s("year"),u=s("period"),e!==r?o.changed("request"):n!==c?o.changed("request"):t!==l?o.changed("request"):i!==d?o.changed("request"):a!==u&&o.changed("request")}),o.provide("now",a()),o.provide("request",["now",function(e){var n=e.year(),t=e.format("YYYY-MM-DDTHH:mm:ss"),i=e.clone().subtract(3,"months").format("YYYY-MM-DDTHH:mm:ss");return{groupBy:s("groupBy")||"taskName",before:s("before")||t,after:s("after")||i,year:s("year")||""+n,periodUnit:s("period")||"month"}}])}];i.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.report",{id:"reporting-completed-task-report",label:"PLGN_REP_COMPLETED_HUMAN_TASK_REPORT",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/reporting/completed-task-report.html",controller:t,priority:50,config:{}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],253:[function(r,c,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=r("./completed-task-report"),i=r("./directives/completed-task-report-query"),a=r("./directives/completed-task-report-result"),s=r("./directives/completed-task-report-duration-result"),o=n.module("cockpit.plugin.completedTaskReport.views",[]);o.config(t),o.directive("camCompletedTaskReportQuery",i),o.directive("camCompletedTaskReportResult",a),o.directive("camCompletedTaskDurationReportResult",s),c.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./completed-task-report":252,"./directives/completed-task-report-duration-result":254,"./directives/completed-task-report-query":255,"./directives/completed-task-report-result":256}],254:[function(n,t,e){(function(e){"use strict";var h="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,m=n("./../../lib/Chart.MinMaxBar"),o="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,v=h.extend;function y(e,n){return(e||[]).map(function(e){return e[n]})}var b={minimum:"rgba(210, 105, 30, 1)",maximum:"rgba(210, 30, 130, 1)",average:"rgba(0, 136, 204, 1)"};function I(e,n){return b[e].slice(0,-2)+n+")"}var r=6e4,c=60*r,l=24*c,d=30*l,u=365*l;function _(e,n,t){var i,a=o.duration(parseInt(e,10),"ms"),s=[a.seconds()+(n?"":"."+function(e,n){if(!(e=""+e)||e.length>=n)return e;for(var t=n-e.length,i=0;i<t;i++)e="0"+e;return e}(a.milliseconds(),3))+"s"];return r<=e&&((i=a.minutes())&&s.unshift(i+"mi"),c<=e&&((i=a.hours())&&s.unshift(i+"h"),l<=e&&((i=a.days())&&s.unshift(i+"d"),d<=e&&((i=a.months())&&s.unshift(i+"mo"),u<=e&&s.unshift(a.years()+"y"))))),s.slice(0,t||3).join(" ")}t.exports=[function(){return{restrict:"A",scope:{completedTaskReportData:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-duration-result.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}">\n\n  <div class="row">\n    <div class="col-xs-4">\n      <div class="btn-group btn-group-sm reporting-chart-type-choice">\n        <button ng-class="displayMode === \'bars\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'bars\', true)"\n                class="btn duration-bars-btn"\n                uib-tooltip="{{ \'PLGN_REP_BARS_CHART\' | translate }}">\n          <span class="cam-reporting-bars-chart"></span>\n        </button>\n        <button ng-class="displayMode === \'table\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'table\', true)"\n                class="btn  duration-table-btn"\n                uib-tooltip="{{ \'PLGN_REP_TABLE_VIEW\' | translate }}">\n          <span class="cam-reporting-grid"></span>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n\n    <div class="col-xs-12 reporting-chart-holder"\n         ng-if="displayMode !== \'table\'">\n      <div class="chart-canvas"\n           ng-show="displayMode === \'bars\'">\n        <canvas class="task-duration-chart"\n                ng-mousemove="canvasHover($event)"></canvas>\n      </div>\n\n      <div class="chart-info row"\n           ng-show="chartInfo.period">\n        <div class="col-sm-3">\n          <label>{{ \'PLGN_REP_PERIOD\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.period }}\n          </span>\n        </div>\n        <div class="col-sm-3 chart-color-avg">\n          <label>{{ \'PLGN_REP_AVERAGE\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.average }}\n          </span>\n        </div>\n        <div class="col-sm-3 chart-color-min">\n          <label>{{ \'PLGN_REP_MINIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.minimum }}\n          </span>\n        </div>\n        <div class="col-sm-3 chart-color-max">\n          <label>{{ \'PLGN_REP_MAXIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.maximum }}\n          </span>\n        </div>\n      </div>\n\n      <div class="chart-info row"\n           ng-hide="chartInfo.period">\n        <div class="col-xs-12 text-help text-right">\n          <span class="glyphicon glyphicon-info-sign"></span> {{ \'PLGN_REP_DETAILED_VALUES\' | translate }}\n        </div>\n      </div>\n    </div>\n\n\n    <div class="col-xs-12" ng-if="displayMode === \'table\'">\n      <table class="cam-table reporting-table task-duration-table">\n        <thead>\n        <tr>\n          <th>&nbsp;</th>\n          <th class="chart-color-avg">{{ \'PLGN_REP_AVERAGE_COL\' | translate }}</th>\n          <th class="chart-color-min">{{ \'PLGN_REP_MIN\' | translate }}</th>\n          <th class="chart-color-max">{{ \'PLGN_REP_MAX\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in data">\n          <th>{{ item.label }}</th>\n          <td ng-if="item.state" colspan="3" align="left" class="chart-no-data">{{ \'PLGN_REP_NO_DATA\' | translate }}</td>\n          <td ng-if="!item.state" class="chart-color-avg">\n            {{ formatTableDuration(item.average) }}\n          </td>\n          <td ng-if="!item.state" class="chart-color-min">\n            {{ formatTableDuration(item.minimum) }}\n          </td>\n          <td ng-if="!item.state" class="chart-color-max">\n            {{ formatTableDuration(item.maximum) }}\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-duration-result.html --\x3e\n',controller:["$scope","Uri","search","camAPI","Notifications","$translate",function(s,e,t,n,i,a){function o(e){return(t()||{})[e]||null}function r(e){switch(e.label="label",e.periodUnit){case"QUARTER":case"quarter":e.label="Q. "+e.period+" "+s.request.year;break;case"MONTH":case"month":e.label=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.period]+" "+s.request.year}}function c(e){var n={},t=parseInt(e.year,10);return n.completedBefore=t+1+"-01-01T00:00:00.000+0000",n.completedAfter=t-1+"-12-31T23:59:59.000+0000",n.periodUnit=e.periodUnit,n}function l(e){e?s.data=e:e=s.data;var n=function(){var e=h.element("canvas.task-duration-chart"),n=e.parent().width(),t=e.parent().height();return e.attr("width",n).attr("height",t).css({width:n+"px",height:t+"px"}),e}();if(!n.height()||!n.width())return setTimeout(function(){l()},50);d&&d.destroy&&d.destroy();var t=0;y(e,"maximum").forEach(function(e){t=t<e?e:t});var i={animation:!1,maintainAspectRatio:!1,responsive:!0,tooltips:{enabled:!1},legend:{display:!1},scales:{yAxes:[{showTooltips:!1,gridLines:{display:!0,color:"#aaa"},ticks:{max:1.1*t,min:0,callback:function(e){return _(e,!0)},stepSize:1.1*t/10,fixedStepSize:1.1*t/10}}],xAxes:[{gridLines:{display:!0,color:"#aaa"}}]}},a=n[0].getContext("2d");d=new m(a,{type:"MinMaxAvgBar",data:{labels:y(e,"label"),datasets:[{label:"Duration",backgroundColor:I("average",.3),borderColor:I("average",1),borderWidth:1,data:y(e,"average"),mins:y(e,"minimum"),maxs:y(e,"maximum"),states:y(e,"state")}]},options:v({},i,{minStrokeColor:I("minimum",1),maxStrokeColor:I("maximum",1),pointColor:I("average",1),pointStrokeColor:I("average",1),pointHighlightFill:"#fff",pointHighlightStroke:I("average",1),barStrokeWidth:1})})}var d,u=n.resource("history"),p=s.completedTaskReportData.newChild(s);s.chartInfo={colors:h.copy(b)},s.canvasHover=function(e){var n=d.getElementsAtEvent(e);if(!n||n.length<1)s.chartInfo={colors:h.copy(b)};else if(n=n[0],!s.chartInfo.period||n.label!==s.chartInfo.period){var t=n._index,i=d.config.data.datasets[0];"no data"!==i.states[t]&&(s.chartInfo.period=n._model.label,s.chartInfo.average=_(i.data[t],!1,9),s.chartInfo.minimum=_(i.mins[t],!1,9),s.chartInfo.maximum=_(i.maxs[t],!1,9))}},s.loadingState="INITIAL",s.formatDuration=_,s.tableOriginalValues=!1,s.formatTableDuration=function(e){return s.tableOriginalValues?e+"ms":_(e,!1,9)};var f=s.displayMode=o("mode")||"bars";s.$on("$routeChanged",function(){f!==(f=o("mode")||"bars")&&s.setDisplayMode(f)}),p.observe("request",function(e){e&&"completionTime"===e.groupBy&&(c(s.request=e),g(e))});var g=function(t){s.loadingState="LOADING";var e=c(t);u.taskDurationReport(e,function(e,n){if(e)return s.loadingState="ERROR",void i.addError({status:a.instant("PLGN_REP_FAILED"),message:a.instant("PLGN_REP_FAILED_MSG")});s.loadingState="LOADED",(n=function(e,n){var t;switch(n){case"quarter":t=4;break;case"month":t=12}for(var i={periodUnit:n,state:"no data"},a=function(e,n){for(var t,i={},a=0;t=e[a];a++)i[t[n]]=t;return i}(e,"period"),s=1;s<=t;s++)a[s]||(a[s]=v({},{period:s},i));return function(e){var n=[];for(var t in e)n.push(e[t]);return n}(a)}(n,t.periodUnit)).forEach(r),s.data=n,"bars"===s.displayMode&&l(n)})};s.setDisplayMode=function(e,n){s.displayMode=e,"bars"===s.displayMode?l(s.data):d&&d.destroy&&(d.destroy(),d=null),n&&function(e){t.updateSilently(e)}({mode:e})}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../lib/Chart.MinMaxBar":250}],255:[function(e,n,t){(function(e){"use strict";var d="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;n.exports=[function(){return{restrict:"A",scope:{completedTaskReportData:"=",isCompletionTime:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html --\x3e\n<form class="form-horizontal completed-task-report-query-form"\n      name="reportingTypeForm"\n      role="form">\n\n  <div class="row-md-half">\n    <div class="form-group">\n\n      <label for="completed-task-groupby"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_GROUP_BY\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <select name="completed-task-groupby"\n                class="form-control"\n                ng-model="selection.groupBy"\n                ng-change="groupByChanged()">\n          <option value="taskName">{{ \'PLGN_REP_TASK_NAME\' | translate }}</option>\n          <option value="processDefinition">{{ \'PLGN_REP_PROCESS_DEFINITION_KEY\' | translate }}</option>\n          <option value="completionTime">{{ \'PLGN_REP_COMPLETION_TIME\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-md-half">\n    <div class="form-group" ng-if="!isCompletionTime">\n\n      <label class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_COMPLETED_AFTER\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n        <p class="form-control-static">\n          <span cam-widget-inline-field\n                name="completed-task-after"\n                type="datetime"\n                value="selection.after">\n            {{ selection.after | camDate }}\n          </span>\n        </p>\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="!isCompletionTime">\n\n      <label class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_COMPLETED_BEFORE\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n        <p class="form-control-static">\n          <span cam-widget-inline-field\n                name="completed-task-before"\n                type="datetime"\n                value="selection.before">\n            {{ selection.before | camDate }}\n          </span>\n        </p>\n      </div>\n    </div>\n\n    <div class="form-group" ng-if="isCompletionTime">\n\n      <label for="completed-task-year"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_YEAR\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <span ng-if="!availableYearsState.$loaded"\n              class="glyphicon glyphicon-refresh animate-spin"></span>\n\n        <select ng-if="availableYearsState.$loaded"\n                class="form-control"\n                name="completed-task-year"\n                ng-model="selection.year"\n                ng-change="yearChanged()"\n                ng-options="value as label for (value, label) in availableYears">\n        </select>\n      </div>\n\n    </div>\n\n    <div class="form-group" ng-if="isCompletionTime">\n      <label for="completed-task-period-unit"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_PERIOD_UNIT\' | translate }}</label>\n\n      <div class="col-xs-8 col-lg-7">\n        <select class="form-control"\n                name="completed-task-period-unit"\n                ng-model="selection.periodUnit"\n                ng-change="periodChanged()">\n          <option value="quarter">{{ \'PLGN_REP_QUERTERLY\' | translate }}</option>\n          <option value="month">{{ \'PLGN_REP_MONTHLY\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n</form>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html --\x3e\n',controller:["$scope","$q","search","camAPI",function(n,e,t,i){function a(e){t.updateSilently(e)}function s(e){return(t()||{})[e]||null}var o=i.resource("history"),r=n.selection={groupBy:s("groupBy"),before:s("before"),after:s("after"),periodUnit:s("periodUnit"),year:s("year")};n.$on("$routeChanged",function(){r.groupBy=s("groupBy"),r.before=s("before"),r.after=s("after"),r.periodUnit=s("periodUnit"),r.year=s("year")}),n.isCompletionTime="completionTime"===r.groupBy;var c=n.completedTaskReportData.newChild(n);c.observe("request",function(e){r.groupBy=e.groupBy,r.after=e.after,r.before=e.before,r.year=e.year,r.periodUnit=e.periodUnit,n.isCompletionTime="completionTime"===r.groupBy}),c.provide("availableYears",["now","request",function(a){var s=e.defer();return o.task({finished:!0,sortBy:"endTime",sortOrder:"asc",firstResult:0,maxResults:1},function(e,n){if(e)s.reject(e);else{var t={};if(t[""+a.year()]=a.year(),n&&n.length)for(var i=d(n[0].endTime,d.ISO_8601).year();i<a.year();i++)t[""+i]=i;s.resolve(t)}}),s.promise}]),n.availableYearsState=c.observe("availableYears",function(e){n.availableYears=e}),n.groupByChanged=function(){a({groupBy:r.groupBy,before:r.before,after:r.after,periodUnit:r.periodUnit,year:r.year}),n.isCompletionTime="completionTime"===r.groupBy,c.changed("request")},n.yearChanged=function(){a({year:r.year}),c.changed("request")},n.periodChanged=function(){a({period:r.periodUnit}),c.changed("request")},n.$watch("selection.before",function(e,n){n!==e&&l("before")}),n.$watch("selection.after",function(e,n){n!==e&&l("after")});var l=function(e){var n={};n[e]=r[e],a(n),c.changed("request")}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],256:[function(e,n,t){"use strict";n.exports=[function(){return{restrict:"A",scope:{completedTaskReportData:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}">\n\n  <div class="row">\n\n    <div class="col-xs-12">\n      <table class="cam-table" ng-if="data.length > 0">\n        <thead>\n        <tr>\n          <th class="completed-task-report count-header">{{ \'PLGN_REP_AMOUNT\' | translate }}</th>\n          <th class="completed-task-report task-header" ng-if="isTaskQuery">{{ \'PLGN_REP_TASK_NAME\' | translate }}</th>\n          <th class="completed-task-report process-def-header">{{ \'PLGN_REP_PROCESS_DEFINITION_NAME\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in data">\n          <td class="completed-task-report amount-data">\n            <a class="task-search-link" href="#/tasks?searchQuery={{ generateTaskSearch(item.processDefinitionKey) }}">\n              {{ item.count }}\n            </a>\n          </td>\n          <td class="completed-task-report task-data" ng-if="isTaskQuery">\n            <a class="task-search-link" href="#/tasks?searchQuery={{ generateTaskSearch(item.processDefinitionKey, item.taskName) }}">\n              {{ item.taskName }}\n            </a>\n          </td>\n          <td class="completed-task-report process-def-data">\n            <a class="proc-def-link" href="#/process-definition/{{ item.processDefinitionId }}/history">\n              {{ item.processDefinitionName || item.processDefinitionKey }}\n            </a>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <p ng-if="!data.length > 0"\n         class="form-control-static">\n        <span class="glyphicon glyphicon-info-sign">{{ \'PLGN_REP_NO_TASKS\' | translate }}</span>\n      </p>\n    </div>\n  </div>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/completed-task-report-query.html --\x3e\n',controller:["$scope","Uri","search","camAPI","Notifications","fixDate","$translate",function(t,e,n,i,a,s,o){t.basePath=e.appUri("engine://engine/:engine/history/task/report"),t.isTaskQuery=!0,t.generateTaskSearch=function(e,n){var t=[{type:"finished",operator:"eq",value:"",name:""},{type:"processDefinitionKey",operator:"eq",value:e,name:""}];void 0!==n&&t.push({type:"taskName",operator:"eq",value:n,name:""});var i=JSON.stringify(t);return encodeURI(i)};function r(e){var n={},t=parseInt(e.year,10);return n.completedBefore=s(e.before||t+1+"-01-01T00:00:00"),n.completedAfter=s(e.after||t-1+"-12-31T23:59:59"),n.groupBy=e.groupBy,n}var c=i.resource("history");t.loadingState="INITIAL",t.completedTaskReportData.newChild(t).observe("request",function(e){e&&"completionTime"!==e.groupBy&&(t.request=e,r(e),l(e))});var l=function(e){t.loadingState="LOADING";var n=r(e);t.isTaskQuery="taskName"===e.groupBy,c.taskReport(n,function(e,n){if(e)return t.loadingState="ERROR",void a.addError({status:o.instant("PLGN_REP_FAILED"),message:o.instant("PLGN_REP_FAILED_REPORT_MSG")});t.loadingState="LOADED",t.data=n})}}]}}]},{}],257:[function(e,n,t){(function(e){"use strict";var l="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;n.exports=[function(){return{restrict:"A",scope:{durationReportData:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-query.html --\x3e\n<form class="form-horizontal"\n      name="reportingTypeForm"\n      role="form">\n\n  <div class="row-md-half">\n    <div class="form-group">\n\n      <label for="processDefinition"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_PROCESS_DEFINITION\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <span ng-if="!processDefinitionsState.$loaded"\n              class="glyphicon glyphicon-refresh animate-spin"></span>\n\n        <select ng-if="processDefinitionsState.$loaded"\n                name="processDefinition"\n                class="form-control"\n                ng-model="selection.key"\n                ng-change="keyChanged()"\n                ng-options="processDefinition.key as processDefinition.name for processDefinition in processDefinitions | orderBy:\'name\':false">\n          <option value="">{{ \'PLGN_REP_ALL_PROCESS_DEFINITIONS\' | translate }}</option>\n        </select>\n      </div>\n\n    </div>\n\n    <div class="form-group">\n\n      <label for="version"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_VERSION\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <select name="version"\n                class="form-control"\n                ng-model="selection.version"\n                ng-change="versionChanged()"\n                ng-disabled="!selection.key"\n                ng-options="processDefinition.version as processDefinition.version for processDefinition in processDefinitionsByKey[selection.key]">\n          <option value="">{{ \'PLGN_REP_ALL_VERSIONS\' | translate }}</option>\n        </select>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="row-md-half">\n    <div class="form-group">\n\n      <label for="year"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_ALL_YEAR\' | translate}}</label>\n      <div class="col-xs-8 col-lg-7">\n\n        <span ng-if="!availableYearsState.$loaded"\n              class="glyphicon glyphicon-refresh animate-spin"></span>\n\n        <select ng-if="availableYearsState.$loaded"\n                class="form-control"\n                name="year"\n                ng-model="selection.year"\n                ng-change="yearChanged()"\n                ng-options="value as label for (value, label) in availableYears">\n        </select>\n      </div>\n\n    </div>\n\n    <div class="form-group">\n      <label for="periodUnit"\n             class="col-xs-4 col-lg-5 control-label">{{ \'PLGN_REP_PERIOD_UNIT\' | translate }}</label>\n      <div class="col-xs-8 col-lg-7">\n        <select class="form-control"\n                name="periodUnit"\n                ng-model="selection.periodUnit"\n                ng-change="periodChanged()">\n          <option value="quarter">{{ \'PLGN_REP_QUARTERLY\' | translate }}</option>\n          <option value="month">{{ \'PLGN_REP_MONTHLY\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n</form>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-query.html --\x3e\n',controller:["$scope","$q","search","camAPI",function(t,i,n,e){function a(e){n.updateSilently(e)}function s(e){return(n()||{})[e]||null}var o=e.resource("history"),r=t.selection={key:s("processDefinitionKey"),version:parseInt(s("processDefinitionVersion"),10)||null},c=t.durationReportData.newChild(t);t.$on("$routeChanged",function(){r.key=s("processDefinitionKey"),r.version=parseInt(s("processDefinitionVersion"),10)||null}),c.provide("availableYears",["now","request",function(a,e){var s=i.defer(),n={sortBy:"startTime",sortOrder:"asc",firstResult:0,maxResults:1};return e.processDefinitionKey?n.processDefinitionKey=e.processDefinitionKey:e.processDefinitionId&&(n.processDefinitionId=e.processDefinitionId),o.processInstance(n,function(e,n){if(e)s.reject(e);else{var t={};if(t[""+a.year()]=a.year(),n&&n.length)for(var i=l(n[0].startTime,l.ISO_8601).year();i<a.year();i++)t[""+i]=i;s.resolve(t)}}),s.promise}]),t.processDefinitionsState=c.observe(["processDefinitions","processDefinitionsByKey"],function(e,n){t.processDefinitions=e,t.processDefinitionsByKey=n}),t.availableYearsState=c.observe("availableYears",function(e){t.availableYears=e}),c.observe("request",function(e){r.year=e.year,r.periodUnit=e.periodUnit}),t.keyChanged=function(){var e=t.processDefinitionsByKey[r.key];e?(r.version=e[0].version,a({processDefinitionKey:r.key,processDefinitionVersion:r.version,year:null})):a({processDefinitionKey:null,processDefinitionVersion:null,year:null}),c.changed("request")},t.versionChanged=function(){a({processDefinitionVersion:r.version,year:null}),c.changed("request")},t.yearChanged=function(){a({year:r.year}),c.changed("request")},t.periodChanged=function(){a({period:r.periodUnit}),c.changed("request")}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],258:[function(n,t,e){(function(e){"use strict";var v="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,y=n("./../../lib/Chart.MinMaxBar"),o="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,b=v.extend;function I(e,n){return(e||[]).map(function(e){return e[n]})}var _={minimum:"rgba(210, 105, 30, 1)",maximum:"rgba(210, 30, 130, 1)",average:"rgba(0, 136, 204, 1)"};function E(e,n){return _[e].slice(0,-2)+n+")"}var r=6e4,c=60*r,l=24*c,d=30*l,u=365*l;function S(e,n,t){var i,a=o.duration(parseInt(e,10),"ms"),s=[a.seconds()+(n?"":"."+function(e,n){if(!(e=""+e)||e.length>=n)return e;for(var t=n-e.length,i=0;i<t;i++)e="0"+e;return e}(a.milliseconds(),3))+"s"];return r<=e&&((i=a.minutes())&&s.unshift(i+"mi"),c<=e&&((i=a.hours())&&s.unshift(i+"h"),l<=e&&((i=a.days())&&s.unshift(i+"d"),d<=e&&((i=a.months())&&s.unshift(i+"mo"),u<=e&&s.unshift(a.years()+"y"))))),s.slice(0,t||3).join(" ")}t.exports=[function(){return{restrict:"A",scope:{durationReportData:"="},template:'\x3c!-- # EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-result.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <div class="row">\n    <div class="col-xs-4">\n      <div class="btn-group btn-group-sm reporting-chart-type-choice">\n        <button ng-class="displayMode === \'bars\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'bars\', true)"\n                class="btn duration-bars-btn"\n                uib-tooltip="{{ \'PLGN_REP_BARS_CHART\' | translate }}">\n          <span class="cam-reporting-bars-chart"></span>\n        </button>\n        <button ng-class="displayMode === \'table\' ? \'btn-primary\' : \'btn-default\'"\n                ng-click="setDisplayMode(\'table\', true)"\n                class="btn  duration-table-btn"\n                uib-tooltip="{{ \'PLGN_REP_TABLE_VIEW\' | translate }}">\n          <span class="cam-reporting-grid"></span>\n        </button>\n      </div>\n    </div>\n\n    <div class="col-xs-8 text-right">\n      <span class="visible-xs-inline"\n            uib-tooltip="{{ \'PLGN_REP_DOWNLOAD_RESULTS\' | translate }}">\n        <span class="glyphicon glyphicon-download"></span>\n      </span>\n      <span class="hidden-xs">\n        {{ \'PLGN_REP_DOWNLOAD_RESULTS\' | translate }}\n      </span>\n      <div class="btn-group btn-group-sm table-download">\n        <button class="btn btn-default"\n                ng-if="canDownload"\n                ng-click="download(\'csv\')"\n                uib-tooltip="{{ \'PLGN_REP_COMMA_SEPERATED_FILE\' | translate }}"\n                ng-disabled="downloadingState === \'DOWNLOADING\'">\n          {{ \'PLGN_REP_CSV\' | translate }}\n        </button>\n        <button class="btn btn-default"\n                ng-click="download(\'json\')"\n                ng-if="canDownload"\n                uib-tooltip="{{ \'PLGN_REP_JSON_FILE\' | translate }}"\n                ng-disabled="downloadingState === \'DOWNLOADING\'">\n          {{ \'PLGN_REP_JSON\' | translate }}\n        </button>\n        <a ng-href="{{ basePath }}?startedAfter={{ encodeURIComponent(linkParams.startedAfter) }}&startedBefore={{ encodeURIComponent(linkParams.startedBefore) }}&periodUnit={{ linkParams.periodUnit }}&reportType={{ linkParams.reportType }}"\n           ng-if="!canDownload" \n           uib-tooltip="{{ \'PLGN_REP_JSON_FILE\' | translate }}"\n           class="btn btn-default"\n           type="application/json"\n           download="report.json">{{ \'PLGN_REP_JSON\' | translate }}</a>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n\n    <div class="col-xs-12 reporting-chart-holder"\n         ng-if="displayMode !== \'table\'">\n      <div style="height: 350px"\n           ng-show="displayMode === \'bars\'">\n        <canvas class="process-duration-chart"\n                ng-mousemove="canvasHover($event)"></canvas>\n      </div>\n\n      <div class="chart-info row"\n           ng-show="chartInfo.period">\n        <div class="col-sm-3">\n          <label>{{ \'PLGN_REP_PERIOD\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.period }}\n          </span>\n        </div>\n        <div class="col-sm-3"\n             style="color: {{ chartInfo.colors.average }};">\n          <label>{{ \'PLGN_REP_AVERAGE\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.average }}\n          </span>\n        </div>\n        <div class="col-sm-3"\n             style="color: {{ chartInfo.colors.minimum }};">\n          <label>{{ \'PLGN_REP_MINIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.minimum }}\n          </span>\n        </div>\n        <div class="col-sm-3"\n             style="color: {{ chartInfo.colors.maximum }};">\n          <label>{{ \'PLGN_REP_MAXIMUM\' | translate }}</label>\n          <span class="visible-xs-block visible-sm-block visible-md-inline visible-lg-block">\n            {{ chartInfo.maximum }}\n          </span>\n        </div>\n      </div>\n\n      <div class="chart-info row"\n           ng-hide="chartInfo.period">\n        <div class="col-xs-12 text-help text-right">\n          <span class="glyphicon glyphicon-info-sign"></span>{{ \'PLGN_REP_DETAILED_VALUES\' | translate }}\n        </div>\n      </div>\n    </div>\n\n\n    <div class="col-xs-12" ng-if="displayMode === \'table\'">\n      <table class="cam-table reporting-table">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th style="color: {{ chartInfo.colors.average }};">{{ \'PLGN_REP_AVERAGE_COL\' | translate }}</th>\n            <th style="color: {{ chartInfo.colors.minimum }};">{{ \'PLGN_REP_MIN\' | translate }}</th>\n            <th style="color: {{ chartInfo.colors.maximum }};">{{ \'PLGN_REP_MAX\' | translate }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="item in data">\n            <th>{{ item.label }}</th>\n            <td ng-if="item.state" colspan="3" align="left" style="font-style: italic;">{{ \'PLGN_REP_NO_DATA\' | translate }}</td>\n            <td ng-if="!item.state" style="color: {{chartInfo.colors.average}};">\n              {{ formatTableDuration(item.average) }}\n            </td>\n            <td ng-if="!item.state" style="color: {{chartInfo.colors.minimum}};">\n              {{ formatTableDuration(item.minimum) }}\n            </td>\n            <td ng-if="!item.state" style="color: {{chartInfo.colors.maximum}};">\n              {{ formatTableDuration(item.maximum) }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n</div>\n\x3c!-- / EE - camunda-bpm-platform-ee/webapps/camunda-webapp/plugins/src/main/resources-plugin/reporting/app/views/directives/report-duration-result.html --\x3e\n',controller:["$scope","Uri","search","camAPI","Notifications","$translate",function(s,e,t,n,i,a){s.encodeURIComponent=window.encodeURIComponent,s.basePath=e.appUri("engine://engine/:engine/history/process-instance/report");function o(e){return(t()||{})[e]||null}function r(e){switch(e.label="label",e.periodUnit){case"QUARTER":case"quarter":e.label="Q. "+e.period+" "+s.request.year;break;case"MONTH":case"month":e.label=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.period]+" "+s.request.year}}function c(e){var n={},t=parseInt(e.year,10);return n.startedAfter=t+"-01-01T00:00:00.000+0000",n.startedBefore=t+1+"-01-01T00:00:00.000+0000",n.periodUnit=e.periodUnit,n.reportType="duration",e.processDefinitionId?n.processDefinitionIdIn=[e.processDefinitionId]:e.processDefinitionKey&&(n.processDefinitionKeyIn=[e.processDefinitionKey]),s.linkParams=n}function l(e){e?s.data=e:e=s.data;var n=function(){var e=v.element("canvas.process-duration-chart"),n=e.parent().width(),t=e.parent().height();return e.attr("width",n).attr("height",t).css({width:n+"px",height:t+"px"}),e}();if(!n.height()||!n.width())return setTimeout(function(){l()},50);d&&d.destroy&&d.destroy();var t=0;I(e,"maximum").forEach(function(e){t=t<e?e:t});var i={animation:!1,maintainAspectRatio:!1,responsive:!0,tooltips:{enabled:!1},legend:{display:!1},scales:{yAxes:[{showTooltips:!1,gridLines:{display:!0,color:"#aaa"},ticks:{max:1.1*t,min:0,callback:function(e){return S(e,!0)},stepSize:1.1*t/10,fixedStepSize:1.1*t/10}}],xAxes:[{gridLines:{display:!0,color:"#aaa"}}]}},a=n[0].getContext("2d");d=new y(a,{type:"MinMaxAvgBar",data:{labels:I(e,"label"),datasets:[{label:"Duration",backgroundColor:E("average",.3),borderColor:E("average",1),borderWidth:1,data:I(e,"average"),mins:I(e,"minimum"),maxs:I(e,"maximum"),states:I(e,"state")}]},options:b({},i,{minStrokeColor:E("minimum",1),maxStrokeColor:E("maximum",1),pointColor:E("average",1),pointStrokeColor:E("average",1),pointHighlightFill:"#fff",pointHighlightStroke:E("average",1),barStrokeWidth:1})})}s.linkParams={};var d,u=n.resource("history"),p=s.durationReportData.newChild(s);s.chartInfo={colors:v.copy(_)},s.canvasHover=function(e){var n=d.getElementsAtEvent(e);if(!n||n.length<1)s.chartInfo={colors:v.copy(_)};else if(n=n[0],!s.chartInfo.period||n.label!==s.chartInfo.period){var t=n._index,i=d.config.data.datasets[0];"no data"!==i.states[t]&&(s.chartInfo.period=n._model.label,s.chartInfo.average=S(i.data[t],!1,9),s.chartInfo.minimum=S(i.mins[t],!1,9),s.chartInfo.maximum=S(i.maxs[t],!1,9))}},s.loadingState="INITIAL",s.formatDuration=S,s.tableOriginalValues=!1,s.formatTableDuration=function(e){return s.tableOriginalValues?e+"ms":S(e,!1,9)};var f=s.displayMode=o("mode")||"bars";s.$on("$routeChanged",function(){f!==(f=o("mode")||"bars")&&s.setDisplayMode(f)}),p.observe("request",function(e){c(s.request=e),e&&g(e)});var g=function(t){s.loadingState="LOADING";var e=c(t);u.report(e,function(e,n){if(e)return s.loadingError=403===e.status?e.message:a.instant("PLGN_REP_LOADING_FAILED"),void(s.loadingState="ERROR");s.loadingState="LOADED",(n=function(e,n){var t;switch(n){case"quarter":t=4;break;case"month":t=12}for(var i={periodUnit:n,state:"no data"},a=function(e,n){for(var t,i={},a=0;t=e[a];a++)i[t[n]]=t;return i}(e,"period"),s=1;s<=t;s++)a[s]||(a[s]=b({},{period:s},i));return function(e){var n=[];for(var t in e)n.push(e[t]);return n}(a)}(n,t.periodUnit)).forEach(r),s.data=n,"bars"===s.displayMode&&l(n)})};s.setDisplayMode=function(e,n){s.displayMode=e,"bars"===s.displayMode?l(s.data):d&&d.destroy&&(d.destroy(),d=null),n&&function(e){t.updateSilently(e)}({mode:e})};var h=!!navigator.msSaveBlob;s.canDownload="download"in document.createElement("a")||h,s.download=function(t){var e=c(s.request);s.downloadingState="DOWNLOADING";function n(e,n){if(e)return s.downloadingState="ERROR",i.addError({status:a.instant("PLGN_REP_FAILED_TO_DOWNLOAD"),message:e.message});"csv"===t?m(t,"text/csv",n):m(t,"application/json",JSON.stringify(n)),s.downloadingState="DOWNLOADED"}"csv"===t?u.reportAsCsv(e,n):u.report(e,n)};var m=function(e,n,t){h?navigator.msSaveBlob(new Blob([t],{type:n}),"report."+e):function(e,n,t){var i="data:"+e+";charset=UTF-8,"+window.encodeURIComponent(t),a=document.createElement("a");a.setAttribute("href",i),a.setAttribute("type",e),a.setAttribute("download","report."+n);var s=new MouseEvent(-1!=navigator.userAgent.toLowerCase().indexOf("edge")?"mouseup":"click",{view:window,bubbles:!0,cancelable:!0});a.dispatchEvent(s)}(n,e,t)}}]}}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../lib/Chart.MinMaxBar":250}],259:[function(o,r,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=o("./report-duration"),i=o("./directives/report-duration-query"),a=o("./directives/report-duration-result"),s=n.module("cockpit.plugin.reporting.views",[]);s.config(t),s.directive("camDurationReportQuery",i),s.directive("camDurationReportResult",a),r.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/report-duration-query":257,"./directives/report-duration-result":258,"./report-duration":260}],260:[function(e,i,n){(function(e){"use strict";var n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,u="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null,t=["$scope","$q","camAPI","search",function(e,n,t,i){function o(e){return(i()||{})[e]||null}var a=t.resource("process-definition"),s=e.durationReportData=e.reportPluginData.newChild(e),r=o("processDefinitionKey"),c=o("processDefinitionVersion"),l=o("year"),d=o("period");e.$on("$routeChanged",function(){var e=r,n=c,t=l,i=d;r=o("processDefinitionKey"),c=o("processDefinitionVersion"),l=o("year"),d=o("period"),e!==r?s.changed("request"):n!==c?s.changed("request"):t!==l?s.changed("request"):i!==d&&s.changed("request")}),s.provide("processDefinitionsRaw",function(){var t=n.defer();return a.list({sortBy:"version",sortOrder:"desc"},function(e,n){e?t.reject(e):t.resolve(n.items)}),t.promise}),s.provide(["processDefinitions","processDefinitionsByKey"],["processDefinitionsRaw",function(e){for(var n,t=[],i={},a=0;n=e[a];a++){var s=n.key,o=i[s];o||(i[s]=o=[],t.push(n),n.name=n.name||n.key),o.push(n)}return[t,i]}]),s.provide("now",u()),s.provide("request",["now","processDefinitionsByKey",function(e,n){var t={year:o("year")||""+e.year(),periodUnit:o("period")||"month"},i=o("processDefinitionKey");if(i){var a=o("processDefinitionVersion");if(a){var s=function(e,n,t){for(var i,a=0;i=e[n][a];a++)if(i.version===parseInt(t,10))return i}(n,i,parseInt(a,10));t.processDefinitionId=s.id}else t.processDefinitionKey=i}return t}])}];i.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.report",{id:"reporting-duration-report",label:"PLGN_REP_PROCESS_INSTANCE_DURATION",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/reporting/report-duration.html",controller:t,priority:50,config:{}})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],261:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./views/main");a.exports=n.module("cockpit.plugin.search-decisions",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":262}],262:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,t=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).module("cockpit.plugin.search-decisions.views",[n.name]);t.config(i("./search")),a.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search":263}],263:[function(e,t,n){(function(e){"use strict";var v="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.decisions.dashboard",{id:"search-decision-instances",label:"PLGN_SEDE",dashboardMenuLabel:"Search",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/search-decisions/searchField.html",controller:["$scope","$timeout","camAPI","localConf","$sce","$q","$translate",function(a,e,n,t,s,i,o){var r=Object.keys;a.searchConfig=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceIdIn",\n        "value": "PLGN_SEDE_CONF_DEC_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionIdIn",\n        "value": "PLGN_SEDE_CONF_DEC_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionKeyIn",\n        "value": "PLGN_SEDE_CONF_DEC_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionDefinitionName",\n        "value": "PLGN_SEDE_CONF_DEC_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_SEDE_CONF_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_SEDE_CONF_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_SEDE_CONF_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_SEDE_CONF_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLGN_SEDE_CONF_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_SEDE_CONF_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLGN_SEDE_CONF_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLGN_SEDE_CONF_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "PLGN_SEDE_CONF_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLGN_SEDE_CONF_EVALUATION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEDE_CONF_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEDE_CONF_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "PLGN_SEDE_CONF_USER_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstanceId",\n        "value": "PLGN_SEDE_CONF_ROOT_DECISION_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "rootDecisionInstancesOnly",\n        "value": "PLGN_SEDE_CONF_ROOT_DECISION_INSTANCE_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionId",\n        "value": "PLGN_SEDE_CONF_DECISION_REQUIREMENTS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "decisionRequirementsDefinitionKey",\n        "value": "PLGN_SEDE_CONF_DECISION_REQUIREMENTS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_SEDE_CONF_LIKE"\n      }\n    ],\n    "string": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLGN_SEDE_CONF_LIKE"\n      }\n    ],\n    "number": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "date": [\n      {\n        "key": "lteq",\n        "value": "PLGN_SEDE_CONF_BEFORE"\n      },\n      {\n        "key": "gteq",\n        "value": "PLGN_SEDE_CONF_AFTER"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_SEDE_CONF_ADD_CRITERIA",\n    "invalid": "PLGN_SEDE_CONF_INVALID",\n    "deleteSearch": "PLGN_SEDE_DELETE",\n    "type": "PLGN_SEDE_TYPE",\n    "name": "PLGN_SEDE_NAME",\n    "operator": "PLGN_SEDE_OPERATOR",\n    "value": "PLGN_SEDE_VALUE"\n  }\n}\n'),v.forEach(a.searchConfig.tooltips,function(e,n){a.searchConfig.tooltips[n]=o.instant(e)}),a.searchConfig.types.map(function(e){return e.id.value=o.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=o.instant(e.value),e})),e}),a.arrayTypes=["decisionInstanceIdIn","decisionDefinitionIdIn","decisionDefinitionKeyIn","activityIdIn","activityInstanceIdIn","tenantIdIn"];var c={evaluationTime:o.instant("PLGN_SEDE_EVALUATION_TIME"),tenantId:o.instant("PLGN_SEDE_TENANT_ID")},l={id:o.instant("PLGN_SEDE_DECISION_INSTANCE_ID"),evaluationTime:o.instant("PLGN_SEDE_EVALUATION_TIME")},d={activityId:o.instant("PLGN_SEDE_ACTIVITY_ID"),activityInstanceId:o.instant("PLGN_SEDE_ACTIVITY_INSTANCE_ID"),caseDefinitionId:o.instant("PLGN_SEDE_CASE_DEFINITION_ID"),caseDefinitionKey:o.instant("PLGN_SEDE_CASE_DEFINITION_KEY"),caseInstanceId:o.instant("PLGN_SEDE_CASE_INSTANCE_ID"),collectResultValue:o.instant("PLGN_SEDE_COLLECT_RESULT_VALUE"),decisionDefinitionId:o.instant("PLGN_SEDE_DEC_DEFINITION_ID"),decisionDefinitionKey:o.instant("PLGN_SEDE_DEC_DEFINITION_KEY"),decisionDefinitionName:o.instant("PLGN_SEDE_DEC_DEFINITION_NAME"),decisionRequirementsDefinitionId:o.instant("PLGN_SEDE_DEC_REQUIREMENTS_DEFINITION_ID"),decisionRequirementsDefinitionKey:o.instant("PLGN_SEDE_DECISION_REQUIREMENTS_DEFINITION_KEY"),processDefinitionId:o.instant("PLGN_SEDE_PROCESS_DEFINITION_ID"),processDefinitionKey:o.instant("PLGN_SEDE_PROCESS_DEFINITION_KEY"),processInstanceId:o.instant("PLGN_SEDE_PROCESS_INSTANCE_ID"),rootDecisionInstanceId:o.instant("PLGN_SEDE_ROOT_DECISION_INSTANCE_ID"),tenantId:o.instant("PLGN_SEDE_TENANT_ID"),userId:o.instant("PLGN_SEDE_USER_ID")};function u(){a.availableColumns=function(){var n={};return v.extend(n,c,d),r(l||{}).forEach(function(e){delete n[e]}),r(n)}().filter(function(e){return a.shownColumns.indexOf(e)<0})}a.columnLabel=function(e){return a.availableColumns[e]},a.isSortableColumn=function(e){return!!c[e]},a.columnLabel=function(e){return c[e]||d[e]||l[e]||o.instant("PLGN_SEDE_NO_LABEL",{name:e})},a.orderClass=function(e){return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(e=e||a.sortBy)===a.sortBy?a.sortOrder:"none"]},a.changeOrder=function(e){a.sortBy=e,a.sortOrder="desc"===a.sortOrder?"asc":"desc",h(),m()},a.addColumn=function(e){-1<a.shownColumns.indexOf(e)||(a.shownColumns.push(e),u(),h(),m())},a.removeColumn=function(n){var t=[];a.shownColumns.forEach(function(e){n!==e&&t.push(e)}),a.shownColumns=t,u(),h(),m()},a.columnValue=function(e,n){var t="",i=a.decisionInstances[n][e];switch(e){case"decisionDefinitionId":t=i?'<a href="#decision-definition/'+i+'/history">'+i+"</a>":"";break;case"caseDefinitionId":t=i?'<a href="#case-definition/'+i+'/history">'+i+"</a>":"";break;case"caseInstanceId":t=i?'<a href="#case-instance/'+i+'/history">'+i+"</a>":"";break;case"processDefinitionId":t=i?'<a href="#process-definition/'+i+'/history">'+i+"</a>":"";break;case"processInstanceId":t=i?'<a href="#process-instance/'+i+'/history">'+i+"</a>":"";break;default:t=void 0!==i?i:""}return s.trustAsHtml(t)};var p,f,g=n.resource("history");function h(){var n=v.copy(a.searches);return function(e){var n=["firstResult","maxResults","sortBy","sortOrder"];return 0<Object.keys(e).filter(function(e){return e.indexOf(n)<0}).length}(n)?(a.loadingState="LOADING",g.decisionInstanceCount(n).then(function(e){return e.count?(a.total=e.count,n.firstResult=a.pages.size*(a.pages.current-1),n.maxResults=a.pages.size,a.sortBy&&(n.sortBy=a.sortBy,n.sortOrder=a.sortOrder),g.decisionInstance(n).then(function(e){return a.loadingState="LOADED",a.decisionInstances=e,a.total}).catch(function(){a.decisionInstances=[],a.loadingState="ERROR"})):(a.decisionInstances=[],a.loadingState="EMPTY",void(a.total=0))}).catch(function(){a.decisionInstances=[],a.loadingState="ERROR"})):(a.decisionInstances=[],a.loadingState="INITIAL",i.when(0))}function m(){var e={shownColumns:a.shownColumns,sortBy:a.sortBy,sortOrder:a.sortOrder};t.set("decision-search",e)}a.pages={size:20,total:0,current:1},p={shownColumns:a.shownColumns,sortBy:a.sortBy,sortOrder:a.sortOrder},f=t.get("decision-search",p),a.sortBy=f.sortBy||null,a.sortOrder=f.sortOrder||"desc",a.shownColumns=f.shownColumns||[],e(u),a.queryCallback=function(e,n){return a.searches=e,a.pages=n,h()}}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],264:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./views/main");a.exports=n.module("cockpit.plugin.search-tasks",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":265}],265:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./search"),i=n.module("cockpit.plugin.search-tasks.views",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search":266}],266:[function(e,t,n){(function(e){"use strict";var u="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.tasks.dashboard",{id:"search-tasks",label:"PLGN_SETA",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/search-tasks/searchField.html",controller:["$scope","$timeout","localConf","camAPI","$q","$translate",function(t,e,n,i,a,s){var o=i.resource("history");t.searchConfig=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "taskId",\n        "value": "PLGN_SETA_CONF_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskParentTaskId",\n        "value": "PLGN_SETA_CONF_PARENT_TASK_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLGN_SETA_CONF_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "executionId",\n        "value": "PLGN_SETA_CONF_EXEC"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLGN_SETA_CONF_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLGN_SETA_CONF_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionName",\n        "value": "PLGN_SETA_CONF_PROCESS_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processVariables",\n        "value": "PLGN_SETA_CONF_PROCESS_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLGN_SETA_CONF_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseExecutionId",\n        "value": "PLGN_SETA_CONF_CASE_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLGN_SETA_CONF_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionName",\n        "value": "PLGN_SETA_CONF_CASE_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceId",\n        "value": "PLGN_SETA_CONF_ACTIVITY_INSTANCE"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskName",\n        "value": "PLGN_SETA_CONF_TASK_NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "taskDescription",\n        "value": "PLGN_SETA_CONF_TASK_DESCRIPTION"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskDefinitionKey",\n        "value": "PLGN_SETA_CONF_TASK_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskDeleteReason",\n        "value": "PLGN_SETA_CONF_TASK_DELETE_REASON"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskAssignee",\n        "value": "PLGN_SETA_CONF_TASK_ASSIGNEE"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "PLGN_SETA_CONF_LIKE"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskOwner",\n        "value": "PLGN_SETA_CONF_TASK_OWNER"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "like"\n        },\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskPriority",\n        "value": "PLGN_SETA_CONF_TASK_PRIORITY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "assigned",\n        "value": "PLGN_SETA_CONF_ASSIGNED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "unassigned",\n        "value": "PLGN_SETA_CONF_UNASSIGNED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "withCandidateGroups",\n        "value": "PLGN_SETA_CONF_WITH_CANDIDATE_GROUPS"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "withoutCandidateGroups",\n        "value": "PLGN_SETA_CONF_WITHOUT_CANDIDATE_GROUPS_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "finished",\n        "value": "PLGN_SETA_CONF_FINISHED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "unfinished",\n        "value": "PLGN_SETA_CONF_UNFINISHED_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "processFinished",\n        "value": "PLGN_SETA_CONF_WITH_FINISHED_PROCESS_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "processUnfinished",\n        "value": "PLGN_SETA_CONF_WITH_UNFINISHED_PROCESS_ONLY"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "taskDueDateDate",\n        "value": "PLGN_SETA_CONF_DUE_DATE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Before",\n          "value": "PLGN_SETA_CONF_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SETA_CONF_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "taskFollowUpDateDate",\n        "value": "PLGN_SETA_CONF_FOLLOWUP_DATE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Before",\n          "value": "PLGN_SETA_CONF_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SETA_CONF_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "tenantId",\n        "value": "PLGN_SETA_CONF_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "In",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskVariables",\n        "value": "PLGN_SETA_CONF_TASK_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true\n    },\n    {\n      "id": {\n        "key": "taskInvolvedUser",\n        "value": "PLGN_SETA_CONF_TASK_INVOLVED_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskInvolvedGroup",\n        "value": "PLGN_SETA_CONF_TASK_INVOLVED_GROUP"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskHadCandidateUser",\n        "value": "PLGN_SETA_CONF_TASK_HAD_CANDIDATE_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "taskHadCandidateGroup",\n        "value": "PLGN_SETA_CONF_TASK_HAD_CANDIDATE_GROUP"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "Like",\n        "value": "PLGN_SETA_CONF_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "Like",\n        "value": "PLGN_SETA_CONF_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLGN_SETA_CONF_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLGN_SETA_CONF_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_SETA_CONF_ADD_CRITERIA",\n    "invalid": "PLGN_SETA_CONF_INVALID",\n    "deleteSearch": "PLGN_SETA_CONF_DELETE",\n    "type": "PLGN_SETA_CONF_TYPE",\n    "name": "PLGN_SETA_CONF_NAMR",\n    "operator": "PLGN_SETA_CONF_OPERATOR",\n    "value": "PLGN_SETA_CONF_VALUE"\n  }\n}\n'),u.forEach(t.searchConfig.tooltips,function(e,n){t.searchConfig.tooltips[n]=s.instant(e)}),t.searchConfig.types.map(function(e){return e.id.value=s.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=s.instant(e.value),e})),e}),t.loadingState="INITIAL",t.sortBy=null,t.sortOrder=null,t.checkEndTime=function(e){return e?"history":"runtime"},t.orderClass=function(e){return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(e=e||t.sortBy)===t.sortBy?t.sortOrder:"none"]},t.changeOrder=function(e){t.sortBy=e,t.sortOrder="desc"===t.sortOrder?"asc":"desc",l(t.query,t.pages),d()},t.isStandaloneTask=function(e){return!e.processDefinitionKey&&!e.caseDefinitionKey};var r,c,l=function(n,e){return 0<t.searchConfig.searches.length?(t.loadingState="LOADING",n.firstResult=e.size*(e.current-1),n.maxResults=e.size,t.sortBy=t.sortBy||"startTime",t.sortOrder=t.sortOrder||"desc",n.sortBy=t.sortBy,n.sortOrder=t.sortOrder,o.taskCount(n).then(function(e){return t.total=e.count,e.count?o.task(n).then(function(e){return t.tasks=e,t.loadingState="LOADED",t.total}):(t.loadingState="EMPTY",void(t.tasks=[]))}).catch(function(){return t.loadingState="ERROR"})):(t.loadingState="LOADED",t.tasks=null,t.sortBy=null,t.sortOrder=null,t.total=0,a.when(t.total))};function d(){var e={sortBy:t.sortBy,sortOrder:t.sortOrder};n.set("task-search",e)}t.onSearchChange=function(e,n){return t.query=e,t.pages=n,d(),l(e,n)},r={sortBy:t.sortBy,sortOrder:t.sortOrder},c=n.get("task-search",r),t.sortBy=c.sortBy||null,t.sortOrder=c.sortOrder||"desc"}],priority:0})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],267:[function(i,a,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=i("./views/main");a.exports=n.module("cockpit.plugin.search",[t.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":268}],268:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./search"),i=n.module("cockpit.plugin.search.views",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search":269}],269:[function(e,t,n){(function(e){"use strict";var T="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;function C(e){return 0<=["processDefinitionId","processDefinitionName","processDefinitionKey","processDefinitionVersion"].indexOf(e)?"d"+e.slice("processD".length):e}t.exports=["ViewsProvider",function(e){e.registerDefaultView("cockpit.processes.dashboard",{id:"search-process-instances",label:"Search Process Instances",dashboardMenuLabel:"Search",url:n("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/search/searchField.html",controller:["$scope","camAPI","$sce","localConf","$timeout","$filter","$location","$q","fixDate","$translate","$anchorScroll",function(o,e,r,t,n,c,i,a,s,l,d){var u=Object.keys,p=e.resource("history"),f=e.resource("incident"),g=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "PIprocessInstanceIds",\n        "value": "PLGN_SEAR_PI_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessInstanceBusinessKey",\n        "value": "PLGN_SEAR_PI_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsuperProcessInstanceId",\n        "value": "PLGN_SEAR_PI_PARENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIsubProcessInstanceId",\n        "value": "PLGN_SEAR_PI_SUB_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIcaseInstanceId",\n        "value": "PLGN_SEAR_PI_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionId",\n        "value": "PLGN_SEAR_PI_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionKey",\n        "value": "PLGN_SEAR_PI_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "NotIn",\n          "value": "!="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIprocessDefinitionName",\n        "value": "PLGN_SEAR_PI_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n      "groups": ["PI"],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "PIstartedBy",\n        "value": "PLGN_SEAR_PI_STARTED_BY_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIstartedDate",\n        "value": "PLGN_SEAR_PI_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinishedDate",\n        "value": "PLGN_SEAR_PI_FINISH_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "groups": ["PI"],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "PIfinished",\n        "value": "PLGN_SEAR_PI_FINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIunfinished",\n        "value": "PLGN_SEAR_PI_UNFINISHED_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithIncidents",\n        "value": "PLGN_SEAR_PI_WITH_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIwithRootIncidents",\n        "value": "PLGN_SEAR_PI_WITH_ROOT_INCIDENTS_ONLY"\n      },\n      "groups": ["PI"],\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "PIincidentMessage",\n        "value": "PLGN_SEAR_PI_INCIDENT_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIvariables",\n        "value": "PLGN_SEAR_PI_VARIABLE"\n      },\n      "allowDates": true,\n      "extended": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentStatus",\n        "value": "PLGN_SEAR_PI_INCIDENT_STATUS"\n      },\n      "options": ["open", "resolved"],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIincidentType",\n        "value": "PLGN_SEAR_PI_INCIDENT_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedJobDate",\n        "value": "PLGN_SEAR_PI_JOB_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "PIexecutedActivityDate",\n        "value": "PLGN_SEAR_PI_ACTIVITY_EXECUTION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLGN_SEAR_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true,\n      "groups": ["PI"]\n    },\n    {\n      "id": {\n        "key": "INincidentId",\n        "value": "PLGN_SEAR_INC_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INincidentType",\n        "value": "PLGN_SEAR_INC_TYPE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INincidentMessage",\n        "value": "PLGN_SEAR_INC_MESSAGE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INprocessDefinitionId",\n        "value": "PLGN_SEAR_INC_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INprocessInstanceId",\n        "value": "PLGN_SEAR_INC_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INexecutionId",\n        "value": "PLGN_SEAR_INC_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INactivityId",\n        "value": "PLGN_SEAR_INC_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INcauseIncidentId",\n        "value": "PLGN_SEAR_INC_CAUSE_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INrootCauseIncidentId",\n        "value": "PLGN_SEAR_INC_ROOT_CAUSE_INCIDENT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    },\n    {\n      "id": {\n        "key": "INconfiguration",\n        "value": "PLGN_SEAR_INC_CONFIGURATION"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "groups": ["IN"]\n    }\n  ],\n  "operators": {\n        "undefined":  [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n        "string":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLGN_SEAR_LIKE"\n        }\n      ],\n        "number":     [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        }\n      ],\n        "boolean":    [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }\n      ],\n        "object":     [{\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        }],\n        "date":     [{\n          "key": "lteq",\n          "value": "PLGN_SEAR_BEFORE"\n        },\n        {\n          "key": "gteq",\n          "value": "PLGN_SEAR_AFTER"\n        }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLGN_SEAR_ADD_CRITERIA",\n    "invalid": "PLGN_SEAR_INVALID",\n    "deleteSearch": "PLGN_SEAR_DELETE",\n    "type": "PLGN_SEAR_TYPE",\n    "name": "PLGN_SEAR_NAME",\n    "operator": "PLGN_SEAR_OPERATOR",\n    "value": "PLGN_SEAR_VALUE"\n  }\n}\n');T.forEach(g.tooltips,function(e,n){g.tooltips[n]=l.instant(e)}),g.types.map(function(e){return e.id.value=l.instant(e.id.value),e.operators&&(e.operators=e.operators.map(function(e){return e.value=l.instant(e.value),e})),e}),T.forEach(g.operators,function(e){T.forEach(e,function(e){e.value=l.instant(e.value)})});var h={PI:{duration:l.instant("PLGN_SEAR_DURATION"),processDefinitionName:l.instant("PLGN_SEAR_DEFINITION_NAME"),processDefinitionVersion:l.instant("PLGN_SEAR_DEFINITION_VERSION"),processDefinitionKey:l.instant("PLGN_SEAR_DEFINITION_KEY")},IN:{executionId:l.instant("PLGN_SEAR_EXECUTION"),activityId:l.instant("PLGN_SEAR_ACTIVITY"),processInstanceId:l.instant("PLGN_SEAR_PROCESS_INSTANCE"),causeIncidentId:l.instant("PLGN_SEAR_CAUSE_INCIDENT"),rootCauseIncidentId:l.instant("PLGN_SEAR_ROOT_CAUSE_INCIDENT"),configuration:l.instant("PLGN_SEAR_CONFIGURATION")}},m={PI:{instanceId:l.instant("PLGN_SEAR_INSTANCE_ID"),startTime:l.instant("PLGN_SEAR_START_TIME"),endTime:l.instant("PLGN_SEAR_END_TIME"),businessKey:l.instant("PLGN_SEAR_BUSINESS_KEY"),processDefinitionId:l.instant("PLGN_SEAR_DEFINITION_ID")},IN:{incidentId:l.instant("PLGN_SEAR_INCIDENT_ID"),incidentType:l.instant("PLGN_SEAR_TYPE"),incidentTimestamp:l.instant("PLGN_SEAR_TIME"),processDefinitionId:l.instant("PLGN_SEAR_PROCESS_DEFINITION_ID"),incidentMessage:l.instant("PLGN_SEAR_MESSAGE")}},v={PI:{superProcessInstanceId:l.instant("PLGN_SEAR_SUPER_PROCESS_INSTACE_ID"),superCaseInstanceId:l.instant("PLGN_SEAR_SUPER_CASE_INSTANCE_ID"),caseInstanceId:l.instant("PLGN_SEAR_CASE_INSTANCE_ID"),startUserId:l.instant("PLGN_SEAR_START_USER_ID"),startActivityId:l.instant("PLGN_SEAR_START_ACTIVITY_ID"),deleteReason:l.instant("PLGN_SEAR_DELETE_REASON")},IN:{}};function y(e){var n={};return T.extend(n,h[e],v[e]),u(m[e]||{}).forEach(function(e){delete n[e]}),u(n)}function b(e){e=e||o.getMode();var n=[];y(e).forEach(function(e){o.shownColumns.indexOf(e)<0&&n.push(e)}),o.availableColumns=n}o.availableColumns=y("PI"),o.sortBy=null,o.sortOrder=null,o.shownColumns=[],o.loadingState="INITIAL",o.config=g;o.openBatch=function(){i.path("/batch/operation").search({searchQuery:i.search().searchQuery})},o.isSortableColumn=function(e,n){return!!h[n][e]},o.columnLabel=function(e,n){return h[n][e]||v[n][e]||m[n][e]||l.instant("PLGN_SEAR_NO_LABEL",{name:e})},o.orderClass=function(e){var n=o.config.searches[0]&&o.config.searches[0].type.value.key.substr(0,2);e=e||o.sortBy;return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(e="PI"===n?C(e):e)===o.sortBy?o.sortOrder:"none"]},o.changeOrder=function(e,n){o.sortBy="PI"===n?C(e):e,o.sortOrder="desc"===o.sortOrder?"asc":"desc",S(o.query,o.pages),D(n)},o.addColumn=function(e,n){-1<o.shownColumns.indexOf(e)||(o.shownColumns.push(e),S(o.query,o.pages),D(n))},o.removeColumn=function(n,e){var t=[];o.shownColumns.forEach(function(e){n!==e&&t.push(e)}),o.shownColumns=t,S(o.query,o.pages),D(e)},o.columnRawValue=function(e,n,t){var i=("PI"===t?o.processInstances:o.incidents)[n],a=i[e];if(a)return a;switch(e){case"duration":a=i.durationInMillis}return a},o.columnValue=function(e,n,t){var i,a="";switch(e){case"superProcessInstanceId":a=(i=o.processInstances[n].superProcessInstanceId)?'<a href="#/process-instance/'+i+'/history">'+i+"</a>":"";break;case"processDefinitionId":var s=("PI"===t?o.processInstances:o.incidents)[n].processDefinitionId;a='<a href="#/process-definition/'+s+("PI"===t?'/history">':'">')+s+"</a>";break;case"processInstanceId":a=(i=o.incidents[n].processInstanceId)?'<a href="#/process-instance/'+i+'/runtime?detailsTab=incidents-tab">'+i+"</a>":"";break;case"duration":a=c("duration")(o.processInstances[n].durationInMillis)||"";break;default:a=("PI"===t?o.processInstances:o.incidents)[n][e]||""}return r.trustAsHtml(a.toString())},o.getMode=function(){return o.config&&o.config.searches&&o.config.searches.length?(o.storageGroup=o.config.searches[0].type.value.key.substr(0,2),o.storageGroup):o.storageGroup=null},o.getMode();function I(e,n,t){return"like"!==n.toLowerCase()||/(%)|(_)/.test(e.replace(/(\\%)|(\\_)/g,""))?t.allowDates&&E.test(e)?s(e):e:"%"+e+"%"}function _(e){return!!e.basic||("PIvariables"!==e.type.value.key?I(e.value.value,e.operator.value.key,e):{name:e.name.value,operator:e.operator.value.key,value:I(function(e){return isNaN(e)||""===e.trim()?"true"===e||"false"!==e&&("NULL"===e?null:0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1?e.substr(1,e.length-2):e):+e}(e.value.value),e.operator.value.key,e)})}var E=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/;o.buildCustomQuery=function(e){return e.reduce(function(e,n){return function(e,n){var t=function(e){var n=e.type.value.key,t=e.operator.value.key;return-1!==n.indexOf("Date")&&(n=n.slice(0,-4)),-1!==["After","Before","Like","NotIn"].indexOf(t)&&(n+=t),n.substr(2)}(n),i=_(n);-1!==["variables","processInstanceIds","processDefinitionKeyNotIn"].indexOf(t)?(e[t]=e[t]||[],e[t].push(i)):e[t]=i}(e,n),e},{})};var S=function(n,e){if(0<o.config.searches.length){o.loadingState="LOADING",n.firstResult=e.size*(e.current-1),n.maxResults=e.size;var t=o.storageGroup;if("PI"===t)return o.sortBy||N(t),b(t),n.sortBy=C(o.sortBy),n.sortOrder=o.sortOrder,p.processInstanceCount(n).then(function(e){return o.total=e.count,e.count?p.processInstance(n).then(function(e){return o.processInstances=e,o.loadingState="LOADED",o.total}):(o.processInstances=[],void(o.loadingState="EMPTY"))});if("IN"===t)return o.sortBy||N(t),b(t),n.sortBy=o.sortBy,n.sortOrder=o.sortOrder,f.count(n).then(function(e){return o.total=e.count,e.count?f.get(n).then(function(e){return o.incidents=e,o.loadingState="LOADED",o.total}):(o.incidents=[],void(o.loadingState="EMPTY"))})}return o.processInstances=null,o.incidents=null,o.sortBy=null,o.sortOrder=null,o.shownColumns=[],o.total=0,o.loadingState="INITIAL",a.when(o.total)};function w(){o.isBatchDisabled="LOADED"!==o.loadingState||!o.total}function D(e){o.conf[e]={shownColumns:o.shownColumns,sortBy:o.sortBy,sortOrder:o.sortOrder},t.set("proc-inst-search",o.conf)}function N(e){var n={PI:{shownColumns:[],sortBy:"startTime",sortOrder:"desc"},IN:{shownColumns:[],sortBy:"incidentTimestamp",sortOrder:"desc"}};o.conf=t.get("proc-inst-search",n),o.conf[e]=o.conf[e]||n[e],o.shownColumns=o.conf[e].shownColumns,o.sortBy=o.conf[e].sortBy,o.sortOrder=o.conf[e].sortOrder}o.onSearchChange=function(e){return o.query=e.query,o.pages=e.pages,"search-section"===i.hash()&&d(),S(e.query,e.pages)},o.$watch("loadingState",w),o.$watch("total",w)}],priority:20})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],270:[function(e,t,n){(function(e){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=["$scope","processData","HistoricActivityStatisticsResource",function(e,n,i){n.provide("historicActivityStatistics",["processDefinition","historicActivityQuery",function(e,n){var t={};return a.extend(t,n),t.id=e.id,i.query(t).$promise}])}];t.exports=["DataProvider",function(e){e.registerData("cockpit.processDefinition.history.data",{id:"historic-activity-statistics-data",controller:n,priority:999})}]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],271:[function(a,s,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=a("./historic-activity-statistics-data"),i=n.module("cockpit.plugin.skeleton.data",[]);i.config(t),s.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./historic-activity-statistics-data":270}],272:[function(o,r,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t="undefined"!=typeof window?window["cam-common"]:void 0!==e?e["cam-common"]:null,i=o("./processDefinition"),a=o("./processInstance"),s=n.module("cockpit.plugin.skeleton.pages",[t.name]);i(s),a(s),r.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinition":273,"./processInstance":274}],273:[function(n,t,e){(function(e){"use strict";var O="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,i="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null,x=n("camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils"),R="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;t.exports=function(e){var n=["$scope","$q","routeUtil","search","ProcessDefinitionResource","ProcessInstanceResource","Views","Data","Transform","Variables","dataDepend","processDefinition","page","$location","JobDefinitionResource","$filter","$translate","configuration","Notifications",function(a,e,t,s,i,o,r,n,c,l,d,u,p,f,g,h,m,v,y){a.$root.showBreadcrumbs=!0;var b=a.processData=d.create(a),I=a.pageData=d.create(a);a.diagramCollapsed=!0,a.onDiagramCollapseChange=function(e){a.$$phase?a.diagramCollapsed=e:a.$apply(function(){a.diagramCollapsed=e})},a.hovered=null,a.hoverTitle=function(e){a.hovered=e||null},a.$on("$locationChangeSuccess",function(){var e=E();-1<f.path().indexOf(u.id)&&(x.shouldUpdateFilter(e,_,["activityIds","parentProcessDefinitionId"])&&b.set("filter",e),L(a.processDefinitionTabs))});var _=null;function E(){var e=s();return{activityIds:x.getActivityIdsFromUrlParams("activityIdIn",e),parentProcessDefinitionId:e.parentProcessDefinitionId}}function S(e){var n=e.parentProcessDefinitionId,t=e.activityIds,i=s(),a=JSON.parse(i.searchQuery||"[]");a=i.searchQuery||t.length?x.replaceActivitiesInSearchQuery(a,"activityIdIn",t):null,s.updateSilently({parentProcessDefinitionId:n||null,searchQuery:a?JSON.stringify(a):null}),_=e}b.provide("processDefinition",u),b.provide("filter",E()),b.provide("parentId",["filter",function(e){return e.parentProcessDefinitionId}]),b.provide("parent",["parentId",function(e){return e?i.get({id:e}).$promise:null}]),b.provide("bpmn20Xml",["processDefinition",function(e){return i.getBpmn20Xml({id:e.id}).$promise}]),b.provide("parsedBpmn20",["bpmn20Xml",function(e){return c.transformBpmn20Xml(e.bpmn20Xml)}]),b.provide("bpmnElements",["parsedBpmn20",function(e){return e.bpmnElements}]),b.provide("bpmnDefinition",["parsedBpmn20",function(e){return e.definitions}]),b.provide("allProcessDefinitions",["processDefinition",function(e){var n={key:e.key,sortBy:"version",sortOrder:"desc"};return e.tenantId?n.tenantIdIn=[e.tenantId]:n.withoutTenantId=!0,i.query(n).$promise}]),b.provide("processDiagram",["bpmnDefinition","bpmnElements",function(e,n){var t=a.processDiagram=a.processDiagram||{};return O.extend(t,{bpmnDefinition:e,bpmnElements:n}),t}]),b.provide("instances.all",["processDefinition",function(e){var n={processDefinitionKey:e.key};return e.tenantId?n.tenantIdIn=[e.tenantId]:n.processDefinitionWithoutTenantId=!0,o.count(n).$promise}]),b.provide("instances.current",["processDefinition",function(e){return o.count({processDefinitionId:e.id}).$promise}]),b.provide("activityInstances",["processDefinition",function(e){return g.query({processDefinitionId:e.id}).$promise}]),b.provide(["activityIdToInstancesMap"],["activityInstances","processDefinition","bpmnElements",function(e,n,a){var t,i=a[n.key];function s(e){var n=h("shorten");return e.name||e.$type.substr(5)+" ("+n(e.id,8)+")"}return e.name=s(i),[(t=e)&&t.map(function(e){var n={},t=e.activityId,i=a[t];return e.name=i?s(i):t,n[t]=[e],n})||{}]}]);var w,D,N,T=(w=v.getActivityInstancePeriod(),D=function(e){return-1<["day","week","month","complete"].indexOf(e.unit)?e:(y.addError({status:m.instant("PLGN_HIST_ACTINST_ERROR"),message:m.instant("PLGN_HIST_ACTINST_ERROR_MSG")}),{unit:"day"})}(w),N={completeScope:!0,canceled:!0,finished:!0},D.value=1,"complete"!==w.unit&&(N.startedAfter=R().clone().subtract(D.value,D.unit).format("YYYY-MM-DDTHH:mm:ss.SSSZZ")),N);b.provide("historicActivityQuery",T),a.instanceStatistics=b.observe(["instances.all","instances.current"],function(e,n){a.instanceStatistics.all=e,a.instanceStatistics.current=n}),a.breadcrumbData=b.observe(["processDefinition","parent"],function(n,e){p.breadcrumbsClear();var t=[{label:m.instant("PLGN_SKE_PROCESSES"),href:"#/processes"}];e&&t.push({type:"processDefinition",label:e.name||e.id,href:"#/process-definition/"+e.id+"/history",processDefinition:e});var i=r.getProviders({component:"cockpit.processDefinition.view"});t.push({type:"processDefinition",label:n.name||n.key||n.id,href:"#/process-definition/"+n.id+"/history",processDefinition:n,choices:i.sort(function(e,n){return e.priority<n.priority?-1:e.priority>n.priority?1:0}).map(function(e){return{active:"history"===e.id,label:e.label,href:"#/process-definition/"+n.id+"/"+e.id}})}),p.breadcrumbsAdd(t),p.titleSet([n.name||n.key||n.id,m.instant("PLGN_SKE_HISTORY_DEFINITION_VIEW")].join(" | "))}),a.processDiagramData=b.observe("processDiagram",function(e){a.processDiagram=e}),b.observe("allProcessDefinitions",function(e){a.allProcessDefinitions=e}),b.observe("filter",function(e){if(_!==e){var n=e.activityIds,t=null,i=!1;n&&n.length&&(t=n[n.length-1]),e.scrollToBpmnElement!==t&&(i=!0),e!=_&&S(e),a.filter=_=O.extend({},e,{scrollToBpmnElement:t}),i&&b.set("filter",_),S(_)}}),a.handleBpmnElementSelection=function(e,n){var t=O.copy(_),i=n.ctrlKey,a=O.copy(t.activityIds)||[],s=a.indexOf(e);e?i?-1!==s?a.splice(s,1):a.push(e):a=[e]:a=null,t.activityIds=a||[],b.set("filter",t)},a.processDefinition=u,a.hasReportPlugin=0<r.getProviders({component:"cockpit.report"}).length,a.processDefinitionVars={read:["processDefinition","selection","processData","filter","pageData"]},a.processDefinitionTabs=r.getProviders({component:"cockpit.processDefinition.history.tab"}),a.actions=r.getProviders({component:"cockpit.processDefinition.history.action"}),n.instantiateProviders("cockpit.processDefinition.history.data",{$scope:a,processData:b});var C=r.getProviders({component:"cockpit.processDefinition.history.tab"}).concat(r.getProviders({component:"cockpit.processDefinition.history.action"}));O.forEach(C,function(e){e.label=m.instant(e.label)});for(var P={processDefinition:u,processData:b,pageData:I},A=0;A<C.length;A++)"function"==typeof C[A].initialize&&C[A].initialize(P);function L(e){var n=s().detailsTab;if(e&&e.length){if(n){var t=r.getProvider({component:"cockpit.processDefinition.history.tab",id:n});if(t&&-1!=e.indexOf(t))return void(a.selectedTab=t)}s.updateSilently({detailsTab:null}),a.selectedTab=e[0]}}a.selectTab=function(e){a.selectedTab=e,s.updateSilently({detailsTab:e.id})},L(a.processDefinitionTabs),a.getDeploymentUrl=function(){var e=u.deploymentId,n={deployment:e,resourceName:u.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e}])};return t.redirectTo("#/repository",n,["deployment","resourceName","deploymentsQuery"])};function k(){if(a.allProcessDefinitions){var e=a.allProcessDefinitions.map(function(e){return e.version});return Math.max.apply(null,e)}}a.isLatestVersion=function(){return!!a.processDefinition&&a.processDefinition.version===k()},a.getMigrationUrl=function(){var e=k(),n={sourceKey:a.processDefinition.key,targetKey:a.processDefinition.key,sourceVersion:a.isLatestVersion()?a.processDefinition.version-1:a.processDefinition.version,targetVersion:a.isLatestVersion()?a.processDefinition.version:e};return t.redirectTo("#/migration",n,["sourceKey","targetKey","sourceVersion","targetVersion"])}}],t=["$routeProvider",function(e){e.when("/process-definition/:processDefinitionId/history",{templateUrl:i("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/skeleton/process-definition.html",controller:n,authentication:"required",resolve:{processDefinition:["ResourceResolver","ProcessDefinitionResource",function(e,n){return e.getByRouteParam("processDefinitionId",{name:"process definition",resolve:function(e){return n.get({id:e})}})}]},reloadOnSearch:!1})}];e.config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.view",{id:"history",priority:50,label:"PLGN_SKE_HISTORY",keepSearchParams:["activityIds","parentProcessDefinitionId","businessKey","variables","startedAfter","startedBefore","viewbox"]})}]).config(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-bpm-webapp/ui/common/scripts/util/search-widget-utils":7}],274:[function(e,n,t){(function(e){"use strict";var E="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,i="undefined"!=typeof window?window.jquery:void 0!==e?e.jquery:null;n.exports=function(e){var n=["$scope","$filter","$location","search","routeUtil","ProcessDefinitionResource","HistoricActivityInstanceResource","HistoricProcessInstanceResource","HistoricIncidentResource","Views","Data","Transform","processInstance","dataDepend","page","breadcrumbTrails","integrateActivityInstanceFilter","$translate",function(g,m,e,i,t,n,a,s,o,r,c,l,d,u,p,f,h,v){g.$root.showBreadcrumbs=!0,g.processInstance=d;var y=g.activityInstanceLimit=1500,b=g.processData=u.create(g);function I(e,n){if(!e.superProcessInstanceId)return n(null,null);s.get({id:e.superProcessInstanceId}).$promise.then(function(e){n(null,e)})}function _(e){var n=i().detailsTab;if(e&&e.length){if(n){var t=r.getProvider({component:"cockpit.processInstance.history.tab",id:n});if(t&&-1!=e.indexOf(t))return void(g.selectedTab=t)}i.updateSilently({detailsTab:null}),g.selectedTab=e[0]}}g.diagramCollapsed=!0,g.onDiagramCollapseChange=function(e){g.$$phase?g.diagramCollapsed=e:g.$apply(function(){g.diagramCollapsed=e})},g.hovered=null,g.hoverTitle=function(e){g.hovered=e||null},g.$on("$routeChangeStart",function(){p.breadcrumbsClear()}),b.provide("processInstance",d),b.provide("processDefinition",["processInstance",function(e){return n.get({id:e.processDefinitionId}).$promise}]),b.provide("bpmn20Xml",["processDefinition",function(e){return n.getBpmn20Xml({id:e.id}).$promise}]),b.provide("parsedBpmn20",["bpmn20Xml",function(e){return l.transformBpmn20Xml(e.bpmn20Xml)}]),b.provide("bpmnElements",["parsedBpmn20",function(e){return e.bpmnElements}]),b.provide("bpmnDefinition",["parsedBpmn20",function(e){return e.definitions}]),b.provide("activityInstanceCount",["processInstance",function(e){return a.count({processInstanceId:e.id}).$promise}]),b.provide("activityInstancesRaw",["processInstance","activityInstanceCount",function(e,n){var t={processInstanceId:e.id,sorting:[{sortBy:"occurrence",sortOrder:"asc"}]};return n.count>y&&(t.unfinished=!0),a.query(t).$promise}]),b.provide(["activityInstances","activityInstanceTree","activityIdToInstancesMap","instanceIdToInstanceMap"],["processInstance","activityInstancesRaw","processDefinition","bpmnElements",function(e,n,t,i){for(var a,s=m("shorten"),o={},r={},c=0;a=n[c];c++){var l=a.activityId,d=i[l],u=d&&(d.name||d.$type.substr(5)+" ("+s(d.id,8)+")")||l,p=o[l]=o[l]||[];a.name=u,r[a.id]||(r[a.id]=a),p.push(a)}r[e.id]=e,(o[t.id]=e).name=t.name||t.key,e.activityId=t.id;for(var f,g=0;f=n[g];g++){var h=r[f.parentActivityInstanceId];(h?h.childActivityInstances=h.childActivityInstances||[]:e.childActivityInstances=e.childActivityInstances||[]).push(f)}return n.unshift(e),[n,e,o,r]}]),b.provide("incidents",["processInstance",function(e){return o.query({processInstanceId:e.id}).$promise}]),b.provide("activityIdToIncidentsMap",["incidents",function(e){for(var n,t={},i=0;n=e[i];i++){var a=t[n.activityId];a||(a=[],t[n.activityId]=a),a.push(n)}return t}]),b.provide("processDiagram",["bpmnDefinition","bpmnElements",function(e,n){var t={};return t.bpmnDefinition=e,t.bpmnElements=n,t}]),h(g,_),g.processDefinition=b.observe("processDefinition",function(e){g.processDefinition=e}),g.getDeploymentUrl=function(){var e=g.processDefinition.deploymentId,n={deployment:e,resourceName:g.processDefinition.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e}])};return t.redirectTo("#/repository",n,["deployment","resourceName","deploymentsQuery"])},b.provide("superProcessInstanceCount",["processInstance",function(e){return s.count({subProcessInstanceId:e.id}).$promise}]),b.observe(["processDefinition","processInstance","superProcessInstanceCount"],function(e,n,t){var i=[{label:v.instant("PLGN_SKE_PROCESSES"),href:"#/processes/"}];t.count&&i.push(function(e){f(n,I,[],e,"history")}),i.push({label:e.name||e.key||e.id,href:"#/process-definition/"+e.id+"/history",keepSearchParams:["viewbox"]});var a=r.getProviders({component:"cockpit.processInstance.view"});i.push({type:"processInstance",processInstance:n,divider:":",label:n.name||n.key||n.id,href:"#/process-instance/"+n.id+"/history",choices:a.sort(function(e,n){return e.priority<n.priority?-1:e.priority>n.priority?1:0}).map(function(e){return{active:"history"===e.id,label:e.label,href:"#/process-instance/"+n.id+"/"+e.id}})}),p.breadcrumbsClear().breadcrumbsAdd(i),p.titleSet([v.instant("PLGN_SKE_CAMUNDA_COCKPIT"),g.processDefinition.name||g.processDefinition.id,v.instant("PLGN_SKE_HISTORY_INSTANCE_VIEW")].join(" | "))}),g.processDiagram=b.observe("processDiagram",function(e){g.processDiagram=e}),b.observe("activityInstanceCount",function(e){g.activityInstanceCount=e.count}),b.observe("activityInstanceTree",function(e){g.activityInstanceTree=e}),b.observe(["instanceIdToInstanceMap","activityIdToInstancesMap"],function(e,n){g.instanceIdToInstanceMap=e,g.activityIdToInstancesMap=n}),g.handleBpmnElementSelection=function(e,n){if(e){var t,i=n.ctrlKey,a=E.copy(g.filter.activityIds)||[],s=E.copy(g.filter.activityInstanceIds)||[],o=a.indexOf(e),r=g.activityIdToInstancesMap[e];i?i&&(-1===o?(a.push(e),E.forEach(r,function(e){s.push(e.id)})):-1!==o&&(a.splice(o,1),E.forEach(r,function(e){var n=e.id,t=s.indexOf(n);-1!==t&&s.splice(t,1)}))):(a=[e],s=[],E.forEach(r,function(e){s.push(e.id)})),t={activityIds:a,activityInstanceIds:s},b.set("filter",t)}else b.set("filter",{})},g.handleActivityInstanceSelection=function(e,n,t){if(e){var i,a=t.ctrlKey,s=E.copy(g.filter.activityIds)||[],o=E.copy(g.filter.activityInstanceIds)||[],r=o.indexOf(e),c=g.activityIdToInstancesMap[n];if(a){if(a)if(-1===r){o.push(e),-1===s.indexOf(n)&&s.push(n)}else{o.splice(r,1);var l=!1;if(c)for(var d,u=0;d=c[u];u++){var p=d.id;-1!==o.indexOf(p)&&(l=!0)}if(!l){var f=s.indexOf(n);s.splice(f,1)}}}else s=[n],o=[e];i={activityIds:s,activityInstanceIds:o,scrollToBpmnElement:n},b.set("filter",i)}else b.set("filter",{})},g.processInstanceVars={read:["processInstance","processData","filter"]},g.processInstanceTabs=r.getProviders({component:"cockpit.processInstance.history.tab"}),g.processInstanceActions=r.getProviders({component:"cockpit.processInstance.history.action"}),c.instantiateProviders("cockpit.processInstance.history.data",{$scope:g,processData:b}),g.selectTab=function(e){g.selectedTab=e,i.updateSilently({detailsTab:e.id})},_(g.processInstanceTabs)}];e.controller("HistoryProcessInstanceFilterController",["$scope","$translate",function(n,e){var i,t=n.processData.newChild(n);t.provide("filterData",["filter",function(e){if(i&&i.filter==e)return i;var n=e.activityIds||[],t=e.activityInstanceIds||[];return{filter:e,activityCount:n.length||0,activityInstanceCount:t.length||0}}]),t.observe(["filterData"],function(e){n.filterData=i=e}),n.clearSelection=function(){i={activityCount:0,activityInstanceCount:0,filter:{}},t.set("filter",i.filter)},n.getDataWhen=function(){return{null:e.instant("PLGN_SKE_NOTHING"),0:e.instant("PLGN_SKE_NOTHING"),one:e.instant("PLGN_SKE_ONE_ACTIVITY_INSTANCE"),other:e.instant("PLGN_SKE_ACTIVITY_INSTANCES")}},n.sidebarTab="info"}]);var t=["$routeProvider",function(e){e.when("/process-instance/:processInstanceId/history",{templateUrl:i("base").attr("cockpit-api")+"plugin/cockpitEE/static/app/skeleton/process-instance.html",controller:n,authentication:"required",resolve:{processInstance:["ResourceResolver","HistoricProcessInstanceResource",function(e,n){return e.getByRouteParam("processInstanceId",{name:"process instance",resolve:function(e){return n.get({id:e})}})}]},reloadOnSearch:!1})}];e.config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.view",{id:"history",priority:50,label:"PLGN_SKE_HISTORY",keepSearchParams:["activityInstanceIds","activityIds","viewbox"]})}]).config(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],275:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/activity-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}}})}]},{}],276:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/process-definition/:id/:action"),{id:"@id"},{query:{method:"GET",isArray:!0,params:{action:"statistics"}}})}]},{}],277:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/incident/:action"),{},{count:{method:"GET",isArray:!1,params:{count:"count"}}})}]},{}],278:[function(e,n,t){"use strict";n.exports=["$resource","Uri",function(e,n){return e(n.appUri("engine://engine/:engine/history/process-instance/:id/:action"),{id:"@id"},{count:{method:"POST",isArray:!1,params:{id:"count"}}})}]},{}],279:[function(r,c,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=r("./historicProcessInstance"),i=r("./historicActivityInstance"),a=r("./historicActivityStatistics"),s=r("./historicIncident"),o=n.module("cockpit.plugin.skeleton.resources",[]);o.factory("HistoricProcessInstanceResource",t),o.factory("HistoricActivityInstanceResource",i),o.factory("HistoricActivityStatisticsResource",a),o.factory("HistoricIncidentResource",s),c.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./historicActivityInstance":275,"./historicActivityStatistics":276,"./historicIncident":277,"./historicProcessInstance":278}],280:[function(s,o,e){(function(e){"use strict";var n="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=s("./cockpit/pages/main"),i=s("./cockpit/resources/main"),a=s("./cockpit/data/main");o.exports=n.module("cockpit.plugin.skeleton",[t.name,i.name,a.name])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cockpit/data/main":271,"./cockpit/pages/main":272,"./cockpit/resources/main":279}],281:[function(e,n,t){"use strict";var m=e("camunda-commons-ui/vendor/angular"),v=e("./operationsTableUtils");n.exports=["camAPI","search","debounce","$translate","localConf","routeUtil","$uibModal",function(d,e,u,p,f,g,h){return{scope:{categorys:"@?",searchConfig:"="},link:function(a){a.loadingState="LOADING";var n=d.resource("history"),t=0,e=a.searchConfig=a.searchConfig||{};a.operations=[],a.categorys&&(a.categorys=a.categorys.split(","));var i=a.utils=new v(d,p,g),s=e.columns;function o(e,n){return f.get(e,n)}function r(e,n){f.set(e,n)}a.multiSpaceColumns=e.multiSpaceColumns,a.shownColumns=o(a.categorys+":shownColumns",e.defaultColumns),a.availableColumns=s.filter(function(e){return-1===a.shownColumns.indexOf(e)}),a.addColumn=function(e){a.availableColumns.splice(a.availableColumns.indexOf(e),1);for(var n=0,t=s.indexOf(e);-1<s.indexOf(a.shownColumns[n])&&s.indexOf(a.shownColumns[n])<t;)n++;a.shownColumns.splice(n,0,e),r(a.categorys+":shownColumns",a.shownColumns)},a.removeColumn=function(e){a.shownColumns.splice(a.shownColumns.indexOf(e),1),a.availableColumns.splice(s.indexOf(e),0,e),r(a.categorys+":shownColumns",a.shownColumns)},a.sorting=o("sortOperationsTable",{sortBy:"timestamp",sortOrder:"desc"}),a.orderClass=function(){return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[a.sorting.sortOrder]},a.changeOrder=function(){a.sorting.sortOrder="desc"===a.sorting.sortOrder?"asc":"desc",r("sortOperationsTable",a.sorting),l()};for(var c in a.loadMore=function(){var e=m.copy(a.query)||{};e.firstResult=t,e.maxResults=50,a.loadingState="LOADING",n.userOperation(e,function(e,n){e?(a.errorMessage=e,a.loadingState="ERROR"):0<n.length?(t+=50,function(e){function t(e,n){return"string"!=typeof e.property?-1:"string"!=typeof n.property?1:e.property.localeCompare(n.property)}var i=a.operations;e.forEach(function(e){var n=i[i.length-1];n&&n.operationId===e.operationId?n.operations.push(e):(n&&(n.operations=n.operations.sort(t)),e.operations=[m.copy(e)],i.push(e))});var n=i[i.length-1];n&&(n.operations=n.operations.sort(t))}(n),i.updateTranslateMapsWith(n),a.loadingState=n.length<50?"ALL":"LOADED"):a.loadingState="EMPTY"})},e.types.forEach(function(e){e.id.value=p.instant(e.id.value),e.operators&&e.operators.forEach(function(e){e.value=p.instant(e.value)})}),e.tooltips)e.tooltips[c]=p.instant(e.tooltips[c]);var l=u(function(){var n={};m.forEach(a.searches,function(e){"object"==typeof n[e.type.value.key]?n[e.type.value.key].push({name:i.getQueryParamBySearch(e),operator:e.operator.value.key,value:i.getQueryValueBySearch(e)}):n[i.getQueryParamBySearch(e)]=i.getQueryValueBySearch(e)}),n.sortBy=a.sorting.sortBy,n.sortOrder=a.sorting.sortOrder,a.categorys&&(n.categoryIn=a.categorys),JSON.stringify(n)!==JSON.stringify(a.query)&&(a.operations=[],t=0,a.query=m.copy(n),a.loadMore())},100);a.viewVariable=function(e,n){"orgValue"!==n&&"newValue"!==n||h.open({template:'\x3c!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html --\x3e\n<div class="modal-header">\n  <h3 translate="CAM_WIDGET_STRING_DIALOG_TITLE"\n      translate-values="{name: variable.name}"></h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label for="value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">\n      {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n    </label>\n    <textarea ng-model="variable.value"\n              id="value"\n              rows="10"\n              class="form-control cam-string-variable"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html --\x3e\n',controller:["$scope","variable",function(e,n){e.variable=n,e.readonly=!0}],windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return{name:e.property,value:i.parsedValue(e,n),type:"String"}}}}).result.catch(m.noop)},a.$watch("[searches]",l,!0)},template:'<section class="operation-log">\n  <div class="inner">\n    <header>\n      <div class="pull-left">\n        <h1 class="section-title">{{\'PLGN_AUDIT_LOG_LABEL\' | translate}}</h1>\n      </div>\n      <div class="pull-right">\n        <div class="search-results-sorting dropdown"\n              uib-dropdown>\n          <button class="btn btn-default dropdown-toggle" ng-disabled="!availableColumns.length" uib-dropdown-toggle>\n            {{ \'PLGN_SEAR_ADD_COLUMN\' | translate }}\n            <span class="glyphicon glyphicon-plus-sign"></span>\n          </button>\n\n          <ul uib-dropdown-menu class="dropdown-menu dropdown-menu-right">\n            <li ng-repeat="column in availableColumns" ng-class="column">\n              <a ng-click="addColumn(column)">{{ utils.columnLabel(column) }}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n\n    <div cam-widget-search\n         cam-widget-search-valid-searches="searches"\n         cam-widget-search-translations="searchConfig.tooltips"\n         cam-widget-search-types="searchConfig.types"\n         cam-widget-search-operators="searchConfig.operators"\n         cam-widget-search-storage-group="\'AUDIT\'"\n         cam-widget-search-mode="search"></div>\n\n    <div class="row">\n\n    </div>\n\n    <div class="table-wrapper">\n      <table class=\'cam-table\'>\n        <thead>\n        <th ng-repeat="column in shownColumns" ng-class=column>\n          <a ng-click="removeColumn(column)">\n            <span class="glyphicon glyphicon-remove-sign"></span>\n          </a>\n\n          <span class="column-label">{{ utils.columnLabel(column) }}</span>\n\n          <a ng-click="changeOrder()" ng-if="column === \'timestamp\'">\n            <span class="glyphicon" ng-class="orderClass()"></span>\n          </a>\n        </th>\n        </thead>\n\n        <tbody>\n        <tr ng-repeat="operationGroup in operations">\n          <td ng-repeat="column in shownColumns" ng-class="column">\n            <table ng-if="operationGroup.operations.length > 1 && multiSpaceColumns.indexOf(column) > -1">\n              <tr ng-repeat="operation in operationGroup.operations">\n                <td>\n                    <span ng-if="utils.rawValue(operation, column)"\n                          cam-widget-clipboard="utils.rawValue(operation, column)">\n                      <span ng-click="viewVariable(operation, column)" ng-if="column===\'orgValue\' || column===\'newValue\'">\n                        {{utils.parsedValue(operation, column)}}</span>\n                      <span ng-if="!(column===\'orgValue\' || column===\'newValue\')">\n                        {{utils.parsedValue(operation, column)}}</span>\n                    </span>\n                    <span ng-if="!utils.rawValue(operation, column)">&nbsp;</span>\n                </td>\n              </tr>\n            </table>\n            <div ng-if="operationGroup.operations.length <= 1 || multiSpaceColumns.indexOf(column) === -1">\n              <a ng-if="utils.linkValue(operationGroup, column) && utils.parsedValue(operationGroup, column)" ng-href="{{utils.linkValue(operationGroup, column)}}">\n                <span ng-if="utils.rawValue(operationGroup, column)" cam-widget-clipboard="utils.rawValue(operationGroup, column)">{{utils.parsedValue(operationGroup, column)}}</span>\n              </a>\n              <div ng-if="!utils.linkValue(operationGroup, column) && utils.parsedValue(operationGroup, column)">\n                <span ng-if="utils.rawValue(operationGroup, column)"\n                      cam-widget-clipboard="utils.rawValue(operationGroup, column)">\n                      <span ng-click="viewVariable(operationGroup, column)" ng-if="column===\'orgValue\' || column===\'newValue\'">\n                        {{utils.parsedValue(operationGroup, column)}}</span>\n                      <span ng-if="!(column===\'orgValue\' || column===\'newValue\')">\n                        {{utils.parsedValue(operationGroup, column)}}</span>\n                </span>\n              </div>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class="audit-notification" style="text-align: center;" ng-if="shownColumns.length === 0">\n      {{ \'PLGN_AUDIT_NO_COLUMNS\' | translate }}\n    </div>\n    <div cam-widget-loader\n         loading-state="{{ loadingState }}"\n         text-empty="{{ \'PLGN_AUDIT_TEXT_EMPTY\' | translate }}"\n         text-error="{{ errorMessage }}">\n      <div class="audit-loader">\n        <button ng-click="loadMore()" ng-if="loadingState!==\'ALL\' && shownColumns.length > 0" class="btn btn-default">\n          <span class="glyphicon glyphicon-arrow-down"></span> {{ \'PLGN_AUDIT_LOAD_MORE\' | translate}}\n        </button>\n      </div>\n    </div>\n  </div>\n</section>\n'}}]},{"./operationsTableUtils":282,"camunda-commons-ui/vendor/angular":10}],282:[function(n,t,e){(function(e){"use strict";var m=n("camunda-commons-ui/vendor/angular"),v="undefined"!=typeof window?window.moment:void 0!==e?e.moment:null;t.exports=function(e,n,c){var t=e.resource("process-definition"),i=e.resource("deployment"),a=e.resource("user"),s=e.resource("history"),o=e.resource("case-definition"),r=e.resource("job-definition"),l=[],d=[],u=[],p=[],f=[],g=[];this.coloumnTranslations={operationId:n.instant("PLGN_AUDIT_ID"),operationType:n.instant("PLGN_AUDIT_OPERATION"),userId:n.instant("PLGN_AUDIT_USER"),timestamp:n.instant("PLGN_AUDIT_TIME"),property:n.instant("PLGN_AUDIT_PROPERTY"),newValue:n.instant("PLGN_AUDIT_NEW_VALUE"),processDefinitionId:n.instant("PLGN_AUDIT_PROCESS"),processInstanceId:n.instant("PLGN_AUDIT_PROCESS_INSTANCE"),taskId:n.instant("PLGN_AUDIT_TASK"),caseDefinitionId:n.instant("PLGN_AUDIT_CASE_DEFINITION"),caseInstanceId:n.instant("PLGN_AUDIT_CASE_INSTANCE"),jobDefinitionId:n.instant("PLGN_AUDIT_JOB_DEFINITION"),jobId:n.instant("PLGN_AUDIT_JOB"),batchId:n.instant("PLGN_AUDIT_BATCH"),deploymentId:n.instant("PLGN_AUDIT_DEPLOYMENT"),orgValue:n.instant("PLGN_AUDIT_ORIGINAL_VALUE"),entityType:n.instant("PLGN_AUDIT_ENTITY")},this.columnLabel=function(e){return this.coloumnTranslations[e]||e},this.rawValue=function(e,n){return e[n]},this.parsedValue=function(e,n){var t=e[n];switch(n){case"userId":t=u[t]?u[t].firstName+" "+u[t].lastName:t;break;case"processDefinitionId":l[t]&&(t=l[t].name?l[t].name:l[t].key);break;case"caseDefinitionId":f[t]&&(t=f[t].name?f[t].name:f[t].key);break;case"deploymentId":d[t]&&(t=d[t].name?d[t].name:t);break;case"orgValue":case"newValue":if(t&&"type"===e.property&&"Authorization"===e.entityType)switch(t){case"0":t="GLOBAL";break;case"1":t="ALLOW";break;case"2":t="DENY"}t&&-1<["removalTime","followUpDate","dueDate","duedate"].indexOf(e.property)&&(t=v(parseInt(t)).format("YYYY-MM-DDTHH:mm:ss"));break;case"taskId":p[t]&&(t=p[t].name?p[t].name:t);break;case"timestamp":t=v(t,v.ISO_8601).format("YYYY-MM-DDTHH:mm:ss")}return t},this.linkValue=function(e,n){var t="";switch(n){case"processDefinitionId":t="#/process-definition/"+e.processDefinitionId;break;case"processInstanceId":t="#/process-instance/"+e.processInstanceId;break;case"caseDefinitionId":t="#/case-definition/"+e.caseDefinitionId;break;case"caseInstanceId":t="#/case-instance/"+e.caseInstanceId;break;case"batchId":t="#/batch?details="+e.batchId+"&type=history";break;case"jobDefinitionId":if(g[e.jobDefinitionId]){var i="#/process-definition/"+g[e.jobDefinitionId].processDefinitionId+"/runtime",a=g[e.jobDefinitionId].activityId,s={detailsTab:"job-definition-table",searchQuery:JSON.stringify([{type:"activityIdIn",operator:"eq",value:a}])};t=c.redirectTo(i,s,["detailsTab","searchQuery"])}break;case"taskId":e.processInstanceId?t="#/process-instance/"+e.processInstanceId+"/history?detailsTab=user-tasks-tab":e.caseInstanceId&&(t="#/case-instance/"+e.caseInstanceId+"?detailsTab=user-tasks");break;case"deploymentId":var o=e.deploymentId,r={deployment:o,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:o}])};t=c.redirectTo("#/repository",r,["deployment","resourceName","deploymentsQuery"])}return t};function h(e,n,t){var i=[];return e.forEach(function(e){!e[t]||n[e[t]]||-1<i.indexOf(e[t])||i.push(e[t])}),i}this.updateTranslateMapsWith=function(e){!function(e){var n=h(e,d,"deploymentId");0<n.length&&n.forEach(function(e){i.get(e,function(e,n){e||(d[n.id]=n)}).catch(m.noop)})}(e),function(e){var n=h(e,l,"processDefinitionId");0<n.length&&t.list({processDefinitionIdIn:n.toString()},function(e,n){e||n.items.forEach(function(e){l[e.id]=e})}).catch(m.noop)}(e),function(e){var n=h(e,u,"userId");0<n.length&&a.list({idIn:n.toString()},function(e,n){n.forEach(function(e){u[e.id]=e})}).catch(m.noop)}(e),function(e){var n=h(e,p,"taskId");0<n.length&&n.forEach(function(e){s.task({taskId:e},function(e,n){if(!e){var t=n[0];p[t.id]=t}}).catch(m.noop)})}(e),function(e){var n=h(e,f,"caseDefinitionId");0<n.length&&o.list({caseDefinitionIdIn:n.toString()},function(e,n){e||n.forEach(function(e){f[e.id]=e})}).catch(m.noop)}(e),function(e){var n=h(e,g,"jobDefinitionId");0<n.length&&n.forEach(function(e){r.get(e,function(e,n){e||(g[n.id]=n)}).catch(m.noop)})}(e)};this.getQueryValueBySearch=function(e){return!!e.basic||function(e,n,t){return"like"!==n.toLowerCase()||/(%)|(_)/.test(e.replace(/(\\%)|(\\_)/g,""))?"in"===n?e.split(","):t.allowDates?v(e,v.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):e:"%"+e+"%"}(function(e,n){return n?""+e:isNaN(e)||""===e.trim()?"true"===e||"false"!==e&&("NULL"===e?null:0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1?e.substr(1,e.length-2):e):+e}(e.value.value,e.enforceString),e.operator.value.key,e)},this.getQueryParamBySearch=function(e){var n=e.type.value.key,t=e.operator.value.key;return-1!==["after","before"].indexOf(t)&&(n=t+n),n}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"camunda-commons-ui/vendor/angular":10}]},{},[82])(82)});